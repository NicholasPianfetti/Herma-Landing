{"ast":null,"code":"// src/utils/analytics.js\nimport ReactGA from 'react-ga4';\n\n/**\r\n * Initialize analytics with enhanced configuration options\r\n */\nexport const initializeAnalytics = () => {\n  ReactGA.initialize('G-FSS7V9WPY5', {\n    debug: process.env.NODE_ENV === 'development',\n    testMode: false,\n    gaOptions: {\n      siteSpeedSampleRate: 100,\n      cookieFlags: 'SameSite=None;Secure'\n    },\n    gtagOptions: {\n      send_page_view: false,\n      allow_google_signals: true,\n      allow_ad_personalization_signals: true\n    }\n  });\n};\n\n/**\r\n * Track app users specially on your website\r\n * Call this function early in your website's load sequence\r\n */\nexport const trackAppUsers = () => {\n  // Get URL parameters\n  const urlParams = new URLSearchParams(window.location.search);\n  const source = urlParams.get('utm_source');\n  const medium = urlParams.get('utm_medium');\n  const campaign = urlParams.get('utm_campaign');\n\n  // If user came from the app, track it specially\n  if (source === 'herma_app') {\n    // Track as a special event\n    ReactGA.event({\n      category: 'App Users',\n      action: 'Website Visit',\n      label: medium || 'Unknown Medium',\n      // Include more useful data\n      campaign: campaign || 'Unknown Campaign',\n      nonInteraction: false\n    });\n\n    // Set a user property to mark this as an app user\n    ReactGA.gtag('set', 'user_properties', {\n      is_app_user: 'true',\n      app_referral_medium: medium || 'Unknown Medium',\n      app_referral_campaign: campaign || 'Unknown Campaign'\n    });\n\n    // Store in localStorage for session persistence\n    localStorage.setItem('appUser', 'true');\n    localStorage.setItem('appUserFirstSeen', Date.now().toString());\n\n    // Track acquisition source for returning visitors\n    if (!localStorage.getItem('appUserSource')) {\n      localStorage.setItem('appUserSource', medium || 'Unknown');\n    }\n  }\n\n  // Check if this is a returning app user\n  const isAppUser = localStorage.getItem('appUser') === 'true';\n  if (isAppUser && !source) {\n    const firstSeen = localStorage.getItem('appUserFirstSeen');\n    const appSource = localStorage.getItem('appUserSource') || 'Unknown';\n    const daysSinceFirstVisit = firstSeen ? Math.floor((Date.now() - parseInt(firstSeen)) / (1000 * 60 * 60 * 24)) : 'unknown';\n\n    // Track returning app user\n    ReactGA.event({\n      category: 'App Users',\n      action: 'Returning Visit',\n      label: `Original Source: ${appSource}`,\n      value: parseInt(daysSinceFirstVisit) || 0,\n      nonInteraction: false\n    });\n  }\n};\n\n/**\r\n * Call this at the end of form submissions\r\n * to track conversion success rates for app users vs. regular users\r\n */\nexport const trackConversion = conversionType => {\n  const isAppUser = localStorage.getItem('appUser') === 'true';\n  let appSource = 'N/A';\n  let daysSinceFirstVisit = 0;\n  if (isAppUser) {\n    appSource = localStorage.getItem('appUserSource') || 'Unknown';\n    const firstSeen = localStorage.getItem('appUserFirstSeen');\n    daysSinceFirstVisit = firstSeen ? Math.floor((Date.now() - parseInt(firstSeen)) / (1000 * 60 * 60 * 24)) : 0;\n  }\n  ReactGA.event({\n    category: 'Conversion',\n    action: conversionType,\n    label: isAppUser ? 'App User' : 'Regular User',\n    // Send additional data to help with analysis\n    app_user: isAppUser ? 'yes' : 'no',\n    app_source: appSource,\n    days_since_first_visit: daysSinceFirstVisit,\n    nonInteraction: false\n  });\n};","map":{"version":3,"names":["ReactGA","initializeAnalytics","initialize","debug","process","env","NODE_ENV","testMode","gaOptions","siteSpeedSampleRate","cookieFlags","gtagOptions","send_page_view","allow_google_signals","allow_ad_personalization_signals","trackAppUsers","urlParams","URLSearchParams","window","location","search","source","get","medium","campaign","event","category","action","label","nonInteraction","gtag","is_app_user","app_referral_medium","app_referral_campaign","localStorage","setItem","Date","now","toString","getItem","isAppUser","firstSeen","appSource","daysSinceFirstVisit","Math","floor","parseInt","value","trackConversion","conversionType","app_user","app_source","days_since_first_visit"],"sources":["C:/Users/nickp/OneDrive/GT Classes/Spring 2025/Herma/Landing/Herma-Landing/frontend/src/utils/analytics.js"],"sourcesContent":["// src/utils/analytics.js\r\nimport ReactGA from 'react-ga4';\r\n\r\n/**\r\n * Initialize analytics with enhanced configuration options\r\n */\r\nexport const initializeAnalytics = () => {\r\n  ReactGA.initialize('G-FSS7V9WPY5', {\r\n    debug: process.env.NODE_ENV === 'development',\r\n    testMode: false,\r\n    gaOptions: {\r\n      siteSpeedSampleRate: 100,\r\n      cookieFlags: 'SameSite=None;Secure'\r\n    },\r\n    gtagOptions: {\r\n      send_page_view: false,\r\n      allow_google_signals: true,\r\n      allow_ad_personalization_signals: true,\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Track app users specially on your website\r\n * Call this function early in your website's load sequence\r\n */\r\nexport const trackAppUsers = () => {\r\n  // Get URL parameters\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const source = urlParams.get('utm_source');\r\n  const medium = urlParams.get('utm_medium');\r\n  const campaign = urlParams.get('utm_campaign');\r\n  \r\n  // If user came from the app, track it specially\r\n  if (source === 'herma_app') {\r\n    // Track as a special event\r\n    ReactGA.event({\r\n      category: 'App Users',\r\n      action: 'Website Visit',\r\n      label: medium || 'Unknown Medium',\r\n      // Include more useful data\r\n      campaign: campaign || 'Unknown Campaign',\r\n      nonInteraction: false\r\n    });\r\n    \r\n    // Set a user property to mark this as an app user\r\n    ReactGA.gtag('set', 'user_properties', {\r\n      is_app_user: 'true',\r\n      app_referral_medium: medium || 'Unknown Medium',\r\n      app_referral_campaign: campaign || 'Unknown Campaign'\r\n    });\r\n    \r\n    // Store in localStorage for session persistence\r\n    localStorage.setItem('appUser', 'true');\r\n    localStorage.setItem('appUserFirstSeen', Date.now().toString());\r\n    \r\n    // Track acquisition source for returning visitors\r\n    if (!localStorage.getItem('appUserSource')) {\r\n      localStorage.setItem('appUserSource', medium || 'Unknown');\r\n    }\r\n  }\r\n  \r\n  // Check if this is a returning app user\r\n  const isAppUser = localStorage.getItem('appUser') === 'true';\r\n  if (isAppUser && !source) {\r\n    const firstSeen = localStorage.getItem('appUserFirstSeen');\r\n    const appSource = localStorage.getItem('appUserSource') || 'Unknown';\r\n    const daysSinceFirstVisit = firstSeen ? \r\n      Math.floor((Date.now() - parseInt(firstSeen)) / (1000 * 60 * 60 * 24)) : \r\n      'unknown';\r\n    \r\n    // Track returning app user\r\n    ReactGA.event({\r\n      category: 'App Users',\r\n      action: 'Returning Visit',\r\n      label: `Original Source: ${appSource}`,\r\n      value: parseInt(daysSinceFirstVisit) || 0,\r\n      nonInteraction: false\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Call this at the end of form submissions\r\n * to track conversion success rates for app users vs. regular users\r\n */\r\nexport const trackConversion = (conversionType) => {\r\n  const isAppUser = localStorage.getItem('appUser') === 'true';\r\n  let appSource = 'N/A';\r\n  let daysSinceFirstVisit = 0;\r\n  \r\n  if (isAppUser) {\r\n    appSource = localStorage.getItem('appUserSource') || 'Unknown';\r\n    const firstSeen = localStorage.getItem('appUserFirstSeen');\r\n    daysSinceFirstVisit = firstSeen ? \r\n      Math.floor((Date.now() - parseInt(firstSeen)) / (1000 * 60 * 60 * 24)) : 0;\r\n  }\r\n  \r\n  ReactGA.event({\r\n    category: 'Conversion',\r\n    action: conversionType,\r\n    label: isAppUser ? 'App User' : 'Regular User',\r\n    // Send additional data to help with analysis\r\n    app_user: isAppUser ? 'yes' : 'no',\r\n    app_source: appSource,\r\n    days_since_first_visit: daysSinceFirstVisit,\r\n    nonInteraction: false\r\n  });\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}