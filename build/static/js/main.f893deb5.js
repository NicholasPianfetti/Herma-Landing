/*! For license information please see main.f893deb5.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},148:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;"undefined"!==typeof window&&("undefined"===typeof window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(r=window).gtag.apply(r,t))};t.default=n},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,A={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:A.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),k(o,t,i,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=k(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=k(a=a.value,t,i,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:A};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(E);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!k());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,S=!1,T=null,N=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function _(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?A():(S=!1,T=null)}}else S=!1}if("function"===typeof b)A=function(){b(_)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=_,A=function(){R.postMessage(null)}}else A=function(){v(_,0)};function j(e){T=e,S||(S=!0,A())}function P(e,n){N=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,P(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(E))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},279:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.Ay=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(979));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}i.GA4;var o=i.default;t.Ay=o},380:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e||"";t&&(s=e.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,r){return t>0&&t+e.length!==r.length&&e.search(n)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})));i&&(s=function(e){if(function(e){return"string"===typeof e&&-1!==e.indexOf("@")}(e))return console.warn("This arg looks like an email address, redacting."),r;return e}(s));return s};var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var r="REDACTED (Potential Email Address)"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var D,M=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function H(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ae=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function Ne(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Ie(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function ke(){}var _e=!1;function Oe(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ce(e,t,n)}finally{_e=!1,(null!==Ae||null!==Se)&&(ke(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){je=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Me=null,Ue=!1,Fe=null,He={onError:function(e){De=!0,Me=e}};function Ve(e,t,n,r,i,s,o,a,l){De=!1,Me=null,Le.apply(He,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,At,St,Tt,Nt=!1,It=[],Ct=null,kt=null,_t=null,Ot=new Map,Rt=new Map,jt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Ht(){Nt=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==kt&&Ut(kt)&&(kt=null),null!==_t&&Ut(_t)&&(_t=null),Ot.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Bt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==kt&&Vt(kt,e),null!==_t&&Vt(_t,e),Ot.forEach(t),Rt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var zt=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Gt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Kt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return kt=Dt(kt,e,t,n,r,i),!0;case"mouseover":return _t=Dt(_t,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Dt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Dt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=$t(e,t,n,r))&&Wr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Tn(){return Sn}var Nn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Nn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),_n=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(On),jn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Ur(e,0)}function $n(e){if(K(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];qn(t,Kn,e,xe(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Ar={},Sr={};function Tr(e){if(Ar[e])return Ar[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ar[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Nr=Tr("animationend"),Ir=Tr("animationiteration"),Cr=Tr("animationstart"),kr=Tr("transitionend"),_r=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){_r.set(e,t),l(t,[e])}for(var jr=0;jr<Or.length;jr++){var Pr=Or[jr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Nr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Me;De=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Hr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=s,i=xe(n),o=[];e:{var a=_r.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Nr:case Ir:case Cr:l=vn;break;case kr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Wn(a))if(Xn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Hn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Re(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(qr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Ei=[],Ai=-1;function Si(e){return{current:e}}function Ti(e){0>Ai||(e.current=Ei[Ai],Ei[Ai]=null,Ai--)}function Ni(e,t){Ai++,Ei[Ai]=e.current,e.current=t}var Ii={},Ci=Si(Ii),ki=Si(!1),_i=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ti(ki),Ti(Ci)}function Pi(e,t,n){if(Ci.current!==Ii)throw Error(s(168));Ni(Ci,t),Ni(ki,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return M({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,_i=Ci.current,Ni(Ci,e),Ni(ki,ki.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,Ti(ki),Ti(Ci),Ni(Ci,e)):Ti(ki),Ni(ki,n)}var Ui=null,Fi=!1,Hi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Hi&&null!==Ui){Hi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Hi=!1}}return null}var zi=[],Wi=0,qi=null,Gi=0,Ki=[],Yi=0,$i=null,Qi=1,Xi="";function Ji(e,t){zi[Wi++]=Gi,zi[Wi++]=qi,qi=e,Gi=t}function Zi(e,t,n){Ki[Yi++]=Qi,Ki[Yi++]=Xi,Ki[Yi++]=$i,$i=e;var r=Qi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Qi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,Qi=Ki[--Yi],Ki[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Hc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===A&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===A){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===A?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Hc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),Es=Si(null),As=null,Ss=null,Ts=null;function Ns(){Ts=Ss=As=null}function Is(e){var t=Es.current;Ti(Es),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){As=e,Ts=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===As)throw Error(s(308));Ss=e,As.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Os=null;function Rs(e){null===Os?Os=[e]:Os.push(e)}function js(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function Hs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ul|=o,e.lanes=o,e.memoizedState=d}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},qs=Si(Ws),Gs=Si(Ws),Ks=Si(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function $s(e,t){switch(Ni(Ks,t),Ni(Gs,e),Ni(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(qs),Ni(qs,t)}function Qs(){Ti(qs),Ti(Gs),Ti(Ks)}function Xs(e){Ys(Ks.current);var t=Ys(qs.current),n=le(t,e.type);t!==n&&(Ni(Gs,e),Ni(qs,n))}function Js(e){Gs.current===e&&(Ti(qs),Ti(Gs))}var Zs=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?ea:ta,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=na,e=n(r,i)}while(uo)}if(ro.current=Zo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ul|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function So(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Do(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&ko(e)}function Io(e,t,n){return n((function(){Co(t)&&ko(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function ko(e){var t=Ps(e,1);null!==t&&ic(t,e,1,-1)}function _o(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return bo().memoizedState}function jo(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Po(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Oo(t,n,s,r))}oo.flags|=e,i.memoizedState=Oo(1|t,n,s,r)}function Lo(e,t){return jo(8390656,8,e,t)}function Do(e,t){return Po(2048,8,e,t)}function Mo(e,t){return Po(4,2,e,t)}function Uo(e,t){return Po(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4,4,Fo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ul|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ko(){return bo().memoizedState}function Yo(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=js(e,t,n,r))){ic(n,e,r,nc()),Jo(n,t,r)}}function $o(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=js(e,t,i,r))&&(ic(n,e,r,i=nc()),Jo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:_s,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},ea={readContext:_s,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:_o,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=_o(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ol)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Io.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Ol.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ta={readContext:_s,useCallback:zo,useContext:_s,useEffect:Do,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Wo,useReducer:xo,useRef:Ro,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){return qo(bo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Ao,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},na={readContext:_s,useCallback:zo,useContext:_s,useEffect:Do,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Wo,useReducer:Eo,useRef:Ro,useState:function(){return Eo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(wo)[0],bo().memoizedState]},useMutableSource:Ao,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(ic(t,e,i,r),Hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(ic(t,e,i,r),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(ic(t,e,r,n),Hs(t,e,r))}};function oa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function aa(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(i=Ri(t)?_i:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function la(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=_s(s):(s=Ri(t)?_i:Ci.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ia(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&sa.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Kl=r),ha(0,t)},n}function ma(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function xa(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return ks(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||wa?(is&&n&&es(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ta(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function Na(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Ll,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Ll,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ni(Ll,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ni(Ll,Pl),Pl|=r;return xa(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ri(n)?_i:Ci.current;return s=Oi(t,s),ks(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||wa?(is&&r&&es(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function ka(e,t,n,r,i){if(Ri(n)){var s=!0;Di(t)}else s=!1;if(ks(t,i),null===t.stateNode)qa(e,t),aa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_s(c):c=Oi(t,c=Ri(n)?_i:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&la(t,o,r,c),Ls=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ki.current||Ls?("function"===typeof u&&(ia(t,n,u,r),l=t.memoizedState),(a=Ls||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ra(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=_s(l):l=Oi(t,l=Ri(n)?_i:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&la(t,o,r,l),Ls=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||ki.current||Ls?("function"===typeof f&&(ia(t,n,f,r),p=t.memoizedState),(c=Ls||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,s,i)}function _a(e,t,n,r,i,s){Ia(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ga(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):xa(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),$s(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xa(e,t,n,r),t.child}var ja,Pa,La,Da,Ma={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ni(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Uc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(n),t.memoizedState=Ma,e):Ha(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ps(e,i),ic(r,e,i,-1))}return vc(),Va(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Yi++]=Qi,Ki[Yi++]=Xi,Ki[Yi++]=$i,Qi=e.id,Xi=e.overflow,$i=t),t=Ha(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Lc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ha(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Ha(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Ri(t.type)&&ji(),Ya(t),null;case 3:return r=t.stateNode,Qs(),Ti(ki),Ti(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Pa(e,t),Ya(t),null;case 5:Js(t);var i=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ya(t),null}if(e=Ys(qs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,ja(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ya(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),o=!1}else null!==ss&&(lc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return Qs(),Pa(e,t),null===e&&Br(t.stateNode.containerInfo),Ya(t),null;case 10:return Is(t.type._context),Ya(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ya(t),null}else 2*Xe()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ni(Zs,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Ti(ki),Ti(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Qs(),null;case 10:return Is(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(qs.current);var s,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ja=!1,Za="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&nl(t,n,s)}i=i.next}while(i!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||tl(n,t);case 6:var r=hl,i=fl;hl=null,pl(e,t,n),fl=i,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=fl,hl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),hl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&nl(n,t,o),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Ja&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nc(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,pl(e,t,n),Ja=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));ml(o,a,i),hl=null,fl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Nc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{il(3,e,e.return),sl(3,e)}catch(g){Nc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Nc(e,e.return,g)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Nc(e,e.return,g)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,vl(t,e),Ja=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){Al(h);continue}}null!==p?(p.return=f,el=p):Al(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,cl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,cl(e),o);break;default:throw Error(s(161))}}catch(Aa){Nc(e,e.return,Aa)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Xa;var c=Ja;if(Xa=o,(Ja=l)&&!c)for(el=i;null!==el;)l=(o=el).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,el=l):Sl(i);for(;null!==s;)el=s,xl(s,t,n),s=s.sibling;el=i,Xa=a,Ja=c}El(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,el=s):El(e)}}function El(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ra(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&ol(t)}catch(f){Nc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function Al(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(Aa){Nc(t,n,Aa)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Aa){Nc(t,i,Aa)}}var s=t.return;try{ol(t)}catch(Aa){Nc(t,s,Aa)}break;case 5:var o=t.return;try{ol(t)}catch(Aa){Nc(t,o,Aa)}}}catch(Aa){Nc(t,t.return,Aa)}if(t===e){el=null;break}var a=t.sibling;if(null!==a){a.return=t.return,el=a;break}el=t.return}}var Tl,Nl=Math.ceil,Il=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,_l=0,Ol=null,Rl=null,jl=0,Pl=0,Ll=Si(0),Dl=0,Ml=null,Ul=0,Fl=0,Hl=0,Vl=null,Bl=null,zl=0,Wl=1/0,ql=null,Gl=!1,Kl=null,Yl=null,$l=!1,Ql=null,Xl=0,Jl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&_l)?Xe():-1!==ec?ec:ec=Xe()}function rc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==jl?jl&-jl:null!==ms.transition?(0===tc&&(tc=mt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ic(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&_l)&&e===Ol||(e===Ol&&(0===(2&_l)&&(Fl|=n),4===Dl&&cc(e,jl)),sc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Wl=Xe()+500,Fi&&Bi()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Ol?jl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&_l)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(ec=-1,tc=0,0!==(6&_l))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=_l;_l|=2;var o=gc();for(Ol===e&&jl===t||(ql=null,Wl=Xe()+500,pc(e,t));;)try{wc();break}catch(l){mc(e,l)}Ns(),Il.current=o,_l=i,null!==Rl?t=0:(Ol=null,jl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,pc(e,0),cc(e,r),sc(e,Xe()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ml,pc(e,0),cc(e,r),sc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ac(e,Bl,ql);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Bl,ql),t);break}Ac(e,Bl,ql);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Bl,ql),r);break}Ac(e,Bl,ql);break;default:throw Error(s(329))}}}return sc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Hl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&_l))throw Error(s(327));Sc();var t=ht(e,0);if(0===(1&t))return sc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,pc(e,0),cc(e,t),sc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Bl,ql),sc(e,Xe()),null}function dc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Wl=Xe()+500,Fi&&Bi())}}function hc(e){null!==Ql&&0===Ql.tag&&0===(6&_l)&&Sc();var t=_l;_l|=1;var n=kl.transition,r=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=r,kl.transition=n,0===(6&(_l=t))&&Bi()}}function fc(){Pl=Ll.current,Ti(Ll)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:Qs(),Ti(ki),Ti(Ci),no();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:Ti(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ol=e,Rl=e=Lc(e.current,null),jl=Pl=t,Dl=0,Ml=null,Hl=Fl=Ul=0,Bl=Vl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return e}function mc(e,t){for(;;){var n=Rl;try{if(Ns(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Cl.current=null,null===n||null===n.return){Dl=1,Ml=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),vc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Dl&&(Dl=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}Ec(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=Il.current;return Il.current=Zo,null===e?Zo:e}function vc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&Ul)&&0===(268435455&Fl)||cc(Ol,jl)}function yc(e,t){var n=_l;_l|=2;var r=gc();for(Ol===e&&jl===t||(ql=null,pc(e,t));;)try{bc();break}catch(i){mc(e,i)}if(Ns(),_l=n,Il.current=r,null!==Rl)throw Error(s(261));return Ol=null,jl=0,Dl}function bc(){for(;null!==Rl;)xc(Rl)}function wc(){for(;null!==Rl&&!$e();)xc(Rl)}function xc(e){var t=Tl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Ec(e):Rl=t,Cl.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function Ac(e,t,n){var r=bt,i=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&_l))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ol&&(Rl=Ol=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Oc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var a=bt;bt=1;var l=_l;_l|=4,Cl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Ho){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ra(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Ho){Nc(t,t.return,Ho)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Qe(),_l=l,bt=a,kl.transition=o}else e.current=n;if($l&&($l=!1,Ql=e,Xl=i),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Bi()}(e,t,n,r)}finally{kl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt(Xl),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&_l))throw Error(s(331));var i=_l;for(_l|=4,el=e.current;null!==el;){var o=el,a=o.child;if(0!==(16&el.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,o)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,p=d.return;if(al(d),d===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,el=a;else e:for(;null!==el;){if(0!==(2048&(o=el).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,el=y;break e}el=o.return}}var b=e.current;for(el=b;null!==el;){var w=(a=el).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,el=w;else e:for(a=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(E){Nc(l,l.return,E)}if(l===a){el=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,el=x;break e}el=l.return}}if(_l=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,kl.transition=t}}return!1}function Tc(e,t,n){e=Fs(e,t=pa(0,t=ua(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),sc(e,t))}function Nc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Fs(t,e=ma(t,e=ua(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(jl&n)===n&&(4===Dl||3===Dl&&(130023424&jl)===jl&&500>Xe()-zl?pc(e,0):Hl|=n),sc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Ps(e,t))&&(vt(e,t,n),sc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Oc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Mc(n.children,i,o,t);case S:a=8,i|=8;break;case T:return(e=jc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case k:return(e=jc(13,n,t,i)).elementType=k,e.lanes=o,e;case _:return(e=jc(19,n,t,i)).elementType=_,e.lanes=o,e;case j:return Uc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:a=10;break e;case I:a=9;break e;case C:a=11;break e;case O:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=jc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function zc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Wc(e,t,n,r,i,s,o,a,l){return(e=Bc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Us(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,vt(e,i,r),sc(e,r),e}function qc(e,t,n,r){var i=t.current,s=nc(),o=rc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,o))&&(ic(e,i,o,s),Hs(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),fs();break;case 5:Xs(t);break;case 1:Ri(t.type)&&Di(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ni(Zs,1&Zs.current),null!==(e=Ga(e,t,n))?e.sibling:null);Ni(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Na(e,t,n)}return Ga(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);ks(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=sa,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=_a(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ra(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,ra(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ga(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ia(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ni(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!ki.current){t=Ga(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Us(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),r=r(i=_s(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=ra(r=t.type,t.pendingProps),Sa(e,t,r,i=ra(r.type,i),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ra(r,i),qa(e,t),t.tag=1,Ri(r)?(e=!0,Di(t)):e=!1,ks(t,n),aa(t,r,i),ca(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Na(e,t,n)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Gc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gc(o);s.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Gc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Xe()),0===(6&_l)&&(Wl=Xe()+500,Bi()))}break;case 13:hc((function(){var t=Ps(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}})),Yc(e,1)}},Et=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)ic(t,e,134217728,nc());Yc(e,134217728)}},At=function(e){if(13===e.tag){var t=rc(e),n=Ps(e,t);if(null!==n)ic(n,e,t,nc());Yc(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=dc,ke=hc;var nu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ne,Ie,dc]},ru={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{it=su.inject(iu),st=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},979:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var r=l(n(148)),i=l(n(380)),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],a=["page","hitType"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var w=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"reset",(function(){t.isInitialized=!1,t._testMode=!1,t._currentMeasurementId,t._hasLoadedGA=!1,t._isQueuing=!1,t._queueGtag=[]})),y(this,"_gtag",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._testMode||t._isQueuing?t._queueGtag.push(n):r.default.apply(void 0,n)})),y(this,"_loadGA",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!==typeof window&&"undefined"!==typeof document&&!t._hasLoadedGA){var i=document.createElement("script");i.async=!0,i.src="".concat(r,"?id=").concat(e),n&&i.setAttribute("nonce",n),document.body.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},t._hasLoadedGA=!0}})),y(this,"_toGtagOptions",(function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce((function(e,n){var r=p(n,2),i=r[0],s=r[1];return t[i]?e[t[i]]=s:e[i]=s,e}),{})}})),y(this,"initialize",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var r="string"===typeof e?[{trackingId:e}]:e;t._currentMeasurementId=r[0].trackingId;var i=n.gaOptions,s=n.gtagOptions,o=n.nonce,a=n.testMode,l=void 0!==a&&a,c=n.gtagUrl;if(t._testMode=l,l||t._loadGA(t._currentMeasurementId,o,c),t.isInitialized||(t._gtag("js",new Date),r.forEach((function(e){var n=f(f(f({},t._toGtagOptions(f(f({},i),e.gaOptions))),s),e.gtagOptions);Object.keys(n).length?t._gtag("config",e.trackingId,n):t._gtag("config",e.trackingId)}))),t.isInitialized=!0,!l){var u=d(t._queueGtag);for(t._queueGtag=[],t._isQueuing=!1;u.length;){var h=u.shift();t._gtag.apply(t,d(h)),"get"===h[0]&&(t._isQueuing=!0)}}})),y(this,"set",(function(e){e?"object"===u(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),t._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),y(this,"_gaCommandSendEvent",(function(e,n,r,i,s){t._gtag("event",n,f(f({event_category:e,event_label:r,value:i},s&&{non_interaction:s.nonInteraction}),t._toGtagOptions(s)))})),y(this,"_gaCommandSendEventParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"===typeof n[0])t._gaCommandSendEvent.apply(t,d(n.slice(1)));else{var i=n[0],o=i.eventCategory,a=i.eventAction,l=i.eventLabel,u=i.eventValue,h=(i.hitType,c(i,s));t._gaCommandSendEvent(o,a,l,u,h)}})),y(this,"_gaCommandSendTiming",(function(e,n,r,i){t._gtag("event","timing_complete",{name:n,value:r,event_category:e,event_label:i})})),y(this,"_gaCommandSendPageview",(function(e,n){if(n&&Object.keys(n).length){var r=t._toGtagOptions(n),i=r.title,s=r.location,a=c(r,o);t._gtag("event","page_view",f(f(f(f({},e&&{page_path:e}),i&&{page_title:i}),s&&{page_location:s}),a))}else e?t._gtag("event","page_view",{page_path:e}):t._gtag("event","page_view")})),y(this,"_gaCommandSendPageviewParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"===typeof n[0])t._gaCommandSendPageview.apply(t,d(n.slice(1)));else{var i=n[0],s=i.page,o=(i.hitType,c(i,a));t._gaCommandSendPageview(s,o)}})),y(this,"_gaCommandSend",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="string"===typeof n[0]?n[0]:n[0].hitType;switch(i){case"event":t._gaCommandSendEventParameters.apply(t,n);break;case"pageview":t._gaCommandSendPageviewParameters.apply(t,n);break;case"timing":t._gaCommandSendTiming.apply(t,d(n.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}})),y(this,"_gaCommandSet",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]=y({},n[0],n[1])),t._gtag("set",t._toGtagOptions(n[0]))})),y(this,"_gaCommand",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(e){case"send":t._gaCommandSend.apply(t,r);break;case"set":t._gaCommandSet.apply(t,r);break;default:console.warn("Command doesn't exist: ".concat(e))}})),y(this,"ga",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"===typeof n[0])t._gaCommand.apply(t,n);else{var i=n[0];t._gtag("get",t._currentMeasurementId,"client_id",(function(e){t._isQueuing=!1;var n=t._queueGtag;for(i({get:function(n){return"clientId"===n?e:"trackingId"===n?t._currentMeasurementId:"apiVersion"===n?"1":void 0}});n.length;){var r=n.shift();t._gtag.apply(t,d(r))}})),t._isQueuing=!0}return t.ga})),y(this,"event",(function(e,n){if("string"===typeof e)t._gtag("event",e,t._toGtagOptions(n));else{var r=e.action,s=e.category,o=e.label,a=e.value,l=e.nonInteraction,c=e.transport;if(!s||!r)return void console.warn("args.category AND args.action are required in event()");var u={hitType:"event",eventCategory:(0,i.default)(s),eventAction:(0,i.default)(r)};o&&(u.eventLabel=(0,i.default)(o)),"undefined"!==typeof a&&("number"!==typeof a?console.warn("Expected `args.value` arg to be a Number."):u.eventValue=a),"undefined"!==typeof l&&("boolean"!==typeof l?console.warn("`args.nonInteraction` must be a boolean."):u.nonInteraction=l),"undefined"!==typeof c&&("string"!==typeof c?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(c)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),u.transport=c)),t._gaCommand("send",u)}})),y(this,"send",(function(e){t._gaCommand("send",e)})),this.reset()}var t,n,l;return t=e,n=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],n&&v(t.prototype,n),l&&v(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GA4=w;var x=new w;t.default=x}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r,i=n(43),s=n.t(i,2),o=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,p=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=v()+1;let a=d(i,g),l=w.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=v();let s=d(i,g),a=w.createHref(i);u.replaceState(s,"",a),o&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=R(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=O(i);o=k(s[a],e,r)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=w(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,E=3,A=2,S=1,T=10,N=-2,I=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=N),t&&(r+=A),n.filter((e=>!I(e))).reduce(((e,t)=>e+(x.test(t)?E:""===t?S:T)),r)}function k(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:M([s,u.pathname]),pathnameBase:U(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=P(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:H(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],z=(new Set(B),["get",...B]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const q=i.createContext(null);const G=i.createContext(null);const K=i.createContext(null);const Y=i.createContext(null);const $=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function X(){return null!=i.useContext(Y)}function J(){return X()||c(!1),i.useContext(Y).location}function Z(e){i.useContext(K).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext($);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=i.useRef(!1);return Z((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t])}():function(){X()||c(!1);let e=i.useContext(q),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:s}=i.useContext($),{pathname:o}=J(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=D(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:s}=i.useContext($),{pathname:o}=J(),a=JSON.stringify(L(s,r.v7_relativeSplatPath));return i.useMemo((()=>D(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ne(e,t,n,s){X()||c(!1);let{navigator:o,static:a}=i.useContext(K),{matches:l}=i.useContext($),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,m=J();if(t){var g;let e="string"===typeof t?p(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),f=e}else f=m;let y=f.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:v(e,{pathname:b});let x=ae(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&x?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},x):x}function re(){let e=function(){var e;let t=i.useContext(Q),n=de(ce.UseRouteError),r=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ie=i.createElement(re,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement($.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement($.Provider,{value:t},r)}function ae(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,c=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,u&&(d<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=i.useContext(q);return t||c(!1),t}function de(e){let t=i.useContext(G);return t||c(!1),t}function he(e){let t=function(){let e=i.useContext($);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function me(e){c(!1)}function ge(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;X()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},u)})),[d,u,a,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=i.useMemo((()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[d,f,m,g,v,y,o]);return null==b?null:i.createElement(K.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));i.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)})),n}var be=n(950),we=n.t(be,2);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(uv){}new Map;const Se=s.startTransition;we.flushSync,s.useId;function Te(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=p(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))}),(function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:g}=r||{},v=i.useCallback((e=>{g&&Se?Se((()=>d(e))):d(e)}),[d,g]);return i.useLayoutEffect((()=>l.listen(v)),[l,v]),i.useEffect((()=>pe(r)),[r]),i.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=Ee(e,Ae),{basename:g}=i.useContext(K),v=!1;if("string"===typeof d&&Ie.test(d)&&(n=d,Ne))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(uv){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:r,navigator:s}=i.useContext(K),{hash:o,pathname:a,search:l}=te(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:M([r,a])),s.createHref({pathname:u,search:l,hash:o})}(d,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),d=te(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,d,r,s,n,e,o,a,l])}(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});return i.createElement("a",xe({},m,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var ke,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));const Oe=n.p+"static/media/Herma.fbab95905cdc0de697f3.jpeg";var Re=n(279);const je=e=>{const t=document.referrer||"direct",n=`${window.innerWidth}x${window.innerHeight}`,r=window.innerWidth<=768?"mobile":window.innerWidth<=1024?"tablet":"desktop",i=Math.round(performance.now()/1e3);Re.Ay.event({category:"App Downloads",action:"download",label:e,value:1,nonInteraction:!1,app_version:"v0.1.0",device_type:r,screen_size:n,time_before_download:i,referrer:t,send_to:"G-FSS7V9WPY5"});const s={windows:"https://github.com/NicholasPianfetti/Herma-Landing/releases/download/v0.1.0/Herma-0.1.0.msi",mac:"https://github.com/NicholasPianfetti/Herma-Landing/releases/download/v0.1.0/Herma-0.1.0.dmg"}[e];if(!s)return console.error(`Invalid platform: ${e}`),void Re.Ay.event({category:"Error",action:"DownloadError",label:`Invalid platform: ${e}`,nonInteraction:!0});Re.Ay.event({category:"App Downloads",action:"download_initiated",label:e});const o=document.createElement("a");return o.href=s,o.download="windows"===e?"Herma-0.1.0.exe":"Herma-0.1.0.dmg",o.style.display="none",o.setAttribute("data-download-platform",e),document.body.appendChild(o),o.click(),setTimeout((()=>{document.body.removeChild(o),Re.Ay.event({category:"App Downloads",action:"download_completed",label:e})}),1e3),!1};var Pe=n(579);const Le=e=>{let{isOpen:t,onClose:n,osType:r}=e;(0,i.useEffect)((()=>{const e=e=>{"Escape"===e.key&&n()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[t,n]);const s=e=>{const t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth"}),n())};return t?(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black/10 z-50 flex justify-end",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,Pe.jsx)("div",{className:"w-64 bg-white shadow-xl h-full overflow-y-auto animate-slide-in-right",children:(0,Pe.jsxs)("div",{className:"p-5 flex flex-col h-full",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Pe.jsx)("span",{className:"text-xl font-bold text-blue-900",children:"Menu"}),(0,Pe.jsx)("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-500","aria-label":"Close menu",children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("nav",{className:"flex flex-col gap-4",children:[(0,Pe.jsx)(Ce,{to:"#features",className:"px-4 py-3 rounded-lg hover:bg-blue-50 text-blue-900 transition-colors",onClick:e=>{e.preventDefault(),s("features")},children:"Features"}),(0,Pe.jsx)(Ce,{to:"#about",className:"px-4 py-3 rounded-lg hover:bg-blue-50 text-blue-900 transition-colors",onClick:e=>{e.preventDefault(),s("about")},children:"About"})]}),(0,Pe.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-200",children:(0,Pe.jsxs)("button",{onClick:()=>{je("mac"===r?"mac":"windows"),n()},className:"w-full py-3 bg-blue-900 text-white font-medium rounded-lg flex items-center justify-center gap-2",children:[(0,Pe.jsxs)("span",{children:["Download for ","mac"===r?"Mac":"windows"===r?"Windows":"Your Device"]}),(0,Pe.jsx)("span",{className:"bg-white/20 w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"mac"===r?"\u2318":"windows"===r?"\u229e":"\u2193"})]})})]})})}):null},De=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)("unknown"),[s,o]=(0,i.useState)(!1);(0,i.useEffect)((()=>{r((()=>{const e=window.navigator.userAgent,t=window.navigator.platform;return-1!==t.indexOf("Mac")||-1!==e.indexOf("Macintosh")||-1!==e.indexOf("MacIntel")?"mac":-1!==t.indexOf("Win")||-1!==e.indexOf("Windows")?"windows":-1!==t.indexOf("Linux")||-1!==e.indexOf("Linux")?"linux":"unknown"})())}),[]),(0,i.useEffect)((()=>{const n=()=>{const n=window.scrollY>20;n!==e&&t(n)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}}),[e]),(0,i.useEffect)((()=>{const e=()=>{window.innerWidth>=768&&o(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,i.useEffect)((()=>{o(!1)}),[]);const a=()=>{o(!1)},l=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"}),a()};return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("header",{className:"fixed top-0 left-0 right-0 z-40 backdrop-blur-sm transition-all duration-300 w-full \n        "+(e?"py-2 bg-[var(--primary-bg)]/95 shadow-lg":"py-4 bg-[var(--primary-bg)]/80"),children:(0,Pe.jsx)("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:(0,Pe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pe.jsx)("div",{className:"flex items-center relative z-10",children:(0,Pe.jsxs)(Ce,{to:"/",className:"flex items-center group","aria-label":"Home",children:[(0,Pe.jsx)("div",{className:"h-8 w-8 sm:h-10 sm:w-10 overflow-hidden rounded-lg mr-2 sm:mr-3 shadow-sm transition-all duration-300 \n                  group-hover:shadow-lg "+(e?"scale-90":""),children:(0,Pe.jsx)("img",{src:Oe,alt:"Herma Logo",className:"h-full w-full object-cover"})}),(0,Pe.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Pe.jsx)("span",{className:"font-bold tracking-wide transition-all duration-300\n                    "+(e?"text-lg sm:text-xl":"text-xl sm:text-2xl"),children:(0,Pe.jsx)("span",{className:"text-[var(--highlight-color)]",children:"H\u039eRM\u039b"})}),!e&&(0,Pe.jsx)("span",{className:"hidden sm:inline-block text-xs text-blue-800/60 font-medium -mt-1",children:"Local AI Assistant"})]})]})}),(0,Pe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pe.jsx)("nav",{className:"hidden md:flex items-center gap-2",children:(0,Pe.jsxs)("div",{className:"px-4 py-1.5 bg-[var(--secondary-bg)]/20 rounded-full flex items-center mr-2",children:[(0,Pe.jsx)(Ce,{to:"#features",className:"px-4 py-1 rounded-full text-[var(--text-color)] hover:text-[var(--highlight-color)] hover:bg-[var(--secondary-bg)]/40 transition-colors duration-200",onClick:e=>{e.preventDefault(),l("features")},children:"Features"}),(0,Pe.jsx)(Ce,{to:"#about",className:"px-4 py-1 rounded-full text-[var(--text-color)] hover:text-[var(--highlight-color)] hover:bg-[var(--secondary-bg)]/40 transition-colors duration-200",onClick:e=>{e.preventDefault(),l("about")},children:"About"})]})}),(0,Pe.jsxs)("button",{onClick:()=>{je("mac"===n?"mac":"windows"),a()},className:"hidden sm:flex px-5 py-2 bg-blue-900 text-white font-medium rounded-full shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 items-center gap-2 group",children:[(0,Pe.jsx)("span",{className:"text-sm text-white/90 group-hover:text-white transition-colors",children:"Download"}),(0,Pe.jsx)("span",{className:"bg-white/20 w-6 h-6 rounded-full flex items-center justify-center text-sm group-hover:bg-white/30 transition-colors",children:"mac"===n?"\u2318":"windows"===n?"\u229e":"\u2193"})]}),(0,Pe.jsx)("button",{onClick:()=>{o(!s)},className:"md:hidden w-10 h-10 flex items-center justify-center rounded-full bg-[var(--secondary-bg)]/20 text-[var(--highlight-color)] hover:bg-[var(--secondary-bg)]/40 transition-colors focus:outline-none","aria-expanded":s,"aria-label":s?"Close menu":"Open menu",children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})})}),(0,Pe.jsx)(Le,{isOpen:s,onClose:a,osType:n})]})},Me=n.p+"static/media/app-preview.f801fb6443f54eca28b0.png",Ue=n.p+"static/media/doc-upload.8c2ec49cc11f0962a276.png",Fe=n.p+"static/media/creative-content.5e333aaa2f5f6364735d.png",He=n.p+"static/media/complex-problem.c0fb3379421f1bac7965.png",Ve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new ze;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(e){return function(e){const t=Ve(e);return Be.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qe=function(e){try{return Be.decodeString(e,!0)}catch(uv){console.error("base64Decode failed: ",uv)}return null};function Ge(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ke=()=>{try{return Ge().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://us-central1-herma-landing-b5105.cloudfunctions.net/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyCIjB4ANmQ6wYUGbQuMl21EG63v-4bxXfI",REACT_APP_FIREBASE_APP_ID:"1:7482382687:web:45992debf38e20be6afeea",REACT_APP_FIREBASE_AUTH_DOMAIN:"herma-landing-b5105.firebaseapp.com",REACT_APP_FIREBASE_FUNCTIONS_URL:"https://api-opcyvaprha-uc.a.run.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-LPXDF1N8TX",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"7482382687",REACT_APP_FIREBASE_PROJECT_ID:"herma-landing-b5105",REACT_APP_FIREBASE_STORAGE_BUCKET:"herma-landing-b5105.appspot.com",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ra4P4Pq3xOWKbiJbjwxqQ8G",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51Ra43PPq3xOWKbiJK5luGbuyaHU60KXhNaoDhNl9UZothPdkO1XJcSv96BPhFP7wLGHfxPaa2DM4N7NnzBXSeQUe00q41uinG6",REACT_APP_URL:"https://herma-landing-b5105.firebaseapp.com/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uv){return}const t=e&&qe(e[1]);return t&&JSON.parse(t)})()}catch(uv){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${uv}`)}},Ye=e=>{var t,n;return null===(n=null===(t=Ke())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=()=>{var e;return null===(e=Ke())||void 0===e?void 0:e.config},Qe=e=>{var t;return null===(t=Ke())||void 0===t?void 0:t[`_${e}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Je(e){return e.endsWith(".cloudworkstations.dev")}async function Ze(e){return(await fetch(e,{credentials:"include"})).ok}const et={};let tt=!1;function nt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Je(window.location.host)||et[e]===t||et[e]||tt)return;function n(e){return`__firebase__banner__${e}`}et[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(et))et[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{tt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function it(){var e;const t=null===(e=Ke())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uv){return!1}}function st(){return!it()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ot(){try{return"object"===typeof indexedDB}catch(uv){return!1}}class at extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ct,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new at(n,s,t)}}const ct=/\{\$([^}]+)}/g;function ut(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(dt(n)&&dt(s)){if(!ut(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dt(e){return null!==e&&"object"===typeof e}function ht(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function pt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class mt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=gt),void 0===r.error&&(r.error=gt),void 0===r.complete&&(r.complete=gt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uv){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uv){"undefined"!==typeof console&&console.error&&console.error(uv)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function gt(){}function vt(e){return e&&e._delegate?e._delegate:e}class yt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bt="[DEFAULT]";class wt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uv){if(r)return null;throw uv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bt})}catch(uv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===bt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.component?this.component.multipleInstances?e:bt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Et=[];var At;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(At||(At={}));const St={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},Tt=At.INFO,Nt={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},It=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Nt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Ct{constructor(e){this.name=e,this._logLevel=Tt,this._logHandler=It,this._userLogHandler=null,Et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?St[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...t),this._logHandler(this,At.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...t),this._logHandler(this,At.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.INFO,...t),this._logHandler(this,At.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.WARN,...t),this._logHandler(this,At.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.ERROR,...t),this._logHandler(this,At.ERROR,...t)}}let kt,_t;const Ot=new WeakMap,Rt=new WeakMap,jt=new WeakMap,Pt=new WeakMap,Lt=new WeakMap;let Dt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ft(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_t||(_t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ht(this),n),Ft(Ot.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ft(e.apply(Ht(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ht(this),t,...r);return jt.set(s,t.sort?t.sort():[t]),Ft(s)}}function Ut(e){return"function"===typeof e?Mt(e):(e instanceof IDBTransaction&&function(e){if(Rt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Rt.set(e,t)}(e),t=e,(kt||(kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Dt):e);var t}function Ft(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ft(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ot.set(t,e)})).catch((()=>{})),Lt.set(t,e),t}(e);if(Pt.has(e))return Pt.get(e);const t=Ut(e);return t!==e&&(Pt.set(e,t),Lt.set(t,e)),t}const Ht=e=>Lt.get(e);const Vt=["get","getKey","getAll","getAllKeys","count"],Bt=["put","add","delete","clear"],zt=new Map;function Wt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(zt.get(t))return zt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Bt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return zt.set(t,s),s}Dt=(e=>({...e,get:(t,n,r)=>Wt(t,n)||e.get(t,n,r),has:(t,n)=>!!Wt(t,n)||e.has(t,n)}))(Dt);class qt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Gt="@firebase/app",Kt="0.13.1",Yt=new Ct("@firebase/app"),$t="@firebase/app-compat",Qt="@firebase/analytics-compat",Xt="@firebase/analytics",Jt="@firebase/app-check-compat",Zt="@firebase/app-check",en="@firebase/auth",tn="@firebase/auth-compat",nn="@firebase/database",rn="@firebase/data-connect",sn="@firebase/database-compat",on="@firebase/functions",an="@firebase/functions-compat",ln="@firebase/installations",cn="@firebase/installations-compat",un="@firebase/messaging",dn="@firebase/messaging-compat",hn="@firebase/performance",fn="@firebase/performance-compat",pn="@firebase/remote-config",mn="@firebase/remote-config-compat",gn="@firebase/storage",vn="@firebase/storage-compat",yn="@firebase/firestore",bn="@firebase/ai",wn="@firebase/firestore-compat",xn="firebase",En="[DEFAULT]",An={[Gt]:"fire-core",[$t]:"fire-core-compat",[Xt]:"fire-analytics",[Qt]:"fire-analytics-compat",[Zt]:"fire-app-check",[Jt]:"fire-app-check-compat",[en]:"fire-auth",[tn]:"fire-auth-compat",[nn]:"fire-rtdb",[rn]:"fire-data-connect",[sn]:"fire-rtdb-compat",[on]:"fire-fn",[an]:"fire-fn-compat",[ln]:"fire-iid",[cn]:"fire-iid-compat",[un]:"fire-fcm",[dn]:"fire-fcm-compat",[hn]:"fire-perf",[fn]:"fire-perf-compat",[pn]:"fire-rc",[mn]:"fire-rc-compat",[gn]:"fire-gcs",[vn]:"fire-gcs-compat",[yn]:"fire-fst",[wn]:"fire-fst-compat",[bn]:"fire-vertex","fire-js":"fire-js",[xn]:"fire-js-all"},Sn=new Map,Tn=new Map,Nn=new Map;function In(e,t){try{e.container.addComponent(t)}catch(uv){Yt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,uv)}}function Cn(e){const t=e.name;if(Nn.has(t))return Yt.debug(`There were multiple attempts to register component ${t}.`),!1;Nn.set(t,e);for(const n of Sn.values())In(n,e);for(const n of Tn.values())In(n,e);return!0}function kn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return null!==e&&void 0!==e&&void 0!==e.settings}const On=new lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Rn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const jn="11.9.0";function Pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:En,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw On.create("bad-app-name",{appName:String(i)});if(n||(n=$e()),!n)throw On.create("no-options");const s=Sn.get(i);if(s){if(ut(n,s.options)&&ut(r,s.config))return s;throw On.create("duplicate-app",{appName:i})}const o=new xt(i);for(const l of Nn.values())o.addComponent(l);const a=new Rn(n,r,o);return Sn.set(i,a),a}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En;const t=Sn.get(e);if(!t&&e===En&&$e())return Pn();if(!t)throw On.create("no-app",{appName:e});return t}function Dn(e,t,n){var r;let i=null!==(r=An[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Yt.warn(e.join(" "))}Cn(new yt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Mn="firebase-heartbeat-store";let Un=null;function Fn(){return Un||(Un=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ft(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ft(o.result),e.oldVersion,e.newVersion,Ft(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Mn)}catch(uv){console.warn(uv)}}}).catch((e=>{throw On.create("idb-open",{originalErrorMessage:e.message})}))),Un}async function Hn(e,t){try{const n=(await Fn()).transaction(Mn,"readwrite"),r=n.objectStore(Mn);await r.put(t,Vn(e)),await n.done}catch(uv){if(uv instanceof at)Yt.warn(uv.message);else{const t=On.create("idb-set",{originalErrorMessage:null===uv||void 0===uv?void 0:uv.message});Yt.warn(t.message)}}}function Vn(e){return`${e.name}!${e.options.appId}`}class Bn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Wn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(uv){Yt.warn(uv)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),qn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=We(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uv){return Yt.warn(uv),""}}}function zn(){return(new Date).toISOString().substring(0,10)}class Wn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ot()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Fn()).transaction(Mn),n=await t.objectStore(Mn).get(Vn(e));return await t.done,n}catch(uv){if(uv instanceof at)Yt.warn(uv.message);else{const t=On.create("idb-get",{originalErrorMessage:null===uv||void 0===uv?void 0:uv.message});Yt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function qn(e){return We(JSON.stringify({version:2,heartbeats:e})).length}var Gn;Gn="",Cn(new yt("platform-logger",(e=>new qt(e)),"PRIVATE")),Cn(new yt("heartbeat",(e=>new Bn(e)),"PRIVATE")),Dn(Gt,Kt,Gn),Dn(Gt,Kt,"esm2017"),Dn("fire-js","");Dn("firebase","11.9.1","app");function Kn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Yn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $n=Yn,Qn=new lt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xn=new Ct("@firebase/auth");function Jn(e){if(Xn.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.error(`Auth (${jn}): ${e}`,...n)}}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ir(e,...n)}function er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ir(e,...n)}function tr(e,t,n){const r=Object.assign(Object.assign({},$n()),{[t]:n});return new lt("auth","Firebase",r).create(t,{appName:e.name})}function nr(e){return tr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Zn(e,"argument-error"),tr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ir(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Qn.create(e,...n)}function sr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ir(t,...r)}}function or(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jn(t),new Error(t)}function ar(e,t){e||or(t)}function lr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function cr(){return"http:"===ur()||"https:"===ur()}function ur(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function dr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(cr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class hr{constructor(e,t){this.shortDelay=e,this.longDelay=t,ar(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return dr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fr(e,t){ar(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class pr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vr=new hr(3e4,6e4);function yr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function br(e,t,n,r){return wr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=ht(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Je(e.emulatorConfig.host)&&(l.credentials="include"),pr.fetch()(await Er(e,e.config.apiHost,n,o),l)}))}async function wr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mr),t);try{const t=new Sr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Tr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Tr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Tr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Tr(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw tr(e,a,o);Zn(e,a)}}catch(uv){if(uv instanceof at)throw uv;Zn(e,"network-request-failed",{message:String(uv)})}}async function xr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await br(e,t,n,r,i);return"mfaPendingCredential"in s&&Zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Er(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?fr(e.config,i):`${e.config.apiScheme}://${i}`;if(gr.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function Ar(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(er(this.auth,"network-request-failed"))),vr.get())}))}}function Tr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(e,t,r);return i.customData._tokenResponse=n,i}function Nr(e){return void 0!==e&&void 0!==e.enterprise}class Ir{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ar(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cr(e,t){return br(e,"GET","/v2/recaptchaConfig",yr(e,t))}async function kr(e,t){return br(e,"POST","/v1/accounts:lookup",t)}function _r(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uv){}}function Or(e){return 1e3*Number(e)}function Rr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{const e=qe(n);return e?JSON.parse(e):(Jn("Failed to decode base64 JWT payload"),null)}catch(uv){return Jn("Caught error parsing JWT payload as JSON",null===uv||void 0===uv?void 0:uv.toString()),null}}function jr(e){const t=Rr(e);return sr(t,"internal-error"),sr("undefined"!==typeof t.exp,"internal-error"),sr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Pr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uv){throw uv instanceof at&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(uv)&&e.auth.currentUser===e&&await e.auth.signOut(),uv}}class Lr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uv){return void("auth/network-request-failed"===(null===uv||void 0===uv?void 0:uv.code)&&this.schedule(!0))}this.schedule()}}class Dr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Pr(e,kr(n,{idToken:r}));sr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Ur(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Dr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Ur(e){return e.map((e=>{var{providerId:t}=e,n=Kn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sr(e.idToken,"internal-error"),sr("undefined"!==typeof e.idToken,"internal-error"),sr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):jr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){sr(0!==e.length,"internal-error");const t=jr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(sr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await wr(e,{},(async()=>{const n=ht({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Er(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&Je(e.emulatorConfig.host)&&(a.credentials="include"),pr.fetch()(s,a)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Fr;return n&&(sr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(sr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(sr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return or("not implemented")}}function Hr(e,t){sr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Vr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Kn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Dr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Pr(this,this.stsTokenManager.getToken(this.auth,e));return sr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=vt(e),r=await n.getIdToken(t),i=Rr(r);sr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_r(Or(i.auth_time)),issuedAtTime:_r(Or(i.iat)),expirationTime:_r(Or(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=vt(e);await Mr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(sr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){sr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Pr(this,async function(e,t){return br(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;sr(y&&E,e,"internal-error");const A=Fr.fromJSON(this.name,E);sr("string"===typeof y,e,"internal-error"),Hr(u,e.name),Hr(d,e.name),sr("boolean"===typeof b,e,"internal-error"),sr("boolean"===typeof w,e,"internal-error"),Hr(h,e.name),Hr(f,e.name),Hr(p,e.name),Hr(m,e.name),Hr(g,e.name),Hr(v,e.name);const S=new Vr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:A,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Fr;r.updateFromServerResponse(t);const i=new Vr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Mr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];sr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ur(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Fr;o.updateFromIdToken(n);const a=new Vr({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Dr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Br=new Map;function zr(e){ar(e instanceof Function,"Expected a class definition");let t=Br.get(e);return t?(ar(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Br.set(e,t),t)}class Wr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wr.type="NONE";const qr=Wr;function Gr(e,t,n){return`firebase:${e}:${t}:${n}`}class Kr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await kr(this.auth,{idToken:e}).catch((()=>{}));return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Kr(zr(qr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||zr(qr);const s=Gr(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await kr(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Vr._fromGetAccountInfoResponse(e,r,t)}else n=Vr._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Kr(i,e,n)):new Kr(i,e,n)}}function Yr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($r(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ei(t))return"Blackberry";if(ti(t))return"Webos";if(Qr(t))return"Safari";if((t.includes("chrome/")||Xr(t))&&!t.includes("edge/"))return"Chrome";if(Zr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function $r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/firefox\//i.test(e)}function Qr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/crios\//i.test(e)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iemobile/i.test(e)}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/android/i.test(e)}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/blackberry/i.test(e)}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/webos/i.test(e)}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ri(){return function(){const e=rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return ni(e)||Zr(e)||ti(e)||ei(e)||/windows phone/i.test(e)||Jr(e)}function si(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yr(rt());break;case"Worker":t=`${Yr(rt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${jn}/${r}`}class oi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(uv){r(uv)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uv){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uv||void 0===uv?void 0:uv.message})}}}class ai{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class li{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ui(this),this.idTokenSubscription=new ui(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Kr.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await kr(this,{idToken:e}),n=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uv){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(uv)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return sr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mr(e)}catch(uv){if("auth/network-request-failed"!==(null===uv||void 0===uv?void 0:uv.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(nr(this));const t=e?vt(e):null;return t&&sr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&sr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return _n(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(nr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(zr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return br(e,"GET","/v2/passwordPolicy",yr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ai(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return br(e,"POST","/v2/accounts:revokeToken",yr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;sr(t,this,"argument-error"),this.redirectPersistenceManager=await Kr.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(sr(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Xn.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.warn(`Auth (${jn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ci(e){return vt(e)}class ui{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new mt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return sr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let di={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hi(e){return di.loadJS(e)}function fi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class pi{constructor(){this.enterprise=new mi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const gi="NO_RECAPTCHA";class vi{constructor(e){this.type="recaptcha-enterprise",this.auth=ci(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Nr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(gi)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new pi).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Cr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ir(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Nr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=di.recaptchaEnterpriseScript;0!==t.length&&(t+=i),hi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function yi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new vi(e);let o;if(i)o=gi;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function bi(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await yi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await yi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await yi(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await yi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await yi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function wi(e){const t=ci(e),n=await Cr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ir(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new vi(t).verify()}}function xi(e,t,n){const r=ci(e);sr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ei(t),{host:o,port:a}=function(e){const t=Ei(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ai(t)}}}(t),l=null===a?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return sr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void sr(ut(c,r.config.emulator)&&ut(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Je(o)?(Ze(`${s}//${o}${l}`),nt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ei(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Si{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,t){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function Ti(e,t){return br(e,"POST","/v1/accounts:signUp",t)}async function Ni(e,t){return xr(e,"POST","/v1/accounts:signInWithPassword",yr(e,t))}class Ii extends Si{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ii(e,t,"password")}static _fromEmailAndCode(e,t){return new Ii(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return bi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ni,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xr(e,"POST","/v1/accounts:signInWithEmailLink",yr(e,t))}(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return bi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ti,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return xr(e,"POST","/v1/accounts:signInWithEmailLink",yr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ci(e,t){return xr(e,"POST","/v1/accounts:signInWithIdp",yr(e,t))}class ki extends Si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Kn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ki(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ci(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ci(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ci(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ht(t)}return e}}async function _i(e,t){return br(e,"POST","/v1/accounts:sendVerificationCode",yr(e,t))}const Oi={USER_NOT_FOUND:"user-not-found"};class Ri extends Si{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ri({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ri({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xr(e,"POST","/v1/accounts:signInWithPhoneNumber",yr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await xr(e,"POST","/v1/accounts:signInWithPhoneNumber",yr(e,t));if(n.temporaryProof)throw Tr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xr(e,"POST","/v1/accounts:signInWithPhoneNumber",yr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ri({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ji{constructor(e){var t,n,r,i,s,o;const a=ft(pt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);sr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=ft(pt(e)).link,n=t?ft(pt(t)).deep_link_id:null,r=ft(pt(e)).deep_link_id;return(r?ft(pt(r)).link:null)||r||n||t||e}(e);try{return new ji(t)}catch(n){return null}}}class Pi{constructor(){this.providerId=Pi.PROVIDER_ID}static credential(e,t){return Ii._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ji.parseLink(t);return sr(n,"argument-error"),Ii._fromEmailAndCode(e,n.code,n.tenantId)}}Pi.PROVIDER_ID="password",Pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Li{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Di extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mi extends Di{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mi.credential(t.oauthAccessToken)}catch(n){return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mi.PROVIDER_ID="facebook.com";class Ui extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ki._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch(i){return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com",Ui.PROVIDER_ID="google.com";class Fi extends Di{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch(n){return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com",Fi.PROVIDER_ID="github.com";class Hi extends Di{constructor(){super("twitter.com")}static credential(e,t){return ki._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Hi.credential(n,r)}catch(i){return null}}}async function Vi(e,t){return xr(e,"POST","/v1/accounts:signUp",yr(e,t))}Hi.TWITTER_SIGN_IN_METHOD="twitter.com",Hi.PROVIDER_ID="twitter.com";class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Vr._fromIdTokenResponse(e,n,r),s=zi(n);return new Bi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zi(n);return new Bi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Wi extends at{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Wi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Wi(e,t,n,r)}}function qi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Wi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Pr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Bi._forOperation(e,"link",r)}async function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(_n(r.app))return Promise.reject(nr(r));const i="reauthenticate";try{const s=await Pr(e,qi(r,i,t,e),n);sr(s.idToken,r,"internal-error");const o=Rr(s.idToken);sr(o,r,"internal-error");const{sub:a}=o;return sr(e.uid===a,r,"user-mismatch"),Bi._forOperation(e,i,s)}catch(uv){throw"auth/user-not-found"===(null===uv||void 0===uv?void 0:uv.code)&&Zn(r,"user-mismatch"),uv}}async function Yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_n(e.app))return Promise.reject(nr(e));const r="signIn",i=await qi(e,r,t),s=await Bi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function $i(e,t){return Yi(ci(e),t)}async function Qi(e){const t=ci(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Xi(e,t,n){if(_n(e.app))return Promise.reject(nr(e));const r=ci(e),i=bi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vi,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Qi(e),t})),o=await Bi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Ji(e,t,n){return _n(e.app)?Promise.reject(nr(e)):$i(vt(e),Pi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Qi(e),t}))}async function Zi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=vt(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Pr(i,async function(e,t){return br(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function es(e,t,n,r){return vt(e).onAuthStateChanged(t,n,r)}function ts(e){return vt(e).signOut()}function ns(e,t){return br(e,"POST","/v2/accounts/mfaEnrollment:start",yr(e,t))}new WeakMap;const rs="__sak";class is{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ss extends is{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ii(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ri()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ss.type="LOCAL";const os=ss;function as(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ls(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class cs{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ls(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return as(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ls(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=ls(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=as(n);const i=setInterval((()=>{const e=as(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}cs.type="COOKIE";class us extends is{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}us.type="SESSION";const ds=us;class hs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hs.receivers=[];class ps{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=fs("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ms(){return window}function gs(){return"undefined"!==typeof ms().WorkerGlobalScope&&"function"===typeof ms().importScripts}const vs="firebaseLocalStorageDb",ys="firebaseLocalStorage",bs="fbase_key";class ws{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function xs(e,t){return e.transaction([ys],t?"readwrite":"readonly").objectStore(ys)}function Es(){const e=indexedDB.open(vs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ys,{keyPath:bs})}catch(uv){n(uv)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ys)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(vs);return new ws(e).toPromise()}(),t(await Es()))}))}))}async function As(e,t,n){const r=xs(e,!0).put({[bs]:t,value:n});return new ws(r).toPromise()}function Ss(e,t){const n=xs(e,!0).delete(t);return new ws(n).toPromise()}class Ts{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Es()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uv){if(t++>3)throw uv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hs._getInstance(gs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ps(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Es();return await As(e,rs,"1"),await Ss(e,rs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>As(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=xs(e,!1).get(t),r=await new ws(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ss(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=xs(e,!1).getAll();return new ws(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ts.type="LOCAL";const Ns=Ts;function Is(e,t){return br(e,"POST","/v2/accounts/mfaSignIn:start",yr(e,t))}fi("rcb"),new hr(3e4,6e4);const Cs="recaptcha";async function ks(e,t,n){var r;if(!e._getRecaptchaConfig())try{await wi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){sr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=bi(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===gi){sr((null===n||void 0===n?void 0:n.type)===Cs,e,"argument-error");return ns(e,await _s(e,t,n))}return ns(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{sr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;sr(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=bi(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===gi){sr((null===n||void 0===n?void 0:n.type)===Cs,e,"argument-error");return Is(e,await _s(e,t,n))}return Is(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=bi(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===gi){sr((null===n||void 0===n?void 0:n.type)===Cs,e,"argument-error");return _i(e,await _s(e,t,n))}return _i(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function _s(e,t,n){sr(n.type===Cs,e,"argument-error");const r=await n.verify();sr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Os{constructor(e){this.providerId=Os.PROVIDER_ID,this.auth=ci(e)}verifyPhoneNumber(e,t){return ks(this.auth,e,vt(t))}static credential(e,t){return Ri._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Os.credentialFromTaggedObject(t)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ri._fromTokenResponse(n,r):null}}function Rs(e,t){return t?zr(t):(sr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Os.PROVIDER_ID="phone",Os.PHONE_SIGN_IN_METHOD="phone";class js extends Si{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ci(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ci(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ps(e){return Yi(e.auth,new js(e),e.bypassAuthState)}function Ls(e){const{auth:t,user:n}=e;return sr(n,t,"internal-error"),Ki(n,new js(e),e.bypassAuthState)}async function Ds(e){const{auth:t,user:n}=e;return sr(n,t,"internal-error"),Gi(n,new js(e),e.bypassAuthState)}class Ms{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uv){this.reject(uv)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(uv){this.reject(uv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ps;case"linkViaPopup":case"linkViaRedirect":return Ds;case"reauthViaPopup":case"reauthViaRedirect":return Ls;default:Zn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Us=new hr(2e3,1e4);async function Fs(e,t,n){if(_n(e.app))return Promise.reject(er(e,"operation-not-supported-in-this-environment"));const r=ci(e);rr(e,t,Li);const i=Rs(r,n);return new Hs(r,"signInViaPopup",t,i).executeNotNull()}class Hs extends Ms{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sr(e,this.auth,"internal-error"),e}async onExecution(){ar(1===this.filter.length,"Popup operations only handle one event");const e=fs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(er(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Us.get())};e()}}Hs.currentPopupAction=null;const Vs=new Map;class Bs extends Ms{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Vs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qs(t),r=Ws(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(uv){e=()=>Promise.reject(uv)}Vs.set(this.auth._key(),e)}return this.bypassAuthState||Vs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function zs(e,t){Vs.set(e._key(),t)}function Ws(e){return zr(e._redirectPersistence)}function qs(e){return Gr("pendingRedirect",e.config.apiKey,e.name)}async function Gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_n(e.app))return Promise.reject(nr(e));const r=ci(e),i=Rs(r,t),s=new Bs(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ks{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $s(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$s(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(er(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ys(e))}saveEventToCache(e){this.cachedEventUids.add(Ys(e)),this.lastProcessedEventTime=Date.now()}}function Ys(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $s(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Qs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xs=/^https?/;async function Js(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return br(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zs(r))return}catch(n){}Zn(e,"unauthorized-domain")}function Zs(e){const t=lr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Xs.test(n))return!1;if(Qs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const eo=new hr(3e4,6e4);function to(){const e=ms().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function no(e){return new Promise(((t,n)=>{var r,i,s;function o(){to(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{to(),n(er(e,"network-request-failed"))},timeout:eo.get()})}if(null===(i=null===(r=ms().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ms().gapi)||void 0===s?void 0:s.load)){const t=fi("iframefcb");return ms()[t]=()=>{gapi.load?o():n(er(e,"network-request-failed"))},hi(`${di.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw ro=null,e}))}let ro=null;const io=new hr(5e3,15e3),so={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ao(e){const t=e.config;sr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:jn},i=oo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ht(r).slice(1)}`}async function lo(e){const t=await function(e){return ro=ro||no(e),ro}(e),n=ms().gapi;return sr(n,e,"internal-error"),t.open({where:document.body,url:ao(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:so,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=er(e,"network-request-failed"),s=ms().setTimeout((()=>{r(i)}),io.get());function o(){ms().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const co={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uv){}}}function ho(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},co),{width:r.toString(),height:i.toString(),top:s,left:o}),c=rt().toLowerCase();n&&(a=Xr(c)?"_blank":n),$r(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return ni(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new uo(null);const d=window.open(t||"",a,u);sr(d,e,"popup-blocked");try{d.focus()}catch(uv){}return new uo(d)}const fo="__/auth/handler",po="emulator/auth/handler",mo=encodeURIComponent("fac");async function go(e,t,n,r,i,s){sr(e.config.authDomain,e,"auth-domain-config-required"),sr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:jn,eventId:i};if(t instanceof Li){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Di){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${mo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${fo}`;return fr(t,po)}(e)}?${ht(a).slice(1)}${c}`}const vo="webStorageSupport";const yo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=Gs,this._overrideRedirectResult=zs}async _openPopup(e,t,n,r){var i;ar(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ho(e,await go(e,t,n,lr(),r),fs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ms().location.href=e}(await go(e,t,n,lr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ar(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await lo(e),n=new Ks(e);return t.register("authEvent",(t=>{sr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vo,{type:vo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[vo];void 0!==i&&t(!!i),Zn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Js(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ii()||Qr()||ni()}};var bo="@firebase/auth",wo="1.10.7";class xo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eo=Qe("authIdTokenMaxAge")||300;let Ao=null;function So(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln();const t=kn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=kn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ut(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Zn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:yo,persistence:[Ns,os,ds]}),r=Qe("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Eo)return;const r=null===t||void 0===t?void 0:t.token;Ao!==r&&(Ao=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){vt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){vt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Ye("auth");return s&&xi(n,`http://${s}`),n}var To;di={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},To="Browser",Cn(new yt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;sr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:To,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:si(To)},c=new li(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Cn(new yt("auth-internal",(e=>(e=>new xo(e))(ci(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(bo,wo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(To)),Dn(bo,wo,"esm2017");var No,Io,Co="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ko={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Io=ko.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},No=ko.Integer=r}).apply("undefined"!==typeof Co?Co:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var _o,Oo,Ro,jo,Po,Lo,Do,Mo,Uo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Uo&&Uo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function A(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new N),(e=>e.reset()));class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,C=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(O)}};var O=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){A(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,j);var D={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function H(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(H(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=z(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new V(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(s=e.g[t],n,r,i))&&(H(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):H(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;x(t=new j(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)H(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){j.call(this,"d")}function be(){j.call(this,"c")}d(ye,j),d(be,j);var we={},xe=null;function Ee(){return xe=xe||new ne}function Ae(e){j.call(this,we.La,e)}function Se(e){const t=Ee();re(t,new Ae(t))}function Te(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Ee();re(t,new Te(t,e))}function Ie(e,t){j.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function _e(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Ae,j),we.STAT_EVENT="statevent",d(Te,j),we.Ma="timingevent",d(Ie,j),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Oe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}d(Pe,pe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Oe=new Pe;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,He(e,null)}function He(e,t){e.F=Date.now(),ze(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),ze(a)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):$t(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Se(),qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Gt(this.g);e="";var s=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ke(this),Ge(this);break e}_e(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ue){4==h&&(this.s=4,Ne(14),n=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ne(15),_e(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}_e(this.i,this.l,e,null),Ye(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Ne(11))}}else _e(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else _e(this.i,this.l,a,null),Ye(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ke(this),Ge(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Ne(17)),Ke(this),this.s=2,Ge(this)):We(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(At(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function At(e,t){Et(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return Et(e),t=Nt(e,t),e.g.has(t)}function Tt(e,t,n){At(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),h(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new fe}function kt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uv){throw t.push(r+"type="+encodeURIComponent("_badmap")),uv}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){Et(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,St(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(_t,pe),_t.prototype.g=function(){return new Ot(this.l,this.j)},_t.prototype.i=(mt={},function(){return mt}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Pt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),zt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ut.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(uv){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}dn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||_(),C||(I(),C=!0),k.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{kt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||_(),C||(I(),C=!0),k.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,He(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ie(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new ke;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new _t({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ht(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ht(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$t(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Mo=Fo.createWebChannelTransport=function(){return new mn},Do=Fo.getStatEventTarget=function(){return Ee()},Lo=Fo.Event=we,Po=Fo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,jo=Fo.ErrorCode=Re,je.COMPLETE="complete",Ro=Fo.EventType=je,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Oo=Fo.WebChannel=ge,Fo.FetchXmlHttpFactory=_t,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,_o=Fo.XhrIo=Mt}).apply("undefined"!==typeof Uo?Uo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ho="@firebase/firestore",Vo="4.7.17";class Bo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bo.UNAUTHENTICATED=new Bo(null),Bo.GOOGLE_CREDENTIALS=new Bo("google-credentials-uid"),Bo.FIRST_PARTY=new Bo("first-party-uid"),Bo.MOCK_USER=new Bo("mock-user");let zo="11.9.0";const Wo=new Ct("@firebase/firestore");function qo(){return Wo.logLevel}function Go(e){if(Wo.logLevel<=At.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Wo.debug(`Firestore (${zo}): ${e}`,...i)}}function Ko(e){if(Wo.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Wo.error(`Firestore (${zo}): ${e}`,...i)}}function Yo(e){if(Wo.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Wo.warn(`Firestore (${zo}): ${e}`,...i)}}function $o(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Qo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Xo(e,r,n)}function Xo(e,t,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Ko(r),new Error(r)}function Jo(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Xo(t,i,r)}function Zo(e,t){return e}const ea={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ta extends at{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ra{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ia{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Bo.UNAUTHENTICATED)))}shutdown(){}}class sa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oa{constructor(e){this.t=e,this.currentUser=Bo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new na;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new na,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Go("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Go("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new na)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Go("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Jo("string"==typeof t.accessToken,31837,{l:t}),new ra(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jo(null===e||"string"==typeof e,2055,{h:e}),new Bo(e)}}class aa{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Bo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class la{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new aa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Bo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ca{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ua{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Jo(void 0===this.o,3512);const n=e=>{null!=e.error&&Go("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Go("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Go("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Go("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ca(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Jo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ca(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function da(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function ha(){return new TextEncoder}class fa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=da(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function pa(e,t){return e<t?-1:e>t?1:0}function ma(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return pa(r,i);{const s=ha(),o=va(s.encode(ga(e,n)),s.encode(ga(t,n)));return 0!==o?o:pa(r,i)}}n+=r>65535?2:1}return pa(e.length,t.length)}function ga(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function va(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return pa(e[n],t[n]);return pa(e.length,t.length)}function ya(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ba=-62135596800,wa=1e6;class xa{static now(){return xa.fromMillis(Date.now())}static fromDate(e){return xa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*wa);return new xa(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ta(ea.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ta(ea.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ba)throw new ta(ea.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ta(ea.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wa}_compareTo(e){return this.seconds===e.seconds?pa(this.nanoseconds,e.nanoseconds):pa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ba;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ea{static fromTimestamp(e){return new Ea(e)}static min(){return new Ea(new xa(0,0))}static max(){return new Ea(new xa(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Aa="__name__";class Sa{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Qo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Sa.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return pa(e.length,t.length)}static compareSegments(e,t){const n=Sa.isNumericId(e),r=Sa.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Sa.extractNumericId(e).compare(Sa.extractNumericId(t)):ma(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return No.fromString(e.substring(4,e.length-2))}}class Ta extends Sa{construct(e,t,n){return new Ta(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ta(ea.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ta(e)}static emptyPath(){return new Ta([])}}const Na=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ia extends Sa{construct(e,t,n){return new Ia(e,t,n)}static isValidIdentifier(e){return Na.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ia.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Aa}static keyField(){return new Ia([Aa])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ta(ea.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ta(ea.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ta(ea.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ta(ea.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ia(t)}static emptyPath(){return new Ia([])}}class Ca{constructor(e){this.path=e}static fromPath(e){return new Ca(Ta.fromString(e))}static fromName(e){return new Ca(Ta.fromString(e).popFirst(5))}static empty(){return new Ca(Ta.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ta.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ta.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ca(new Ta(e.slice()))}}const ka=-1;class _a{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_a.UNKNOWN_ID=-1;function Oa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ea.fromTimestamp(1e9===r?new xa(n+1,0):new xa(n,r));return new ja(i,Ca.empty(),t)}function Ra(e){return new ja(e.readTime,e.key,ka)}class ja{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ja(Ea.min(),Ca.empty(),ka)}static max(){return new ja(Ea.max(),Ca.empty(),ka)}}function Pa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ca.comparator(e.documentKey,t.documentKey),0!==n?n:pa(e.largestBatchId,t.largestBatchId))}const La="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ma(e){if(e.code!==ea.FAILED_PRECONDITION||e.message!==La)throw e;Go("LocalStore","Unexpectedly lost primary lease")}class Ua{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ua(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ua?t:Ua.resolve(t)}catch(e){return Ua.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ua.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ua.reject(t)}static resolve(e){return new Ua(((t,n)=>{t(e)}))}static reject(e){return new Ua(((t,n)=>{n(e)}))}static waitFor(e){return new Ua(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ua.resolve(!1);for(const n of e)t=t.next((e=>e?Ua.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ua(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ua(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Fa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ha(e){return"IndexedDbTransactionError"===e.name}class Va{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Va.le=-1;const Ba=-1;function za(e){return null==e}function Wa(e){return 0===e&&1/e==-1/0}function qa(e){return"number"==typeof e&&Number.isInteger(e)&&!Wa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ga="\x01";function Ka(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$a(t)),t=Ya(e.get(n),t);return $a(t)}function Ya(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Ga:n+="\x01\x11";break;default:n+=t}}return n}function $a(e){return e+Ga+"\x01"}const Qa="remoteDocuments",Xa="owner",Ja="mutationQueues",Za="mutations";const el="documentMutations",tl="remoteDocumentsV14",nl="remoteDocumentGlobal",rl="targets",il="targetDocuments",sl="targetGlobal",ol="collectionParents",al="clientMetadata",ll="bundles",cl="namedQueries",ul="indexConfiguration",dl="indexState",hl="indexEntries",fl="documentOverlays",pl="globals",ml=[Ja,Za,el,Qa,rl,Xa,sl,il,al,nl,ol,ll,cl],gl=[Ja,Za,el,tl,rl,Xa,sl,il,al,nl,ol,ll,cl,fl],vl=gl,yl=[...vl,ul,dl,hl];function bl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class El{constructor(e,t){this.comparator=e,this.root=t||Sl.EMPTY}insert(e,t){return new El(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sl.BLACK,null,null))}remove(e){return new El(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sl.RED,this.left=null!=r?r:Sl.EMPTY,this.right=null!=i?i:Sl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qo(27949);return e+(this.isRed()?0:1)}}Sl.EMPTY=null,Sl.RED=!0,Sl.BLACK=!1,Sl.EMPTY=new class{constructor(){this.size=0}get key(){throw Qo(57766)}get value(){throw Qo(16141)}get color(){throw Qo(16727)}get left(){throw Qo(29726)}get right(){throw Qo(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tl{constructor(e){this.comparator=e,this.data=new El(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nl(this.data.getIterator())}getIteratorFrom(e){return new Nl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Tl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tl(this.comparator);return t.data=e,t}}class Nl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Il{constructor(e){this.fields=e,e.sort(Ia.comparator)}static empty(){return new Il([])}unionWith(e){let t=new Tl(Ia.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Il(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Cl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Cl("Invalid base64 string: "+e):e}}(e);return new kl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new kl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kl.EMPTY_BYTE_STRING=new kl("");const _l=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ol(e){if(Jo(!!e,39018),"string"==typeof e){let t=0;const n=_l.exec(e);if(Jo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rl(e.seconds),nanos:Rl(e.nanos)}}function Rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jl(e){return"string"==typeof e?kl.fromBase64String(e):kl.fromUint8Array(e)}const Pl="server_timestamp",Ll="__type__",Dl="__previous_value__",Ml="__local_write_time__";function Ul(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ll])||void 0===n?void 0:n.stringValue)===Pl}function Fl(e){const t=e.mapValue.fields[Dl];return Ul(t)?Fl(t):t}function Hl(e){const t=Ol(e.mapValue.fields[Ml].timestampValue);return new xa(t.seconds,t.nanos)}class Vl{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Bl="(default)";class zl{constructor(e,t){this.projectId=e,this.database=t||Bl}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Bl}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}const Wl="__type__",ql="__max__",Gl={mapValue:{fields:{__type__:{stringValue:ql}}}},Kl="__vector__",Yl="value";function $l(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ul(e)?4:dc(e)?9007199254740991:cc(e)?10:11:Qo(28295,{value:e})}function Ql(e,t){if(e===t)return!0;const n=$l(e);if(n!==$l(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hl(e).isEqual(Hl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ol(e.timestampValue),r=Ol(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jl(e.bytesValue).isEqual(jl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rl(e.geoPointValue.latitude)===Rl(t.geoPointValue.latitude)&&Rl(e.geoPointValue.longitude)===Rl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rl(e.integerValue)===Rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Rl(e.doubleValue),r=Rl(t.doubleValue);return n===r?Wa(n)===Wa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ya(e.arrayValue.values||[],t.arrayValue.values||[],Ql);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bl(n)!==bl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ql(n[i],r[i])))return!1;return!0}(e,t);default:return Qo(52216,{left:e})}}function Xl(e,t){return void 0!==(e.values||[]).find((e=>Ql(e,t)))}function Jl(e,t){if(e===t)return 0;const n=$l(e),r=$l(t);if(n!==r)return pa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Rl(e.integerValue||e.doubleValue),r=Rl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zl(e.timestampValue,t.timestampValue);case 4:return Zl(Hl(e),Hl(t));case 5:return ma(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jl(e),r=jl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=pa(n[i],r[i]);if(0!==e)return e}return pa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=pa(Rl(e.latitude),Rl(t.latitude));return 0!==n?n:pa(Rl(e.longitude),Rl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ec(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[Yl])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Yl])||void 0===r?void 0:r.arrayValue,u=pa((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:ec(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Gl.mapValue&&t===Gl.mapValue)return 0;if(e===Gl.mapValue)return 1;if(t===Gl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ma(r[o],s[o]);if(0!==e)return e;const t=Jl(n[r[o]],i[s[o]]);if(0!==t)return t}return pa(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Qo(23264,{Pe:n})}}function Zl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pa(e,t);const n=Ol(e),r=Ol(t),i=pa(n.seconds,r.seconds);return 0!==i?i:pa(n.nanos,r.nanos)}function ec(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Jl(n[i],r[i]);if(e)return e}return pa(n.length,r.length)}function tc(e){return nc(e)}function nc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ol(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ca.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=nc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${nc(e.fields[i])}`;return n+"}"}(e.mapValue):Qo(61005,{value:e})}function rc(e){switch($l(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fl(e);return t?16+rc(t):16;case 5:return 2*e.stringValue.length;case 6:return jl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+rc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return wl(e.fields,((e,n)=>{t+=e.length+rc(n)})),t}(e.mapValue);default:throw Qo(13486,{value:e})}}function ic(e){return!!e&&"integerValue"in e}function sc(e){return!!e&&"arrayValue"in e}function oc(e){return!!e&&"nullValue"in e}function ac(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lc(e){return!!e&&"mapValue"in e}function cc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Wl])||void 0===n?void 0:n.stringValue)===Kl}function uc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=uc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ql}class hc{constructor(e){this.value=e}static empty(){return new hc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(t)}setAll(e){let t=Ia.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=uc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ql(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];lc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new hc(uc(this.value))}}function fc(e){const t=[];return wl(e.fields,((e,n)=>{const r=new Ia([e]);if(lc(n)){const e=fc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Il(t)}class pc{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new pc(e,0,Ea.min(),Ea.min(),Ea.min(),hc.empty(),0)}static newFoundDocument(e,t,n,r){return new pc(e,1,t,Ea.min(),n,r,0)}static newNoDocument(e,t){return new pc(e,2,t,Ea.min(),Ea.min(),hc.empty(),0)}static newUnknownDocument(e,t){return new pc(e,3,t,Ea.min(),Ea.min(),hc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ea.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ea.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mc{constructor(e,t){this.position=e,this.inclusive=t}}function gc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ca.comparator(Ca.fromName(o.referenceValue),n.key):Jl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ql(e.position[n],t.position[n]))return!1;return!0}class yc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wc{}class xc extends wc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new kc(e,t,n):"array-contains"===t?new jc(e,n):"in"===t?new Pc(e,n):"not-in"===t?new Lc(e,n):"array-contains-any"===t?new Dc(e,n):new xc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _c(e,n):new Oc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Jl(t,this.value)):null!==t&&$l(this.value)===$l(t)&&this.matchesComparison(Jl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ec extends wc{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ec(e,t)}matches(e){return Ac(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ac(e){return"and"===e.op}function Sc(e){return Tc(e)&&Ac(e)}function Tc(e){for(const t of e.filters)if(t instanceof Ec)return!1;return!0}function Nc(e){if(e instanceof xc)return e.field.canonicalString()+e.op.toString()+tc(e.value);if(Sc(e))return e.filters.map((e=>Nc(e))).join(",");{const t=e.filters.map((e=>Nc(e))).join(",");return`${e.op}(${t})`}}function Ic(e,t){return e instanceof xc?function(e,t){return t instanceof xc&&e.op===t.op&&e.field.isEqual(t.field)&&Ql(e.value,t.value)}(e,t):e instanceof Ec?function(e,t){return t instanceof Ec&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ic(n,t.filters[r])),!0)}(e,t):void Qo(19439)}function Cc(e){return e instanceof xc?function(e){return`${e.field.canonicalString()} ${e.op} ${tc(e.value)}`}(e):e instanceof Ec?function(e){return e.op.toString()+" {"+e.getFilters().map(Cc).join(" ,")+"}"}(e):"Filter"}class kc extends xc{constructor(e,t,n){super(e,t,n),this.key=Ca.fromName(n.referenceValue)}matches(e){const t=Ca.comparator(e.key,this.key);return this.matchesComparison(t)}}class _c extends xc{constructor(e,t){super(e,"in",t),this.keys=Rc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Oc extends xc{constructor(e,t){super(e,"not-in",t),this.keys=Rc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ca.fromName(e.referenceValue)))}class jc extends xc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sc(t)&&Xl(t.arrayValue,this.value)}}class Pc extends xc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xl(this.value.arrayValue,t)}}class Lc extends xc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Xl(this.value.arrayValue,t)}}class Dc extends xc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Xl(this.value.arrayValue,e)))}}class Mc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function Uc(e){return new Mc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fc(e){const t=Zo(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Nc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),za(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>tc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>tc(e))).join(",")),t.Ie=e}return t.Ie}function Hc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ic(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vc(e.startAt,t.startAt)&&vc(e.endAt,t.endAt)}function Vc(e){return Ca.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zc(e,t,n,r,i,s,o,a){return new Bc(e,t,n,r,i,s,o,a)}function Wc(e){return new Bc(e)}function qc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Gc(e){return null!==e.collectionGroup}function Kc(e){const t=Zo(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Tl(Ia.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new yc(r,n))})),e.has(Ia.keyField().canonicalString())||t.Ee.push(new yc(Ia.keyField(),n))}return t.Ee}function Yc(e){const t=Zo(e);return t.de||(t.de=$c(t,Kc(e))),t.de}function $c(e,t){if("F"===e.limitType)return Uc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new yc(e.field,t)}));const n=e.endAt?new mc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new mc(e.startAt.position,e.startAt.inclusive):null;return Uc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Qc(e,t,n){return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xc(e,t){return Hc(Yc(e),Yc(t))&&e.limitType===t.limitType}function Jc(e){return`${Fc(Yc(e))}|lt:${e.limitType}`}function Zc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Cc(e))).join(", ")}]`),za(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>tc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>tc(e))).join(",")),`Target(${t})`}(Yc(e))}; limitType=${e.limitType})`}function eu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ca.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Kc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Kc(e),t))&&!(e.endAt&&!function(e,t,n){const r=gc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Kc(e),t))}(e,t)}function tu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nu(e){return(t,n)=>{let r=!1;for(const i of Kc(e)){const e=ru(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ru(e,t,n){const r=e.field.isKeyField()?Ca.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jl(r,i):Qo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qo(19790,{direction:e.dir})}}class iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return xl(this.inner)}size(){return this.innerSize}}const su=new El(Ca.comparator);function ou(){return su}const au=new El(Ca.comparator);function lu(){let e=au;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function cu(e){let t=au;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function uu(){return hu()}function du(){return hu()}function hu(){return new iu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const fu=new El(Ca.comparator),pu=new Tl(Ca.comparator);function mu(){let e=pu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const gu=new Tl(pa);function vu(){return gu}function yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(t)?"-0":t}}function bu(e){return{integerValue:""+e}}function wu(e,t){return qa(t)?bu(t):yu(e,t)}class xu{constructor(){this._=void 0}}function Eu(e,t,n){return e instanceof Tu?function(e,t){const n={fields:{[Ll]:{stringValue:Pl},[Ml]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ul(t)&&(t=Fl(t)),t&&(n.fields[Dl]=t),{mapValue:n}}(n,t):e instanceof Nu?Iu(e,t):e instanceof Cu?ku(e,t):function(e,t){const n=Su(e,t),r=Ou(n)+Ou(e.Re);return ic(n)&&ic(e.Re)?bu(r):yu(e.serializer,r)}(e,t)}function Au(e,t,n){return e instanceof Nu?Iu(e,t):e instanceof Cu?ku(e,t):n}function Su(e,t){return e instanceof _u?function(e){return ic(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Tu extends xu{}class Nu extends xu{constructor(e){super(),this.elements=e}}function Iu(e,t){const n=Ru(t);for(const r of e.elements)n.some((e=>Ql(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Cu extends xu{constructor(e){super(),this.elements=e}}function ku(e,t){let n=Ru(t);for(const r of e.elements)n=n.filter((e=>!Ql(e,r)));return{arrayValue:{values:n}}}class _u extends xu{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ou(e){return Rl(e.integerValue||e.doubleValue)}function Ru(e){return sc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ju{constructor(e,t){this.version=e,this.transformResults=t}}class Pu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pu}static exists(e){return new Pu(void 0,e)}static updateTime(e){return new Pu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Du{}function Mu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ku(e.key,Pu.none()):new Bu(e.key,e.data,Pu.none());{const n=e.data,r=hc.empty();let i=new Tl(Ia.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new zu(e.key,r,new Il(i.toArray()),Pu.none())}}function Uu(e,t,n){e instanceof Bu?function(e,t,n){const r=e.value.clone(),i=qu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zu?function(e,t,n){if(!Lu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fu(e,t,n,r){return e instanceof Bu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=e.value.clone(),s=Gu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=Gu(e.fieldTransforms,r,t),s=t.data;return s.setAll(Wu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Lu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Su(r.transform,e||null);null!=i&&(null===n&&(n=hc.empty()),n.set(r.field,i))}return n||null}function Vu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ya(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nu&&t instanceof Nu||e instanceof Cu&&t instanceof Cu?ya(e.elements,t.elements,Ql):e instanceof _u&&t instanceof _u?Ql(e.Re,t.Re):e instanceof Tu&&t instanceof Tu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bu extends Du{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zu extends Du{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qu(e,t,n){const r=new Map;Jo(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Au(o,a,n[i]))}return r}function Gu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Eu(e,s,t))}return r}class Ku extends Du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yu extends Du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $u{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=du();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Mu(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Ea.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mu())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,((e,t)=>Vu(e,t)))&&ya(this.baseMutations,e.baseMutations,((e,t)=>Vu(e,t)))}}class Qu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Jo(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=fu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Qu(e,t,n,r)}}class Xu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ju{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zu,ed;function td(e){switch(e){case ea.OK:return Qo(64938);case ea.CANCELLED:case ea.UNKNOWN:case ea.DEADLINE_EXCEEDED:case ea.RESOURCE_EXHAUSTED:case ea.INTERNAL:case ea.UNAVAILABLE:case ea.UNAUTHENTICATED:return!1;case ea.INVALID_ARGUMENT:case ea.NOT_FOUND:case ea.ALREADY_EXISTS:case ea.PERMISSION_DENIED:case ea.FAILED_PRECONDITION:case ea.ABORTED:case ea.OUT_OF_RANGE:case ea.UNIMPLEMENTED:case ea.DATA_LOSS:return!0;default:return Qo(15467,{code:e})}}function nd(e){if(void 0===e)return Ko("GRPC error has no .code"),ea.UNKNOWN;switch(e){case Zu.OK:return ea.OK;case Zu.CANCELLED:return ea.CANCELLED;case Zu.UNKNOWN:return ea.UNKNOWN;case Zu.DEADLINE_EXCEEDED:return ea.DEADLINE_EXCEEDED;case Zu.RESOURCE_EXHAUSTED:return ea.RESOURCE_EXHAUSTED;case Zu.INTERNAL:return ea.INTERNAL;case Zu.UNAVAILABLE:return ea.UNAVAILABLE;case Zu.UNAUTHENTICATED:return ea.UNAUTHENTICATED;case Zu.INVALID_ARGUMENT:return ea.INVALID_ARGUMENT;case Zu.NOT_FOUND:return ea.NOT_FOUND;case Zu.ALREADY_EXISTS:return ea.ALREADY_EXISTS;case Zu.PERMISSION_DENIED:return ea.PERMISSION_DENIED;case Zu.FAILED_PRECONDITION:return ea.FAILED_PRECONDITION;case Zu.ABORTED:return ea.ABORTED;case Zu.OUT_OF_RANGE:return ea.OUT_OF_RANGE;case Zu.UNIMPLEMENTED:return ea.UNIMPLEMENTED;case Zu.DATA_LOSS:return ea.DATA_LOSS;default:return Qo(39323,{code:e})}}(ed=Zu||(Zu={}))[ed.OK=0]="OK",ed[ed.CANCELLED=1]="CANCELLED",ed[ed.UNKNOWN=2]="UNKNOWN",ed[ed.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ed[ed.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ed[ed.NOT_FOUND=5]="NOT_FOUND",ed[ed.ALREADY_EXISTS=6]="ALREADY_EXISTS",ed[ed.PERMISSION_DENIED=7]="PERMISSION_DENIED",ed[ed.UNAUTHENTICATED=16]="UNAUTHENTICATED",ed[ed.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ed[ed.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ed[ed.ABORTED=10]="ABORTED",ed[ed.OUT_OF_RANGE=11]="OUT_OF_RANGE",ed[ed.UNIMPLEMENTED=12]="UNIMPLEMENTED",ed[ed.INTERNAL=13]="INTERNAL",ed[ed.UNAVAILABLE=14]="UNAVAILABLE",ed[ed.DATA_LOSS=15]="DATA_LOSS";let rd=null;const id=new No([4294967295,4294967295],0);function sd(e){const t=ha().encode(e),n=new Io;return n.update(t),new Uint8Array(n.digest())}function od(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new No([n,r],0),new No([i,s],0)]}class ad{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ld(`Invalid padding: ${t}`);if(n<0)throw new ld(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ld(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ld(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=No.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(No.fromNumber(n)));return 1===r.compare(id)&&(r=new No([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=sd(e),[n,r]=od(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ad(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.pe)return;const t=sd(e),[n,r]=od(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cd(Ea.min(),r,new El(pa),ou(),mu())}}class ud{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ud(n,t,mu(),mu(),mu())}}class dd{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class hd{constructor(e,t){this.targetId=e,this.Ce=t}}class fd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class pd{constructor(){this.Fe=0,this.Me=vd(),this.xe=kl.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mu(),t=mu(),n=mu();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qo(38017,{changeType:i})}})),new ud(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=vd()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jo(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class md{constructor(e){this.ze=e,this.je=new Map,this.He=ou(),this.Je=gd(),this.Ye=gd(),this.Ze=new El(pa)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Qo(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Vc(i))if(0===n){const e=new Ca(i.path);this.tt(t,e,pc.newNoDocument(e,Ea.min()))}else Jo(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==rd||rd.ht(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=jl(n).toUint8Array()}catch(e){if(e instanceof Cl)return Yo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ad(s,r,i)}catch(e){return Yo(e instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&Vc(i.target)){const t=new Ca(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,pc.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=mu();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new cd(e,t,this.Ze,this.He,n);return this.He=ou(),this.Je=gd(),this.Ye=gd(),this.Ze=new El(pa),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new pd,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Tl(pa),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Tl(pa),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Go("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pd),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function gd(){return new El(Ca.comparator)}function vd(){return new El(Ca.comparator)}const yd={asc:"ASCENDING",desc:"DESCENDING"},bd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wd={and:"AND",or:"OR"};class xd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ed(e,t){return e.useProto3Json||za(t)?t:{value:t}}function Ad(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Td(e,t){return Ad(e,t.toTimestamp())}function Nd(e){return Jo(!!e,49232),Ea.fromTimestamp(function(e){const t=Ol(e);return new xa(t.seconds,t.nanos)}(e))}function Id(e,t){return Cd(e,t).canonicalString()}function Cd(e,t){const n=function(e){return new Ta(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function kd(e){const t=Ta.fromString(e);return Jo($d(t),10190,{key:t.toString()}),t}function _d(e,t){return Id(e.databaseId,t.path)}function Od(e,t){const n=kd(t);if(n.get(1)!==e.databaseId.projectId)throw new ta(ea.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ta(ea.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ca(Ld(n))}function Rd(e,t){return Id(e.databaseId,t)}function jd(e){const t=kd(e);return 4===t.length?Ta.emptyPath():Ld(t)}function Pd(e){return new Ta(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ld(e){return Jo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Dd(e,t,n){return{name:_d(e,t),fields:n.value.mapValue.fields}}function Md(e,t){let n;if(t instanceof Bu)n={update:Dd(e,t.key,t.value)};else if(t instanceof Ku)n={delete:_d(e,t.key)};else if(t instanceof zu)n={update:Dd(e,t.key,t.data),updateMask:Yd(t.fieldMask)};else{if(!(t instanceof Yu))return Qo(16599,{ft:t.type});n={verify:_d(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _u)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Qo(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Td(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qo(27497)}(e,t.precondition)),n}function Ud(e,t){return{documents:[Rd(e,t.path)]}}function Fd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rd(e,i);const s=function(e){if(0!==e.length)return Kd(Ec.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:qd(e.field),direction:Bd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ed(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Hd(e){let t=jd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jo(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Vd(e);return t instanceof Ec&&Sc(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new yc(Gd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,za(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new mc(n,t)}(n.endAt)),zc(t,i,o,s,a,"F",l,c)}function Vd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return xc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gd(e.unaryFilter.field);return xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gd(e.unaryFilter.field);return xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gd(e.unaryFilter.field);return xc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qo(61313);default:return Qo(60726)}}(e):void 0!==e.fieldFilter?function(e){return xc.create(Gd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qo(58110);default:return Qo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ec.create(e.compositeFilter.filters.map((e=>Vd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qo(1026)}}(e.compositeFilter.op))}(e):Qo(30097,{filter:e})}function Bd(e){return yd[e]}function zd(e){return bd[e]}function Wd(e){return wd[e]}function qd(e){return{fieldPath:e.canonicalString()}}function Gd(e){return Ia.fromServerFormat(e.fieldPath)}function Kd(e){return e instanceof xc?function(e){if("=="===e.op){if(ac(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(oc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ac(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(oc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:zd(e.op),value:e.value}}}(e):e instanceof Ec?function(e){const t=e.getFilters().map((e=>Kd(e)));return 1===t.length?t[0]:{compositeFilter:{op:Wd(e.op),filters:t}}}(e):Qo(54877,{filter:e})}function Yd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function $d(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ea.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ea.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xd{constructor(e){this.wt=e}}function Jd(e){const t=Hd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qc(t,t.limit,"L"):t}class Zd{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Rl(e.integerValue));else if("doubleValue"in e){const n=Rl(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Wa(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Ol(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(jl(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?dc(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):cc(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Qo(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=Yl,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Rl(o)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Ca.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Zd.Wt=new Zd;class eh{constructor(){this.Cn=new th}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ua.resolve()}getCollectionParents(e,t){return Ua.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ua.resolve()}deleteFieldIndex(e,t){return Ua.resolve()}deleteAllFieldIndexes(e){return Ua.resolve()}createTargetIndexes(e,t){return Ua.resolve()}getDocumentsMatchingTarget(e,t){return Ua.resolve(null)}getIndexType(e,t){return Ua.resolve(0)}getFieldIndexes(e,t){return Ua.resolve([])}getNextCollectionGroupToUpdate(e){return Ua.resolve(null)}getMinOffset(e,t){return Ua.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return Ua.resolve(ja.min())}updateCollectionGroup(e,t,n){return Ua.resolve()}updateIndexEntries(e,t){return Ua.resolve()}}class th{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tl(Ta.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Tl(Ta.comparator)).toArray()}}new Uint8Array(0);const nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rh=41943040;class ih{static withCacheSize(e){return new ih(e,ih.DEFAULT_COLLECTION_PERCENTILE,ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ih.DEFAULT_COLLECTION_PERCENTILE=10,ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ih.DEFAULT=new ih(rh,ih.DEFAULT_COLLECTION_PERCENTILE,ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ih.DISABLED=new ih(-1,0,0);class sh{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sh(0)}static lr(){return new sh(-1)}}const oh="LruGarbageCollector",ah=1048576;function lh(e,t){let[n,r]=e,[i,s]=t;const o=pa(n,i);return 0===o?pa(r,s):o}class ch{constructor(e){this.Er=e,this.buffer=new Tl(lh),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();lh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Go(oh,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ha(e)?Go(oh,"Ignoring IndexedDB error during garbage collection: ",e):await Ma(e)}await this.mr(3e5)}))}}class dh{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ua.resolve(Va.le);const n=new ch(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Go("LruGarbageCollector","Garbage collection skipped; disabled"),Ua.resolve(nh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Go("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nh):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Go("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),qo()<=At.DEBUG&&Go("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Ua.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function hh(e,t){return new dh(e,t)}class fh{constructor(){this.changes=new iu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ua.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ph{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fu(n.mutation,e,Il.empty(),xa.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,mu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mu();const r=uu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=lu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=uu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,mu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ou();const s=hu(),o=hu();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof zu)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Fu(o.mutation,t,o.mutation.getFieldMask(),xa.now())):s.set(t.key,Il.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ph(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=hu();let r=new El(((e,t)=>e-t)),i=mu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Il.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||mu()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=du();l.forEach((e=>{if(!i.has(e)){const r=Mu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ua.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ca.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ua.resolve(uu());let o=ka,a=i;return s.next((t=>Ua.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ua.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,mu()))).next((e=>({batchId:o,changes:cu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ca(t)).next((e=>{let t=lu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=lu();return this.indexManager.getCollectionParents(e,i).next((o=>Ua.forEach(o,(o=>{const a=function(e,t){return new Bc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pc.newInvalidDocument(r)))}));let n=lu();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Fu(s.mutation,r,Il.empty(),xa.now()),eu(t,r)&&(n=n.insert(e,r))})),n}))}}class gh{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ua.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Nd(e.createTime)}}(t)),Ua.resolve()}getNamedQuery(e,t){return Ua.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Jd(e.bundledQuery),readTime:Nd(e.readTime)}}(t)),Ua.resolve()}}class vh{constructor(){this.overlays=new El(Ca.comparator),this.Qr=new Map}getOverlay(e,t){return Ua.resolve(this.overlays.get(t))}getOverlays(e,t){const n=uu();return Ua.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Ua.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),Ua.resolve()}getOverlaysForCollection(e,t,n){const r=uu(),i=t.length+1,s=new Ca(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ua.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new El(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=uu(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Ua.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xu(t,n));let i=this.Qr.get(t);void 0===i&&(i=mu(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class yh{constructor(){this.sessionToken=kl.EMPTY_BYTE_STRING}getSessionToken(e){return Ua.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ua.resolve()}}class bh{constructor(){this.$r=new Tl(wh.Ur),this.Kr=new Tl(wh.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new wh(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new wh(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new Ca(new Ta([])),n=new wh(t,e),r=new wh(t,e+1),i=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),i.push(e.key)})),i}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ca(new Ta([])),n=new wh(t,e),r=new wh(t,e+1);let i=mu();return this.Kr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new wh(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class wh{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ca.comparator(e.key,t.key)||pa(e.Zr,t.Zr)}static Wr(e,t){return pa(e.Zr,t.Zr)||Ca.comparator(e.key,t.key)}}class xh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Tl(wh.Ur)}checkEmpty(e){return Ua.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $u(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Xr=this.Xr.add(new wh(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ua.resolve(s)}lookupMutationBatch(e,t){return Ua.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return Ua.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ua.resolve(0===this.mutationQueue.length?Ba:this.nr-1)}getAllMutationBatches(e){return Ua.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new wh(t,0),r=new wh(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);i.push(t)})),Ua.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Tl(pa);return t.forEach((e=>{const t=new wh(e,0),r=new wh(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),Ua.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ca.isDocumentKey(i)||(i=i.child(""));const s=new wh(new Ca(i),0);let o=new Tl(pa);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Zr)),!0)}),s),Ua.resolve(this.ni(o))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Jo(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Ua.forEach(t.mutations,(r=>{const i=new wh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new wh(t,0),r=this.Xr.firstAfterOrEqual(n);return Ua.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ua.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eh{constructor(e){this.ii=e,this.docs=new El(Ca.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ua.resolve(n?n.document.mutableCopy():pc.newInvalidDocument(t))}getEntries(e,t){let n=ou();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pc.newInvalidDocument(e))})),Ua.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ou();const s=t.path,o=new Ca(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Pa(Ra(o),n)<=0||(r.has(o.key)||eu(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ua.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Qo(9500)}si(e,t){return Ua.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ah(this)}getSize(e){return Ua.resolve(this.size)}}class Ah extends fh{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),Ua.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Sh{constructor(e){this.persistence=e,this.oi=new iu((e=>Fc(e)),Hc),this.lastRemoteSnapshotVersion=Ea.min(),this.highestTargetId=0,this._i=0,this.ai=new bh,this.targetCount=0,this.ui=sh.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),Ua.resolve()}getLastRemoteSnapshotVersion(e){return Ua.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ua.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ua.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Ua.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new sh(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ua.resolve()}updateTargetData(e,t){return this.Tr(t),Ua.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ua.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ua.waitFor(i).next((()=>r))}getTargetCount(e){return Ua.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Ua.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Ua.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ua.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ua.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Ua.resolve(n)}containsKey(e,t){return Ua.resolve(this.ai.containsKey(t))}}class Th{constructor(e,t){this.ci={},this.overlays={},this.li=new Va(0),this.hi=!1,this.hi=!0,this.Pi=new yh,this.referenceDelegate=e(this),this.Ti=new Sh(this),this.indexManager=new eh,this.remoteDocumentCache=function(e){return new Eh(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Xd(t),this.Ei=new gh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new xh(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Go("MemoryPersistence","Starting transaction:",e);const r=new Nh(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return Ua.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class Nh extends Da{constructor(e){super(),this.currentSequenceNumber=e}}class Ih{constructor(e){this.persistence=e,this.Vi=new bh,this.mi=null}static fi(e){return new Ih(e)}get gi(){if(this.mi)return this.mi;throw Qo(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Ua.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Ua.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ua.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ua.forEach(this.gi,(n=>{const r=Ca.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,Ea.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return Ua.or([()=>Ua.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.yi=new iu((e=>Ka(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=hh(this,t)}static fi(e,t){return new Ch(e,t)}di(){}Ai(e){return Ua.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return Ua.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?Ua.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Ea.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ua.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Ua.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Ua.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ua.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rc(e.data.value)),t}Dr(e,t,n){return Ua.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Ua.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=mu(),r=mu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new kh(e,t.fromCache,n,r)}}class _h{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Oh{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=st()?8:Fa(rt())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.bs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new _h;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>i.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(qo()<=At.DEBUG&&Go("QueryEngine","SDK will not create cache indexes for query:",Zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ua.resolve()):(qo()<=At.DEBUG&&Go("QueryEngine","Query:",Zc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(qo()<=At.DEBUG&&Go("QueryEngine","The SDK decides to create cache indexes for query:",Zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yc(t))):Ua.resolve())}ws(e,t){if(qc(t))return Ua.resolve(null);let n=Yc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qc(t,null,"F"),n=Yc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=mu(...r);return this.ys.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.vs(t,r);return this.Cs(t,s,i,n.readTime)?this.ws(e,Qc(t,null,"F")):this.Fs(e,s,t,n)}))))})))))}bs(e,t,n,r){return qc(t)||r.isEqual(Ea.min())?Ua.resolve(null):this.ys.getDocuments(e,n).next((i=>{const s=this.vs(t,i);return this.Cs(t,s,n,r)?Ua.resolve(null):(qo()<=At.DEBUG&&Go("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zc(t)),this.Fs(e,s,t,Oa(r,ka)).next((e=>e)))}))}vs(e,t){let n=new Tl(nu(e));return t.forEach(((t,r)=>{eu(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return qo()<=At.DEBUG&&Go("QueryEngine","Using full collection scan to execute query:",Zc(t)),this.ys.getDocumentsMatchingQuery(e,t,ja.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Rh="LocalStore";class jh{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new El(pa),this.Os=new iu((e=>Fc(e)),Hc),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mh(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function Ph(e,t,n,r){return new jh(e,t,n,r)}async function Lh(e,t){const n=Zo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=mu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ks:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Dh(e){const t=Zo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function Mh(e,t,n){let r=mu(),i=mu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ou();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ea.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Go(Rh,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{qs:r,Qs:i}}))}function Uh(e,t){const n=Zo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Ba),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Fh(e,t){const n=Zo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((i=>i?(r=i,Ua.resolve(r)):n.Ti.allocateTargetId(e).next((i=>(r=new Qd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function Hh(e,t,n){const r=Zo(e),i=r.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ha(e))throw e;Go(Rh,`Failed to update sequence numbers for target ${t}: ${e}`)}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Vh(e,t,n){const r=Zo(e);let i=Ea.min(),s=mu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Zo(e),i=r.Os.get(n);return void 0!==i?Ua.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,Yc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:Ea.min(),n?s:mu()))).next((e=>(Bh(r,tu(t),e),{documents:e,$s:s})))))}function Bh(e,t,n){let r=e.Ns.get(t)||Ea.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class zh{constructor(){this.activeTargetIds=vu()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wh{constructor(){this.xo=new zh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qh{No(e){}shutdown(){}}const Gh="ConnectivityMonitor";class Kh{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Go(Gh,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Go(Gh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yh=null;function $h(){return null===Yh?Yh=268435456+Math.round(2147483648*Math.random()):Yh++,"0x"+Yh.toString(16)}const Qh="RestConnection",Xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jh{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${r}`,this.Go=this.databaseId.database===Bl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}zo(e,t,n,r,i){const s=$h(),o=this.jo(e,t.toUriEncodedString());Go(Qh,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(a,r,i);const{host:l}=new URL(o),c=Je(l);return this.Jo(e,o,a,n,c).then((t=>(Go(Qh,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Yo(Qh,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Yo(e,t,n,r,i,s){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Xh[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}class Zh{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const ef="WebChannelConnection";class tf extends Jh{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=$h();return new Promise(((i,o)=>{const a=new _o;a.setWithCredentials(!0),a.listenOnce(Ro.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case jo.NO_ERROR:const t=a.getResponseJson();Go(ef,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case jo.TIMEOUT:Go(ef,`RPC '${e}' ${s} timed out`),o(new ta(ea.DEADLINE_EXCEEDED,"Request time out"));break;case jo.HTTP_ERROR:const n=a.getStatus();if(Go(ef,`RPC '${e}' ${s} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ea).indexOf(t)>=0?t:ea.UNKNOWN}(t.status);o(new ta(e,t.message))}else o(new ta(ea.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ta(ea.UNAVAILABLE,"Connection failed."));break;default:Qo(9055,{h_:e,streamId:s,P_:a.getLastErrorCode(),T_:a.getLastError()})}}finally{Go(ef,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(r);Go(ef,`RPC '${e}' ${s} sending request:`,r),a.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=$h(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mo(),o=Do(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Ho(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Go(ef,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);this.E_(u);let d=!1,h=!1;const f=new Zh({Zo:t=>{h?Go(ef,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Go(ef,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Go(ef,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Oo.EventType.OPEN,(()=>{h||(Go(ef,`RPC '${e}' stream ${r} transport opened.`),f.__())})),p(u,Oo.EventType.CLOSE,(()=>{h||(h=!0,Go(ef,`RPC '${e}' stream ${r} transport closed`),f.u_(),this.d_(u))})),p(u,Oo.EventType.ERROR,(t=>{h||(h=!0,Yo(ef,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.u_(new ta(ea.UNAVAILABLE,"The operation could not be completed")))})),p(u,Oo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Jo(!!i,16349);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Go(ef,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Zu[e];if(void 0!==t)return nd(t)}(t),i=o.message;void 0===n&&(n=ea.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.u_(new ta(n,i)),u.close()}else Go(ef,`RPC '${e}' stream ${r} received:`,i),f.c_(i)}})),p(o,Lo.STAT_EVENT,(t=>{t.stat===Po.PROXY?Go(ef,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Po.NOPROXY&&Go(ef,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function nf(){return"undefined"!=typeof document?document:null}function rf(e){return new xd(e,!0)}class sf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&Go("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const of="PersistentStream";class af{constructor(e,t,n,r,i,s,o,a){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new sf(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===ea.RESOURCE_EXHAUSTED?(Ko(t.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ea.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new ta(ea.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return Go(of,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(Go(of,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lf extends af{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Jo(void 0===t||"string"==typeof t,58123),kl.fromBase64String(t||"")):(Jo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),kl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ea.UNKNOWN:nd(e.code);return new ta(t,e.message||"")}(o);n=new fd(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Od(e,r.document.name),s=Nd(r.document.updateTime),o=r.document.createTime?Nd(r.document.createTime):Ea.min(),a=new hc({mapValue:{fields:r.document.fields}}),l=pc.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new dd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Od(e,r.document),s=r.readTime?Nd(r.readTime):Ea.min(),o=pc.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dd([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Od(e,r.document),s=r.removedTargetIds||[];n=new dd([],s,i,null)}else{if(!("filter"in t))return Qo(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ju(r,i),o=e.targetId;n=new hd(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ea.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ea.min():t.readTime?Nd(t.readTime):Ea.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Pd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vc(r)?{documents:Ud(e,r)}:{query:Fd(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Sd(e,t.resumeToken);const r=Ed(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ea.min())>0){n.readTime=Ad(e,t.snapshotVersion.toTimestamp());const r=Ed(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Pd(this.serializer),t.removeTarget=e,this.Q_(t)}}class cf extends af{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Jo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jo(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Jo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(Jo(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Nd(e.updateTime):Nd(t);return n.isEqual(Ea.min())&&(n=Nd(t)),new ju(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Nd(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Pd(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Md(this.serializer,e)))};this.Q_(t)}}class uf{}class df extends uf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ta(ea.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.zo(e,Cd(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ea.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ta(ea.UNKNOWN,e.toString())}))}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Yo(e,Cd(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ea.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ta(ea.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class hf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ko(t),this.ua=!1):Go("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const ff="RemoteStore";class pf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No((e=>{n.enqueueAndForget((async()=>{Af(this)&&(Go(ff,"Restarting streams for network reachability change."),await async function(e){const t=Zo(e);t.da.add(4),await gf(t),t.Va.set("Unknown"),t.da.delete(4),await mf(t)}(this))}))})),this.Va=new hf(n,r)}}async function mf(e){if(Af(e))for(const t of e.Aa)await t(!0)}async function gf(e){for(const t of e.Aa)await t(!1)}function vf(e,t){const n=Zo(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Ef(n)?xf(n):Bf(n).N_()&&bf(n,t))}function yf(e,t){const n=Zo(e),r=Bf(n);n.Ea.delete(t),r.N_()&&wf(n,t),0===n.Ea.size&&(r.N_()?r.k_():Af(n)&&n.Va.set("Unknown"))}function bf(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ea.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bf(e).Z_(t)}function wf(e,t){e.ma.Ke(t),Bf(e).X_(t)}function xf(e){e.ma=new md({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Bf(e).start(),e.Va.ca()}function Ef(e){return Af(e)&&!Bf(e).O_()&&e.Ea.size>0}function Af(e){return 0===Zo(e).da.size}function Sf(e){e.ma=void 0}async function Tf(e){e.Va.set("Online")}async function Nf(e){e.Ea.forEach(((t,n)=>{bf(e,t)}))}async function If(e,t){Sf(e),Ef(e)?(e.Va.Pa(t),xf(e)):e.Va.set("Unknown")}async function Cf(e,t,n){if(e.Va.set("Online"),t instanceof fd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){Go(ff,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await kf(e,n)}else if(t instanceof dd?e.ma.Xe(t):t instanceof hd?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Ea.min()))try{const t=await Dh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(kl.EMPTY_BYTE_STRING,r.snapshotVersion)),wf(e,t);const i=new Qd(r.target,t,n,r.sequenceNumber);bf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Go(ff,"Failed to raise snapshot:",t),await kf(e,t)}}async function kf(e,t,n){if(!Ha(t))throw t;e.da.add(1),await gf(e),e.Va.set("Offline"),n||(n=()=>Dh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Go(ff,"Retrying IndexedDB access"),await n(),e.da.delete(1),await mf(e)}))}function _f(e,t){return t().catch((n=>kf(e,n,t)))}async function Of(e){const t=Zo(e),n=zf(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Ba;for(;Rf(t);)try{const e=await Uh(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,jf(t,e)}catch(e){await kf(t,e)}Pf(t)&&Lf(t)}function Rf(e){return Af(e)&&e.Ia.length<10}function jf(e,t){e.Ia.push(t);const n=zf(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Pf(e){return Af(e)&&!zf(e).O_()&&e.Ia.length>0}function Lf(e){zf(e).start()}async function Df(e){zf(e).ia()}async function Mf(e){const t=zf(e);for(const n of e.Ia)t.ta(n.mutations)}async function Uf(e,t,n){const r=e.Ia.shift(),i=Qu.from(r,t,n);await _f(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Of(e)}async function Ff(e,t){t&&zf(e).ea&&await async function(e,t){if(function(e){return td(e)&&e!==ea.ABORTED}(t.code)){const n=e.Ia.shift();zf(e).L_(),await _f(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Of(e)}}(e,t),Pf(e)&&Lf(e)}async function Hf(e,t){const n=Zo(e);n.asyncQueue.verifyOperationInProgress(),Go(ff,"RemoteStore received new credentials");const r=Af(n);n.da.add(3),await gf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await mf(n)}async function Vf(e,t){const n=Zo(e);t?(n.da.delete(2),await mf(n)):t||(n.da.add(2),await gf(n),n.Va.set("Unknown"))}function Bf(e){return e.fa||(e.fa=function(e,t,n){const r=Zo(e);return r.oa(),new lf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Tf.bind(null,e),n_:Nf.bind(null,e),i_:If.bind(null,e),Y_:Cf.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),Ef(e)?xf(e):e.Va.set("Unknown")):(await e.fa.stop(),Sf(e))}))),e.fa}function zf(e){return e.ga||(e.ga=function(e,t,n){const r=Zo(e);return r.oa(),new cf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Df.bind(null,e),i_:Ff.bind(null,e),na:Mf.bind(null,e),ra:Uf.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await Of(e)):(await e.ga.stop(),e.Ia.length>0&&(Go(ff,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))}))),e.ga}class Wf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Wf(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ta(ea.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qf(e,t){if(Ko("AsyncQueue",`${t}: ${e}`),Ha(e))return new ta(ea.UNAVAILABLE,`${t}: ${e}`);throw e}class Gf{static emptySet(e){return new Gf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ca.comparator(t.key,n.key):(e,t)=>Ca.comparator(e.key,t.key),this.keyedMap=lu(),this.sortedSet=new El(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Kf{constructor(){this.pa=new El(Ca.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Qo(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Yf{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Yf(e,t,Gf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class $f{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Qf{constructor(){this.queries=Xf(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Zo(e),r=n.queries;n.queries=Xf(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new ta(ea.ABORTED,"Firestore shutting down"))}}function Xf(){return new iu((e=>Jc(e)),Xc)}async function Jf(e,t){const n=Zo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Da()&&t.va()&&(r=2):(s=new $f,r=t.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=qf(e,`Initialization of query '${Zc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&np(n)}async function Zf(e,t){const n=Zo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.va()?0:1:!s.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ep(e,t){const n=Zo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&np(n)}function tp(e,t,n){const r=Zo(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function np(e){e.Ca.forEach((e=>{e.next()}))}var rp,ip;(ip=rp||(rp={})).xa="default",ip.Cache="cache";class sp{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==rp.Cache}}class op{constructor(e){this.key=e}}class ap{constructor(e){this.key=e}}class lp{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mu(),this.mutatedKeys=mu(),this.Za=nu(e),this.Xa=new Gf(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Kf,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=eu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Za(u,a)>0||l&&this.Za(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:s,nu:n,Cs:o,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qo(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const o=t&&!r?this.su():[],a=0===this.Ya.size&&this.current&&!r?1:0,l=a!==this.Ja;return this.Ja=a,0!==s.length||l?{snapshot:new Yf(this.query,e.Xa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Kf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=mu(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new ap(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new op(n))})),t}au(e){this.Ha=e.$s,this.Ya=mu();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Yf.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const cp="SyncEngine";class up{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dp{constructor(e){this.key=e,this.cu=!1}}class hp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new iu((e=>Jc(e)),Xc),this.Pu=new Map,this.Tu=new Set,this.Iu=new El(Ca.comparator),this.Eu=new Map,this.du=new bh,this.Au={},this.Ru=new Map,this.Vu=sh.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function fp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Pp(e);let i;const s=r.hu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await mp(r,t,n,!0),i}async function pp(e,t){const n=Pp(e);await mp(n,t,!0,!1)}async function mp(e,t,n,r){const i=await Fh(e.localStore,Yc(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await gp(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&vf(e.remoteStore,i),a}async function gp(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await Vh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Cp(e,t.targetId,a.ou),a.snapshot}(e,t,n,r);const s=await Vh(e.localStore,t,!0),o=new lp(t,s.$s),a=o.tu(s.documents),l=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Cp(e,n,c.ou);const u=new up(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function vp(e,t,n){const r=Zo(e),i=r.hu.get(t),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter((e=>!Xc(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yf(r.remoteStore,i.targetId),Np(r,i.targetId)})).catch(Ma)):(Np(r,i.targetId),await Hh(r.localStore,i.targetId,!0))}async function yp(e,t){const n=Zo(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yf(n.remoteStore,r.targetId))}async function bp(e,t){const n=Zo(e);try{const e=await function(e,t){const n=Zo(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ti.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(kl.EMPTY_BYTE_STRING,Ea.min()).withLastLimboFreeSnapshotVersion(Ea.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Ti.updateTargetData(e,c))}));let a=ou(),l=mu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Mh(e,s,t.documentUpdates).next((e=>{a=e.qs,l=e.Qs}))),!r.isEqual(Ea.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ua.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.xs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(Jo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?Jo(r.cu,14607):e.removedDocuments.size>0&&(Jo(r.cu,42227),r.cu=!1))})),await Op(n,e,t)}catch(e){await Ma(e)}}function wp(e,t,n){const r=Zo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Zo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)})),r&&np(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xp(e,t,n){const r=Zo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new El(Ca.comparator);e=e.insert(s,pc.newNoDocument(s,Ea.min()));const n=mu().add(s),i=new cd(Ea.min(),new Map,new El(pa),e,n);await bp(r,i),r.Iu=r.Iu.remove(s),r.Eu.delete(t),_p(r)}else await Hh(r.localStore,t,!1).then((()=>Np(r,t,n))).catch(Ma)}async function Ep(e,t){const n=Zo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Zo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ua.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Jo(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=mu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tp(n,r,null),Sp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Op(n,e)}catch(e){await Ma(e)}}async function Ap(e,t,n){const r=Zo(e);try{const e=await function(e,t){const n=Zo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Jo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tp(r,t,n),Sp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Op(r,e)}catch(n){await Ma(n)}}function Sp(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function Tp(e,t,n){const r=Zo(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function Np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||Ip(e,t)}))}function Ip(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(yf(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),_p(e))}function Cp(e,t,n){for(const r of n)r instanceof op?(e.du.addReference(r.key,t),kp(e,r)):r instanceof ap?(Go(cp,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Ip(e,r.key)):Qo(19791,{pu:r})}function kp(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(Go(cp,"New document in limbo: "+n),e.Tu.add(r),_p(e))}function _p(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Ca(Ta.fromString(t)),r=e.Vu.next();e.Eu.set(r,new dp(n)),e.Iu=e.Iu.insert(n,r),vf(e.remoteStore,new Qd(Yc(Wc(n.path)),r,"TargetPurposeLimboResolution",Va.le))}}async function Op(e,t,n){const r=Zo(e),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach(((e,a)=>{o.push(r.fu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=kh.Rs(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.lu.Y_(i),await async function(e,t){const n=Zo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ua.forEach(t,(t=>Ua.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ua.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ha(e))throw e;Go(Rh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,s))}async function Rp(e,t){const n=Zo(e);if(!n.currentUser.isEqual(t)){Go(cp,"User change. New user:",t.toKey());const e=await Lh(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new ta(ea.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Op(n,e.ks)}}function jp(e,t){const n=Zo(e),r=n.Eu.get(t);if(r&&r.cu)return mu().add(r.key);{let e=mu();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Pp(e){const t=Zo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xp.bind(null,t),t.lu.Y_=ep.bind(null,t.eventManager),t.lu.gu=tp.bind(null,t.eventManager),t}function Lp(e){const t=Zo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ep.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ap.bind(null,t),t}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Ph(this.persistence,new Oh,e.initialUser,this.serializer)}Su(e){return new Th(Ih.fi,this.serializer)}bu(e){return new Wh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class Mp extends Dp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Jo(this.persistence.referenceDelegate instanceof Ch,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new uh(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?ih.withCacheSize(this.cacheSizeBytes):ih.DEFAULT;return new Th((e=>Ch.fi(e,t)),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rp.bind(null,this.syncEngine),await Vf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qf}createDatastore(e){const t=rf(e.databaseInfo.databaseId),n=function(e){return new tf(e)}(e.databaseInfo);return function(e,t,n,r){return new df(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new pf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>wp(this.syncEngine,e,0)),Kh.C()?new Kh:new qh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new hp(e,t,n,r,i,s);return o&&(a.mu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Zo(e);Go(ff,"RemoteStore shutting down."),t.da.add(5),await gf(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Up.provider={build:()=>new Up};class Fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ko("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Hp="FirestoreClient";class Vp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Bo.UNAUTHENTICATED,this.clientId=fa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Go(Hp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Go(Hp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bp(e,t){e.asyncQueue.verifyOperationInProgress(),Go(Hp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Lh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function zp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wp(e);Go(Hp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Hf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Hf(t.remoteStore,n))),e._onlineComponents=t}async function Wp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Go(Hp,"Using user provided OfflineComponentProvider");try{await Bp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ea.FAILED_PRECONDITION||e.code===ea.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Bp(e,new Dp)}}else Go(Hp,"Using default OfflineComponentProvider"),await Bp(e,new Mp(void 0));return e._offlineComponents}async function qp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Go(Hp,"Using user provided OnlineComponentProvider"),await zp(e,e._uninitializedComponentsProvider._online)):(Go(Hp,"Using default OnlineComponentProvider"),await zp(e,new Up))),e._onlineComponents}function Gp(e){return qp(e).then((e=>e.syncEngine))}async function Kp(e){const t=await qp(e),n=t.eventManager;return n.onListen=fp.bind(null,t.syncEngine),n.onUnlisten=vp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=pp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yp.bind(null,t.syncEngine),n}function Yp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new na;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Fp({next:a=>{s.xu(),t.enqueueAndForget((()=>Zf(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new ta(ea.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new ta(ea.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new sp(Wc(n.path),s,{includeMetadataChanges:!0,Qa:!0});return Jf(e,o)}(await Kp(e),e.asyncQueue,t,n,r))),r.promise}function $p(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qp=new Map;function Xp(e,t,n){if(!n)throw new ta(ea.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Jp(e){if(!Ca.isDocumentKey(e))throw new ta(ea.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Zp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Qo(12329,{type:typeof e})}function em(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ta(ea.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(e);throw new ta(ea.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const tm="firestore.googleapis.com",nm=!0;class rm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ta(ea.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tm,this.ssl=nm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:nm;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=rh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ah)throw new ta(ea.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ta(ea.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$p(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ta(ea.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ta(ea.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ta(ea.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ta(ea.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ta(ea.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ia;switch(e.type){case"firstParty":return new la(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ta(ea.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qp.get(e);t&&(Go("ComponentProvider","Removing Datastore"),Qp.delete(e),t.terminate())}(this),Promise.resolve()}}function sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=em(e,im);const s=Je(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;s&&(Ze(`https://${l}`),nt("Firestore",!0)),o.host!==tm&&o.host!==l&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ut(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Bo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ta(ea.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Bo(s)}e._authCredentials=new sa(new ra(t,n))}}class om{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new om(this.firestore,e,this._query)}}class am{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new am(this.firestore,e,this._key)}}class lm extends om{constructor(e,t,n){super(e,t,Wc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new am(this.firestore,null,new Ca(e))}withConverter(e){return new lm(this.firestore,e,this._path)}}function cm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),1===arguments.length&&(t=fa.newId()),Xp("doc","path",t),e instanceof im){const n=Ta.fromString(t,...r);return Jp(n),new am(e,null,new Ca(n))}{if(!(e instanceof am||e instanceof lm))throw new ta(ea.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ta.fromString(t,...r));return Jp(n),new am(e.firestore,e instanceof lm?e.converter:null,new Ca(n))}}const um="AsyncQueue";class dm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new sf(this,"async_queue_retry"),this.rc=()=>{const e=nf();e&&Go(um,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=nf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=nf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new na;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(uv){if(!Ha(uv))throw uv;Go(um,"Operation failed with retryable error: "+uv)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,Ko("INTERNAL UNHANDLED ERROR: ",hm(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Wf.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&Qo(47125,{cc:hm(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function hm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class fm extends im{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new dm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dm(e),this._firestoreClient=void 0,await e}}}function pm(e,t){const n="object"==typeof e?e:Ln(),r="string"==typeof e?e:t||Bl,i=kn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Ye(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&sm(i,...e)}return i}function mm(e){if(e._terminated)throw new ta(ea.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||gm(e),e._firestoreClient}function gm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Vl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$p(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Vp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class vm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vm(kl.fromBase64String(e))}catch(e){throw new ta(ea.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vm(kl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ym{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ta(ea.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ia(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bm{constructor(e){this._methodName=e}}class wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ta(ea.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ta(ea.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pa(this._lat,e._lat)||pa(this._long,e._long)}}class xm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Em=/^__.*__$/;class Am{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}function Sm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qo(40011,{Ic:e})}}class Tm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Dm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(Sm(this.Ic)&&Em.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Nm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rf(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Tm({Ic:e,methodName:t,wc:n,path:Ia.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Im(e){const t=e._freezeSettings(),n=rf(e._databaseId);return new Nm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.bc(s.merge||s.mergeFields?2:0,t,n,i);Rm("Data must be an object, but it was:",o,r);const a=_m(r,o);let l,c;if(s.merge)l=new Il(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=jm(t,r,n);if(!o.contains(i))throw new ta(ea.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Mm(e,i)||e.push(i)}l=new Il(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Am(new hc(a),l,c)}function km(e,t){if(Om(e=vt(e)))return Rm("Unsupported field value:",t,e),_m(e,t);if(e instanceof bm)return function(e,t){if(!Sm(t.Ic))throw t.gc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.gc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=km(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=vt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=xa.fromDate(e);return{timestampValue:Ad(t.serializer,n)}}if(e instanceof xa){const n=new xa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ad(t.serializer,n)}}if(e instanceof wm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vm)return{bytesValue:Sd(t.serializer,e._byteString)};if(e instanceof am){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Id(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xm)return function(e,t){return{mapValue:{fields:{[Wl]:{stringValue:Kl},[Yl]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return yu(t.serializer,e)}))}}}}}}(e,t);throw t.gc(`Unsupported field value: ${Zp(e)}`)}(e,t)}function _m(e,t){const n={};return xl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wl(e,((e,r)=>{const i=km(r,t.Ac(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Om(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xa||e instanceof wm||e instanceof vm||e instanceof am||e instanceof bm||e instanceof xm)}function Rm(e,t,n){if(!Om(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Zp(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function jm(e,t,n){if((t=vt(t))instanceof ym)return t._internalPath;if("string"==typeof t)return Lm(e,t);throw Dm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pm=new RegExp("[~\\*/\\[\\]]");function Lm(e,t,n){if(t.search(Pm)>=0)throw Dm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ym(...t.split("."))._internalPath}catch(r){throw Dm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ta(ea.INVALID_ARGUMENT,a+e+l)}function Mm(e,t){return e.some((e=>e.isEqual(t)))}class Um{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new am(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fm extends Um{data(){return super.data()}}function Hm(e,t){return"string"==typeof t?Lm(e,t):t instanceof ym?t._internalPath:t._delegate._internalPath}class Vm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Yl].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Rl(e.doubleValue)));return new xm(i)}convertGeoPoint(e){return new wm(Rl(e.latitude),Rl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Fl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=Ol(e);return new xa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ta.fromString(e);Jo($d(n),9688,{name:e});const r=new zl(n.get(1),n.get(3)),i=new Ca(n.popFirst(5));return r.isEqual(t)||Ko(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Bm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wm extends Um{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class qm extends Wm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}function Gm(e){e=em(e,am);const t=em(e.firestore,fm);return Yp(mm(t),e._key).then((n=>Qm(t,e,n)))}class Km extends Vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new vm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new am(this.firestore,null,t)}}function Ym(e,t,n){e=em(e,am);const r=em(e.firestore,fm),i=Bm(e.converter,t,n);return $m(r,[Cm(Im(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Pu.none())])}function $m(e,t){return function(e,t){const n=new na;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Lp(e);try{const e=await function(e,t){const n=Zo(e),r=xa.now(),i=t.reduce(((e,t)=>e.add(t.key)),mu());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ou(),l=mu();return n.Bs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Hu(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new zu(e.key,t,fc(t.value.mapValue),Pu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:cu(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new El(pa)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Op(r,e.changes),await Of(r.remoteStore)}catch(e){const t=qf(e,"Failed to persist write");n.reject(t)}}(await Gp(e),t,n))),n.promise}(mm(e),t)}function Qm(e,t,n){const r=n.docs.get(t._key),i=new Km(e);return new Wm(e,i,t._key,r,new zm(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zo=e}(jn),Cn(new yt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new fm(new oa(e.getProvider("auth-internal")),new ua(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ta(ea.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Dn(Ho,Vo,e),Dn(Ho,Vo,"esm2017")}();const Xm=Pn({apiKey:"AIzaSyCIjB4ANmQ6wYUGbQuMl21EG63v-4bxXfI",authDomain:"herma-landing-b5105.firebaseapp.com",projectId:"herma-landing-b5105",storageBucket:"herma-landing-b5105.appspot.com",messagingSenderId:"7482382687",appId:"1:7482382687:web:45992debf38e20be6afeea",measurementId:"G-LPXDF1N8TX"}),Jm=So(Xm),Zm=(pm(Xm),(0,i.createContext)());function eg(){const e=(0,i.useContext)(Zm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function tg(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0),[a,l]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=es(Jm,(e=>{r(e),o(!1)}));return e}),[]);const c={currentUser:n,user:n,loading:s,error:a,signup:async(e,t)=>{try{l(null);return await Xi(Jm,e,t)}catch(a){throw l(a.message),a}},signin:async(e,t)=>{try{l(null);return await Ji(Jm,e,t)}catch(a){throw l(a.message),a}},signInWithGoogle:async()=>{try{l(null);const e=new Ui;return await Fs(Jm,e)}catch(a){throw l(a.message),a}},logout:async()=>{try{l(null),await ts(Jm)}catch(a){throw l(a.message),a}},setError:l};return(0,Pe.jsx)(Zm.Provider,{value:c,children:!s&&t})}const ng={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://us-central1-herma-landing-b5105.cloudfunctions.net/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyCIjB4ANmQ6wYUGbQuMl21EG63v-4bxXfI",REACT_APP_FIREBASE_APP_ID:"1:7482382687:web:45992debf38e20be6afeea",REACT_APP_FIREBASE_AUTH_DOMAIN:"herma-landing-b5105.firebaseapp.com",REACT_APP_FIREBASE_FUNCTIONS_URL:"https://api-opcyvaprha-uc.a.run.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-LPXDF1N8TX",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"7482382687",REACT_APP_FIREBASE_PROJECT_ID:"herma-landing-b5105",REACT_APP_FIREBASE_STORAGE_BUCKET:"herma-landing-b5105.appspot.com",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ra4P4Pq3xOWKbiJbjwxqQ8G",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_test_51Ra43PPq3xOWKbiJK5luGbuyaHU60KXhNaoDhNl9UZothPdkO1XJcSv96BPhFP7wLGHfxPaa2DM4N7NnzBXSeQUe00q41uinG6",REACT_APP_URL:"https://herma-landing-b5105.firebaseapp.com/"}.REACT_APP_FUNCTIONS_URL||"https://api-opcyvaprha-uc.a.run.app",rg=async e=>{try{console.log("Creating checkout session for user:",e.uid),console.log("Using functions URL:",ng);const t={userId:e.uid,userEmail:e.email,priceId:"price_1Ra4P4Pq3xOWKbiJbjwxqQ8G",successUrl:`${window.location.origin}/#/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${window.location.origin}/#/cancel`};console.log("Request body:",t);const n=await fetch(`${ng}/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("Response status:",n.status),console.log("Response ok:",n.ok),!n.ok){const e=await n.text();throw console.error("Error response text:",e),new Error(`Failed to create checkout session: ${n.status} ${e}`)}const r=await n.json();if(console.log("Checkout session response:",r),r.url)return window.location.href=r.url,r;throw new Error("No checkout URL returned from server")}catch(t){throw console.error("Error in createCheckoutSession:",t),t}};var ig,sg="basil",og="https://js.stripe.com",ag="".concat(og,"/").concat(sg,"/stripe.js"),lg=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,cg=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,ug="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",dg=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(ag).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},hg=null,fg=null,pg=null,mg=function(e){return null!==hg?hg:(hg=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(ug),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(og,'"]')),n=0;n<t.length;n++){var r=t[n];if(e=r.src,lg.test(e)||cg.test(e))return r}return null}();if(r&&e)console.warn(ug);else if(r){if(r&&null!==pg&&null!==fg){var i;r.removeEventListener("load",pg),r.removeEventListener("error",fg),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=dg(e)}}else r=dg(e);pg=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),fg=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",pg),r.addEventListener("error",fg)}catch(s){return void n(s)}else t(null)}))).catch((function(e){return hg=null,Promise.reject(e)}))},gg=!1,vg=function(){return ig||(ig=mg(null).catch((function(e){return ig=null,Promise.reject(e)})))};Promise.resolve().then((function(){return vg()})).catch((function(e){gg||console.warn(e)}));var yg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];gg=!0;var r=Date.now();return vg().then((function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),i=function(e){return 3===e?"v3":e}(e.version),s=sg;r&&i!==s&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})}(o,n),o}(e,t,r)}))};const bg=yg("pk_test_51Ra43PPq3xOWKbiJK5luGbuyaHU60KXhNaoDhNl9UZothPdkO1XJcSv96BPhFP7wLGHfxPaa2DM4N7NnzBXSeQUe00q41uinG6"),wg=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)("unknown"),[c,u]=(0,i.useState)(0),d=ee(),{user:h}=eg(),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null);(0,i.useEffect)((()=>{l((()=>{const e=window.navigator.userAgent,t=window.navigator.platform;return-1!==t.indexOf("Mac")||-1!==e.indexOf("Macintosh")||-1!==e.indexOf("MacIntel")?"mac":-1!==t.indexOf("Win")||-1!==e.indexOf("Windows")?"windows":-1!==t.indexOf("Linux")||-1!==e.indexOf("Linux")?"linux":"unknown"})())}),[]),(0,i.useEffect)((()=>{const e=setInterval((()=>{u((e=>(e+1)%v.length))}),5e3);return()=>clearInterval(e)}),[]);const v=[{image:Me,alt:"Herma App Preview - Private AI",title:"Private AI",description:"All data stays on your device"},{image:Ue,alt:"Herma App Preview - Document Analysis",title:"Analyze Documents",description:"Power Herma with your personal documents"},{image:Fe,alt:"Herma App Preview - Content Generation",title:"Generate Creative Content",description:"Create drafts, outlines, and fresh ideas"},{image:He,alt:"Herma App Preview - Problem Solving",title:"Solve Complex Problems",description:"Get step-by-step guidance for any challenge"}],y=e=>()=>{je(e)},b=()=>{o(null)},w=(e,t)=>{t.preventDefault(),d(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,Pe.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white overflow-hidden",children:[(0,Pe.jsxs)("section",{className:"relative w-full min-h-screen flex items-center justify-center pt-16 pb-24 overflow-hidden",children:[(0,Pe.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Pe.jsx)("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-[var(--highlight-color)] opacity-5 rounded-bl-full transform -translate-y-1/4 translate-x-1/4"}),(0,Pe.jsx)("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-indigo-500 opacity-5 rounded-tr-full transform translate-y-1/4 -translate-x-1/4"}),(0,Pe.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-repeat opacity-30 pointer-events-none",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNDB2NDBoLTQweiIgZmlsbD0ibm9uZSIvPjxjaXJjbGUgY3g9IjIwIiBjeT0iMjAiIHI9IjEiLz48L2c+PC9zdmc+')"}})]}),(0,Pe.jsx)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative z-10",children:(0,Pe.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-24",children:[(0,Pe.jsxs)("div",{className:"w-full lg:w-1/2 text-center lg:text-left",children:[(0,Pe.jsx)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 leading-tight",children:"Privacy is Power"}),(0,Pe.jsx)("p",{className:"text-xl md:text-2xl text-blue-800 mb-6 font-light max-w-xl mx-auto lg:mx-0",children:"A local alternative to cloud-based AI"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-700 mb-8 max-w-lg mx-auto lg:mx-0",children:"Take the short way. All your data stays on your device."}),(0,Pe.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-3 mb-6",children:[(0,Pe.jsxs)("button",{onClick:y("mac"===a?"mac":"windows"),className:"group relative overflow-hidden px-6 py-3 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform transition-all duration-200 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-[var(--highlight-color)]/30 focus:ring-offset-2 w-full sm:w-auto sm:min-w-[180px]",children:[(0,Pe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),(0,Pe.jsx)("span",{className:"relative flex items-center justify-center gap-2",children:"mac"===a?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("span",{className:"text-lg",children:"\u2318"}),(0,Pe.jsx)("span",{children:"Download for Mac"})]}):"windows"===a?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("span",{className:"text-lg",children:"\u229e"}),(0,Pe.jsx)("span",{children:"Download for Free"})]}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("span",{className:"text-lg",children:"\u2193"}),(0,Pe.jsx)("span",{children:"Download Herma"})]})})]}),(0,Pe.jsxs)("button",{onClick:async()=>{if(h){p(!0),g(null);try{const{session:e,error:t}=await rg(h);if(t)throw new Error(t);const n=await bg,{error:r}=await n.redirectToCheckout({sessionId:e.id});if(r)throw new Error(r.message)}catch(m){console.error("Upgrade error:",m),g(m.message)}finally{p(!1)}}else d("/login?redirect=checkout")},disabled:f,className:"group relative overflow-hidden px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform transition-all duration-200 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-amber-500/30 focus:ring-offset-2 w-full sm:w-auto sm:min-w-[160px] disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Pe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),(0,Pe.jsxs)("span",{className:"relative flex items-center justify-center gap-2",children:[(0,Pe.jsx)("span",{className:"text-lg",children:"\u2b50"}),(0,Pe.jsx)("span",{children:f?"Processing...":"Upgrade to Pro"})]})]})]}),m&&(0,Pe.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Pe.jsx)("p",{className:"text-red-700 text-sm",children:m})}),(0,Pe.jsxs)("p",{className:"text-[0.75rem] text-blue-800/70",children:["By downloading, you agree to our ",(0,Pe.jsx)("a",{href:"/privacy-policy",onClick:e=>w("/privacy-policy",e),className:"underline hover:text-blue-800",children:"License"})," and ",(0,Pe.jsx)("a",{href:"/terms-of-service",onClick:e=>w("/terms-of-service",e),className:"underline hover:text-blue-800",children:"Terms of Service"}),"."]})]}),(0,Pe.jsxs)("div",{className:"w-full lg:w-1/2 relative",children:[(0,Pe.jsx)("div",{className:"absolute -top-16 -right-16 w-64 h-64 bg-[var(--highlight-color)] rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"}),(0,Pe.jsx)("div",{className:"absolute -bottom-16 -left-16 w-64 h-64 bg-indigo-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"}),(0,Pe.jsxs)("div",{className:"relative rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-700 p-1 shadow-2xl",children:[(0,Pe.jsx)("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gray-800 rounded-t-2xl flex items-center px-4 z-20",children:(0,Pe.jsxs)("div",{className:"flex space-x-2",children:[(0,Pe.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,Pe.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,Pe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]})}),(0,Pe.jsxs)("div",{className:"bg-white rounded-b-xl pt-7 overflow-hidden",children:[(0,Pe.jsx)("div",{className:"relative",style:{paddingBottom:"56.25%"},children:v.map(((e,t)=>(0,Pe.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:t===c?1:0,zIndex:t===c?10:0,transition:"opacity 500ms ease-in-out"},children:(0,Pe.jsx)("img",{src:e.image,alt:e.alt,className:"w-full h-full object-cover cursor-pointer",onClick:()=>(e=>{o(e)})(e)})},t)))}),(0,Pe.jsxs)("div",{className:"py-4 px-6 bg-gradient-to-r from-blue-50 to-indigo-50 relative",children:[v.map(((e,t)=>(0,Pe.jsxs)("div",{style:{position:t===c?"relative":"absolute",top:0,left:0,width:"100%",opacity:t===c?1:0,transition:"opacity 500ms ease-in-out",pointerEvents:t===c?"auto":"none"},children:[(0,Pe.jsx)("h3",{className:"text-lg font-bold text-blue-900",children:e.title}),(0,Pe.jsx)("p",{className:"text-sm text-blue-700",children:e.description})]},t))),(0,Pe.jsx)("div",{className:"absolute bottom-14 left-0 right-0 flex justify-center gap-2 p-2 z-20",children:v.map(((e,t)=>(0,Pe.jsx)("button",{className:"w-2.5 h-2.5 rounded-full transition-all "+(t===c?"bg-[var(--highlight-color)] w-8":"bg-blue-300 hover:bg-blue-400"),onClick:()=>u(t),"aria-label":`Go to slide ${t+1}`},t)))})]})]})]})]})]})})]}),(0,Pe.jsx)("section",{className:"py-24 bg-white",id:"features",children:(0,Pe.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Pe.jsxs)("div",{className:"text-center mb-16",children:[(0,Pe.jsx)("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:"Everything You Need to Know"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-600 max-w-2xl mx-auto",children:"Get started with Herma and experience private AI on your device"})]}),(0,Pe.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,Pe.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-xl border border-blue-100 hover:shadow-2xl transition-shadow duration-300 "+(e?"h-auto":"h-[4.5rem]"),children:[(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 px-6 py-5 cursor-pointer flex justify-between items-center",onClick:()=>{t(!e)},style:{borderRadius:e?"0.75rem 0.75rem 0 0":"0.75rem"},children:[(0,Pe.jsx)("h3",{className:"text-xl font-semibold text-white",children:"System Suggestions"}),(0,Pe.jsx)("span",{className:"text-white text-xl bg-white/20 w-8 h-8 rounded-full flex items-center justify-center",children:e?"\u2212":"+"})]}),(0,Pe.jsx)("div",{className:"transition-all duration-300 "+(e?"max-h-[500px] opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:(0,Pe.jsxs)("div",{className:"p-6",children:[(0,Pe.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[(0,Pe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Processor"}),(0,Pe.jsx)("p",{className:"text-sm text-blue-700",children:"Modern CPU (Intel i5/AMD Ryzen 5 or higher)"})]}),(0,Pe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Memory"}),(0,Pe.jsx)("p",{className:"text-sm text-blue-700",children:"16GB RAM minimum, 32GB recommended for complex tasks"})]}),(0,Pe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Graphics"}),(0,Pe.jsx)("p",{className:"text-sm text-blue-700",children:"GPU with CUDA support recommended for best performance"})]}),(0,Pe.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Storage"}),(0,Pe.jsx)("p",{className:"text-sm text-blue-700",children:"20GB available disk space for model and dependencies"})]})]}),(0,Pe.jsx)("div",{className:"text-sm text-center text-blue-600 italic",children:"Herma uses Llama 3.2:1B technology to deliver AI capabilities directly on your device without sending your data to the cloud."})]})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-xl border border-blue-100 hover:shadow-2xl transition-shadow duration-300 "+(n?"h-auto":"h-[4.5rem]"),children:[(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 px-6 py-5 cursor-pointer flex justify-between items-center",onClick:()=>{r(!n)},style:{borderRadius:n?"0.75rem 0.75rem 0 0":"0.75rem"},children:[(0,Pe.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Helpful Tips"}),(0,Pe.jsx)("span",{className:"text-white text-xl bg-white/20 w-8 h-8 rounded-full flex items-center justify-center",children:n?"\u2212":"+"})]}),(0,Pe.jsx)("div",{className:"transition-all duration-300 "+(n?"max-h-[500px] opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:(0,Pe.jsxs)("div",{className:"p-6",children:[(0,Pe.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[(0,Pe.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Be Specific"}),(0,Pe.jsx)("p",{className:"text-sm text-indigo-700",children:"Clearly state your problem and provide extra context for better responses."})]}),(0,Pe.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Break Down Tasks"}),(0,Pe.jsx)("p",{className:"text-sm text-indigo-700",children:"Split complex requests into smaller, more manageable steps for better results."})]}),(0,Pe.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Follow-up Questions"}),(0,Pe.jsx)("p",{className:"text-sm text-indigo-700",children:"Follow up with clarifications to guide responses toward your needs."})]}),(0,Pe.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Short Memory"}),(0,Pe.jsx)("p",{className:"text-sm text-indigo-700",children:"Longer chats may decrease response accuracy."})]})]}),(0,Pe.jsx)("div",{className:"text-sm text-center text-indigo-600 italic",children:"Herma shines when you are clear, specific, and provide the right context for your question."})]})})]})]}),(0,Pe.jsxs)("div",{className:"mt-24",children:[(0,Pe.jsxs)("div",{className:"text-center mb-16",children:[(0,Pe.jsx)("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:"Key Benefits"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-600 max-w-2xl mx-auto",children:"Why choose Herma for your AI needs"})]}),(0,Pe.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Pe.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 flex flex-col items-center text-center",children:[(0,Pe.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-[var(--highlight-color)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Pe.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"100% Private"}),(0,Pe.jsx)("p",{className:"text-blue-700",children:"Your data never leaves your device. No cloud processing means total privacy protection."})]}),(0,Pe.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 flex flex-col items-center text-center",children:[(0,Pe.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-[var(--highlight-color)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Pe.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Fast Response"}),(0,Pe.jsx)("p",{className:"text-blue-700",children:"Get instant results with no internet latency. Local processing means quicker AI interactions."})]}),(0,Pe.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 flex flex-col items-center text-center",children:[(0,Pe.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-[var(--highlight-color)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,Pe.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Always Available"}),(0,Pe.jsx)("p",{className:"text-blue-700",children:"Works offline with no subscription required. Access powerful AI capabilities anytime, anywhere."})]})]})]}),(0,Pe.jsx)("div",{className:"mt-24 text-center",children:(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-12 rounded-2xl shadow-lg",children:[(0,Pe.jsx)("h3",{className:"text-3xl font-bold text-blue-900 mb-6",children:"Ready to experience private AI?"}),(0,Pe.jsx)("p",{className:"text-xl text-blue-700 mb-8 max-w-2xl mx-auto",children:"Download Herma today and take control of your AI experience"}),(0,Pe.jsx)("button",{onClick:y("mac"===a?"mac":"windows"),className:"px-10 py-5 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white text-xl font-medium rounded-lg shadow-xl transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Download Herma Now"}),(0,Pe.jsxs)("p",{className:"mt-4 text-sm text-blue-600",children:["mac"===a?"Available for Mac":"windows"===a?"Available for Windows":"Available for Windows and macOS"," \u2022 No Internet Required"]})]})})]})}),s&&(0,Pe.jsx)("div",{className:"fixed top-0 left-0 w-full h-full bg-black/90 flex items-center justify-center z-50 p-4",onClick:b,children:(0,Pe.jsxs)("div",{className:"relative max-w-4xl w-full rounded-lg overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Pe.jsx)("button",{className:"absolute top-4 right-4 bg-black/50 text-white w-10 h-10 rounded-full flex items-center justify-center z-10 hover:bg-black/80 transition-colors",onClick:b,children:"\u2715"}),(0,Pe.jsx)("img",{src:s.image,alt:s.alt,className:"w-full h-auto max-h-[80vh] object-contain"}),(0,Pe.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white p-4",children:[(0,Pe.jsx)("h3",{className:"text-xl font-bold",children:s.title}),(0,Pe.jsx)("p",{children:s.description})]})]})})]})},xg=e=>{let{icon:t,title:n,description:r}=e;return(0,Pe.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 h-full flex flex-col border border-blue-100",children:[(0,Pe.jsx)("div",{className:"mb-6 text-[var(--highlight-color)] flex justify-center",children:t}),(0,Pe.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:n}),(0,Pe.jsx)("p",{className:"text-blue-700 flex-grow text-center",children:r})]})},Eg=()=>{const[e,t]=(0,i.useState)("unknown");(0,i.useEffect)((()=>{t((()=>{const e=window.navigator.userAgent,t=window.navigator.platform;return-1!==t.indexOf("Mac")||-1!==e.indexOf("Macintosh")||-1!==e.indexOf("MacIntel")?"mac":-1!==t.indexOf("Win")||-1!==e.indexOf("Windows")?"windows":-1!==t.indexOf("Linux")||-1!==e.indexOf("Linux")?"linux":"unknown"})())}),[]);const n=[{id:4,icon:(0,Pe.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:(0,Pe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})})}),title:"100% Private",description:"Your conversations and documents stay on your device. No information leaves your control."},{id:5,icon:(0,Pe.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:(0,Pe.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"})})}),title:"No Internet Required",description:"Herma runs locally, so you can get fast responses without the need for an internet connection."},{id:6,icon:(0,Pe.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:(0,Pe.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})})}),title:"Document Analysis",description:"Herma can handle large documents, making it easy to analyze and summarize complex information."}],r=[{id:1,icon:(0,Pe.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:(0,Pe.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"})})}),title:"Contextual Intelligence",description:"Context from documents, memory, and more allows Herma to provide accurate and efficient responses."},{id:2,icon:(0,Pe.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:(0,Pe.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"})})}),title:"Smart Conversations",description:"Herma combines local LLMs with powerful memory to have helpful conversations."},{id:3,icon:(0,Pe.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-10 h-10",children:(0,Pe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),title:"Fully Personalized",description:"Herma learns from your documents and conversations, allowing it to provide personalized responses."}];return(0,Pe.jsxs)("section",{className:"py-24 bg-white",id:"about",children:[(0,Pe.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[(0,Pe.jsxs)("div",{className:"text-center mb-16",children:[(0,Pe.jsxs)("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:["About ",(0,Pe.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 font-bold",children:"H\u039eRM\u039b"})]}),(0,Pe.jsx)("div",{className:"w-32 h-1 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 mx-auto"})]}),(0,Pe.jsxs)("div",{className:"max-w-3xl mx-auto mb-20 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 shadow-lg",children:[(0,Pe.jsx)("p",{className:"text-center text-lg text-blue-800 leading-relaxed mb-6",children:"When you use AI with your personal data, you typically face a difficult choice: either send your private information to cloud services or struggle with complicated local solutions that don't work as well."}),(0,Pe.jsx)("p",{className:"text-center text-lg text-blue-800 leading-relaxed",children:"Herma gives you the best of both worlds \u2014 powerful AI capabilities that run entirely on your device. We're making private AI usable, affordable, and accessible to everyone."})]}),(0,Pe.jsxs)("div",{className:"space-y-16",id:"features",children:[(0,Pe.jsxs)("div",{className:"text-center mb-8",children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Key Features"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-600 max-w-xl mx-auto",children:"Everything you need in a private AI assistant"})]}),(0,Pe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(((e,t)=>(0,Pe.jsx)("div",{className:"transform opacity-0 transition-all duration-500 ease-in-out animate-fadeInUp",style:{animationDelay:150*t+"ms"},children:(0,Pe.jsx)(xg,{icon:e.icon,title:e.title,description:e.description})},e.id)))}),(0,Pe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(((e,t)=>(0,Pe.jsx)("div",{className:"transform opacity-0 transition-all duration-500 ease-in-out animate-fadeInUp",style:{animationDelay:150*(t+3)+"ms"},children:(0,Pe.jsx)(xg,{icon:e.icon,title:e.title,description:e.description})},e.id)))})]}),(0,Pe.jsx)("div",{className:"mt-24",children:(0,Pe.jsx)("div",{className:"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 rounded-2xl py-12 px-8 shadow-xl",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("h3",{className:"text-3xl font-bold text-white mb-4",children:"Experience the Power of Local AI"}),(0,Pe.jsx)("p",{className:"text-white text-lg opacity-90 mb-8 max-w-2xl mx-auto",children:"Join us in building a future where AI is powerful, private, and accessible to everyone."}),(0,Pe.jsx)("button",{onClick:(e=>()=>{je(e)})("mac"===e?"mac":"windows"),className:"px-10 py-4 bg-white text-[var(--highlight-color)] font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:scale-105",children:"Download Now"}),(0,Pe.jsxs)("p",{className:"mt-4 text-white/80 text-sm",children:["mac"===e?"Available for Mac":"windows"===e?"Available for Windows":"Available for Windows and macOS"," \u2022 No Internet Required"]})]})})})]}),(0,Pe.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .animate-fadeInUp {\n          animation: fadeInUp 0.5s ease-out forwards;\n        }\n      "})]})},Ag=()=>{const e=(new Date).getFullYear(),t=ee(),n=(e,n)=>{n.preventDefault(),t(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,Pe.jsx)("footer",{className:"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white py-10 shadow-lg",children:(0,Pe.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Pe.jsxs)("div",{className:"text-center md:text-left",children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"H\u039eRM\u039b"}),(0,Pe.jsx)("p",{className:"text-white/80",children:"Local AI that prioritizes your privacy and security."}),(0,Pe.jsxs)("div",{className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[(0,Pe.jsx)("a",{href:"https://twitter.com/herma_AI",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 hover:bg-white/20 p-2 rounded-full transition-all",children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Pe.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),(0,Pe.jsx)("a",{href:"https://discord.gg/herma-community",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 hover:bg-white/20 p-2 rounded-full transition-all",children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Pe.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})})]})]}),(0,Pe.jsxs)("div",{className:"text-center md:text-left",children:[(0,Pe.jsx)("h4",{className:"text-lg font-semibold mb-4 text-white",children:"Quick Links"}),(0,Pe.jsxs)("ul",{className:"space-y-2",children:[(0,Pe.jsx)("li",{children:(0,Pe.jsx)("a",{href:"/privacy-policy",className:"text-white/80 hover:text-white transition-colors duration-200",onClick:e=>n("/privacy-policy",e),children:"License"})}),(0,Pe.jsx)("li",{children:(0,Pe.jsx)("a",{href:"/terms-of-service",className:"text-white/80 hover:text-white transition-colors duration-200",onClick:e=>n("/terms-of-service",e),children:"Terms of Service"})}),(0,Pe.jsx)("li",{children:(0,Pe.jsx)("a",{href:"/attributions",className:"text-white/80 hover:text-white transition-colors duration-200",onClick:e=>n("/attributions",e),children:"Attributions"})})]})]}),(0,Pe.jsxs)("div",{className:"text-center md:text-left",children:[(0,Pe.jsx)("h4",{className:"text-lg font-semibold mb-4 text-white",children:"Contact Us"}),(0,Pe.jsxs)("p",{className:"flex items-center justify-center md:justify-start mb-4",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Pe.jsx)("a",{href:"mailto:hermalocal@gmail.com",className:"text-white hover:text-blue-200 transition-colors duration-200",children:"hermalocal@gmail.com"})]})]})]}),(0,Pe.jsx)("div",{className:"h-px bg-white/20 my-8"}),(0,Pe.jsx)("div",{className:"text-center text-white/70 text-sm",children:(0,Pe.jsxs)("p",{children:["\xa9 ",e," Herma. All rights reserved."]})})]})})},Sg=()=>(0,Pe.jsx)("div",{className:"policy-container",children:(0,Pe.jsxs)("div",{className:"container",children:[(0,Pe.jsx)("h1",{className:"policy-title",children:"END USER LICENSE AGREEMENT"}),(0,Pe.jsxs)("div",{className:"policy-content",children:[(0,Pe.jsx)("p",{children:'This End User License Agreement (the "Agreement") is a binding agreement between you ("User" or "you") and Herma ("Company"). This Agreement governs your use of the Herma application for Windows or Mac operating systems (the "Application"), which provides local large language model capabilities with document processing features.'}),(0,Pe.jsx)("p",{children:"Company reserves the right to change or modify any of the terms and conditions contained in the Agreement at any time with prior notice, and all such revisions are effective upon posting and apply to all access to and continued use of the Application."}),(0,Pe.jsxs)("div",{className:"policy-notice",children:[(0,Pe.jsx)("p",{children:"BY DOWNLOADING, INSTALLING, OR USING THE APPLICATION, YOU:"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"(A) ACCEPT AND AGREE TO BE BOUND AND COMPLY WITH THIS AGREEMENT;"}),(0,Pe.jsx)("li",{children:"(B) REPRESENT AND WARRANT THAT YOU ARE THE LEGAL AGE OF MAJORITY UNDER APPLICABLE LAW TO FORM A BINDING CONTRACT WITH US; AND,"}),(0,Pe.jsx)("li",{children:"(C) AGREE THAT IF YOU ACCESS THE APPLICATION FROM A JURISDICTION WHERE IT IS NOT PERMITTED, YOU DO SO AT YOUR OWN RISK."})]}),(0,Pe.jsx)("p",{children:"IF YOU DO NOT AGREE TO THESE TERMS, DO NOT DOWNLOAD, INSTALL, OR USE THE APPLICATION."})]}),(0,Pe.jsx)("h2",{children:"1. LICENSE"}),(0,Pe.jsx)("p",{children:"Subject to the terms of this Agreement, Company grants you a limited, non-exclusive, non-transferable license to download, install, and use the Application for your personal or commercial use on devices owned or otherwise controlled by you strictly in accordance with the Application's documentation."}),(0,Pe.jsx)("p",{children:"You shall not:"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"(a) Copy the Application, except as expressly permitted by this Agreement;"}),(0,Pe.jsx)("li",{children:"(b) Modify, translate, adapt, or otherwise create derivative works or improvements of the Application;"}),(0,Pe.jsx)("li",{children:"(c) Reverse engineer, disassemble, decompile, decode, or otherwise attempt to derive or gain access to the source code of the Application or any part thereof;"}),(0,Pe.jsx)("li",{children:"(d) Remove, delete, alter, or obscure any trademarks or any copyright, trademark, patent, or other intellectual property or proprietary rights notices from the Application, including any copy thereof;"}),(0,Pe.jsx)("li",{children:"(e) Rent, lease, lend, sell, sublicense, assign, distribute, publish, transfer, or otherwise make available the Application, or any features or functionality of the Application, to any third party for any reason; or"}),(0,Pe.jsx)("li",{children:"(f) Remove, disable, circumvent, or otherwise create or implement any workaround to any copy protection, rights management, or security features in or protecting the Application."})]}),(0,Pe.jsx)("p",{children:"You acknowledge and agree that the Application is provided under license, and not sold, to you. You do not acquire any ownership interest in the Application under this Agreement, or any other rights thereto other than to use the Application in accordance with the license granted, and subject to all terms, conditions, and restrictions under this Agreement. Company reserves and shall retain its entire right, title, and interest in and to the Application, including all copyrights, trademarks, and other intellectual property rights therein or relating thereto, except as expressly granted to you in this Agreement."}),(0,Pe.jsx)("h2",{children:"2. LOCAL PROCESSING AND DATA PRIVACY"}),(0,Pe.jsx)("h3",{children:"2.1 Local Operation"}),(0,Pe.jsx)("p",{children:"The Application operates exclusively on your local device. We do not receive, collect, store, or have access to any content you process using the Application after you have purchased and installed it."}),(0,Pe.jsx)("h3",{children:"2.2 No Data Transmission"}),(0,Pe.jsx)("p",{children:"The Application does not transmit your documents or processed content to our servers or any third-party servers during normal operation. All processing, including document analysis and AI-generated responses, occurs locally on your device."}),(0,Pe.jsx)("h3",{children:"2.3 User Responsibility"}),(0,Pe.jsx)("p",{children:"You are solely responsible for:"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"The security of your device where the Application is installed"}),(0,Pe.jsx)("li",{children:"Backing up any content processed by the Application"}),(0,Pe.jsx)("li",{children:"Compliance with applicable laws regarding the content you process"}),(0,Pe.jsx)("li",{children:"Any consequences arising from the use of AI-generated content or analysis provided by the Application"})]}),(0,Pe.jsx)("h2",{children:"3. USER CONTENT"}),(0,Pe.jsx)("p",{children:'The Application may provide you with the opportunity to upload, submit, or process content and materials, including but not limited to text, documents, writings, or other material (collectively, "Content").'}),(0,Pe.jsx)("p",{children:"We do not assert any ownership over your Content. You retain full ownership of all of your Content and any intellectual property rights or other proprietary rights associated with your Content. We do not have access to your Content after you have installed the Application, as all processing occurs locally on your device."}),(0,Pe.jsx)("p",{children:"You are solely responsible for your Content and you expressly agree to exonerate us from any and all responsibility and to refrain from any legal action against us regarding your Content."}),(0,Pe.jsx)("h2",{children:"4. COLLECTION AND USE OF INFORMATION"}),(0,Pe.jsx)("p",{children:"You acknowledge that when you download the Application, Company may use automatic means to collect information about your device and about your use of the Application for diagnostic and improvement purposes only. No user Content will be collected. All information we collect through or in connection with this Application is subject to our Privacy Policy. By downloading, installing, using, and providing information to or through this Application, you consent to all actions taken by us with respect to your information in compliance with the Privacy Policy."}),(0,Pe.jsx)("h2",{children:"5. UPDATES"}),(0,Pe.jsx)("p",{children:'Company may from time to time in its sole discretion develop and provide Application updates, which may include upgrades, bug fixes, patches, and other error corrections and/or new features (collectively, including related documentation, "Updates"). Updates may also modify or delete in their entirety certain features and functionality. You agree that Company has no obligation to provide any Updates or to continue to provide or enable any particular features or functionality. Based on your device settings, when your device is connected to the internet, you may receive notice of or be prompted to download and install available Updates.'}),(0,Pe.jsx)("h2",{children:"6. TERM AND TERMINATION"}),(0,Pe.jsx)("p",{children:'The term of Agreement commences when you download/install the Application and will continue in effect until terminated as provided herein (the "Term"). You may terminate this Agreement by deleting the Application and all copies thereof from your device. Company may terminate this Agreement at any time without notice if it ceases to support the Application, which Company may do in its sole discretion. In addition, this Agreement will terminate immediately and automatically without any notice if you violate any of the terms and conditions of this Agreement.'}),(0,Pe.jsx)("p",{children:"Upon termination, all rights granted to you under this Agreement will also terminate and you must cease all use of the Application and delete all copies of the Application from your device. Termination will not limit any of Company's rights or remedies at law or in equity."}),(0,Pe.jsx)("h2",{children:"7. DISCLAIMER OF WARRANTIES"}),(0,Pe.jsx)("p",{className:"caps-notice",children:'THE APPLICATION IS PROVIDED TO YOU "AS IS" AND "AS AVAILABLE," WITH ALL FAULTS AND DEFECTS AND WITHOUT WARRANTY OF ANY KIND. TO THE MAXIMUM EXTENT PERMITTED UNDER APPLICABLE LAW, COMPANY, ON ITS OWN BEHALF AND ON BEHALF OF ITS AFFILIATES AND ITS AND THEIR RESPECTIVE LICENSORS AND SERVICE PROVIDERS, EXPRESSLY DISCLAIMS ALL WARRANTIES, WHETHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE, WITH RESPECT TO THE APPLICATION, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT, AND WARRANTIES THAT MAY ARISE OUT OF COURSE OF DEALING, COURSE OF PERFORMANCE, USAGE, OR TRADE PRACTICE.'}),(0,Pe.jsx)("p",{className:"caps-notice",children:"WITHOUT LIMITATION TO THE FOREGOING, COMPANY PROVIDES NO WARRANTY OR UNDERTAKING, AND MAKES NO REPRESENTATION OF ANY KIND THAT THE APPLICATION WILL MEET YOUR REQUIREMENTS, ACHIEVE ANY INTENDED RESULTS, BE COMPATIBLE OR WORK WITH ANY OTHER SOFTWARE, APPLICATIONS, SYSTEMS, OR SERVICES, OPERATE WITHOUT INTERRUPTION, MEET ANY PERFORMANCE OR RELIABILITY STANDARDS, BE ERROR-FREE, OR THAT ANY ERRORS OR DEFECTS CAN OR WILL BE CORRECTED. THE COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES REGARDING THE ACCURACY, RELIABILITY, OR COMPLETENESS OF ANY AI-GENERATED CONTENT PRODUCED BY THE APPLICATION."}),(0,Pe.jsx)("p",{children:"SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF OR LIMITATIONS ON IMPLIED WARRANTIES OR THE LIMITATIONS ON THE APPLICABLE STATUTORY RIGHTS OF A CONSUMER, SO SOME OR ALL OF THE ABOVE EXCLUSIONS AND LIMITATIONS MAY NOT APPLY TO YOU."}),(0,Pe.jsx)("h2",{children:"8. LIMITATION OF LIABILITY"}),(0,Pe.jsx)("p",{className:"caps-notice",children:"TO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT WILL COMPANY OR ITS AFFILIATES, OR ANY OF ITS OR THEIR RESPECTIVE LICENSORS OR SERVICE PROVIDERS, BE LIABLE FOR PERSONAL INJURY OR ANY INCIDENTAL, SPECIAL, INDIRECT, OR CONSEQUENTIAL DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF PROFITS, LOSS OF DATA, BUSINESS INTERRUPTION, OR ANY OTHER COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OF OR INABILITY TO USE THE APPLICATION, HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT, OR OTHERWISE) AND EVEN IF COMPANY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."}),(0,Pe.jsx)("p",{children:"IN NO EVENT SHALL COMPANY'S TOTAL LIABILITY TO YOU FOR ALL DAMAGES EXCEED THE AMOUNT YOU PAID FOR THE APPLICATION. THE FOREGOING LIMITATIONS WILL APPLY EVEN IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE."}),(0,Pe.jsx)("h2",{children:"9. INDEMNIFICATION"}),(0,Pe.jsx)("p",{children:"You agree to indemnify, defend, and hold harmless Company and its officers, directors, employees, agents, affiliates, successors, and assigns from and against any and all losses, damages, liabilities, deficiencies, claims, actions, judgments, settlements, interest, awards, penalties, fines, costs, or expenses of whatever kind, including attorneys' fees, arising from or relating to your use or misuse of the Application, your Content, or your breach of this Agreement."}),(0,Pe.jsx)("h2",{children:"10. EXPORT REGULATION"}),(0,Pe.jsx)("p",{children:"The Application may be subject to export control laws, including the US Export Administration Act and its associated regulations. You shall not, directly or indirectly, export, re-export, or release the Application to, or make the Application accessible from, any jurisdiction or country to which export, re-export, or release is prohibited by law, rule, or regulation. You shall comply with all applicable laws, regulations, and rules, and complete all required undertakings (including obtaining any necessary export license or other governmental approval), prior to exporting, re-exporting, releasing, or otherwise making the Application available outside your country of residence."}),(0,Pe.jsx)("h2",{children:"11. SEVERABILITY"}),(0,Pe.jsx)("p",{children:"If any provision of this Agreement is illegal or unenforceable under applicable law, the remainder of the provision will be amended to achieve as closely as possible the effect of the original term and all other provisions of this Agreement will continue in full force and effect."}),(0,Pe.jsx)("h2",{children:"12. GOVERNING LAW"}),(0,Pe.jsx)("p",{children:"This Agreement is governed by and construed in accordance with the internal laws of the United States without giving effect to any choice or conflict of law provision, principle, or rule and notwithstanding your domicile, residence, or physical location. Any action or proceeding arising out of or relating to this Application and/or under this Agreement will be instituted in the Country of the United States, and each party irrevocably submits to the exclusive jurisdiction of such courts in any such action or proceeding. You waive any and all objections to the exercise of jurisdiction over you by such courts and to the venue of such courts."}),(0,Pe.jsx)("p",{children:"If (a) you are not a U.S. citizen; (b) you do not reside in the U.S.; (c) you are not accessing the Application from the U.S.; and (d) you are a citizen of one of the European Union countries, Switzerland, Norway, or Iceland, the governing law and forum shall be the laws and courts of your usual place of residence."}),(0,Pe.jsx)("h2",{children:"13. ENTIRE AGREEMENT"}),(0,Pe.jsx)("p",{children:"This Agreement constitutes the entire agreement between you and Company with respect to the Application and supersedes all prior or contemporaneous understandings and agreements, whether written or oral, with respect to the Application."}),(0,Pe.jsx)("h2",{children:"14. WAIVER"}),(0,Pe.jsx)("p",{children:"No failure to exercise, and no delay in exercising, on the part of either party, any right or any power hereunder shall operate as a waiver thereof, nor shall any single or partial exercise of any right or power hereunder preclude further exercise of that or any other right hereunder."}),(0,Pe.jsxs)("div",{className:"policy-contact",children:[(0,Pe.jsx)("p",{children:"For general inquiries, complaints, questions, or claims concerning the Application, please contact:"}),(0,Pe.jsx)("p",{children:(0,Pe.jsx)("a",{href:"mailto:herma@email.com",children:"hermalocal@gmail.com"})})]}),(0,Pe.jsx)("p",{className:"policy-updated",children:"Last updated: April 5, 2025"})]})]})}),Tg=()=>(0,Pe.jsx)("div",{className:"policy-container",children:(0,Pe.jsxs)("div",{className:"container",children:[(0,Pe.jsx)("h1",{className:"policy-title",children:"TERMS AND CONDITIONS"}),(0,Pe.jsxs)("div",{className:"policy-content",children:[(0,Pe.jsx)("div",{className:"policy-notice",children:(0,Pe.jsx)("p",{children:'By downloading, installing, or using the Herma local large language model application ("the Software"), you agree to be bound by these Terms. If you disagree with any part of these Terms, you may not access or use the Software.'})}),(0,Pe.jsx)("h2",{children:"1. INTRODUCTION"}),(0,Pe.jsx)("p",{children:'These Terms and Conditions ("Terms") govern your access to and use of the Herma local large language model application ("the Software"). By downloading, installing, or using the Software, you agree to be bound by these Terms. If you disagree with any part of these Terms, you may not access or use the Software.'}),(0,Pe.jsx)("h2",{children:"2. DEFINITIONS"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:'"We," "us," and "our" refer to Herma.'}),(0,Pe.jsx)("li",{children:'"You" and "your" refer to the individual or entity using the Software.'}),(0,Pe.jsx)("li",{children:'"Content" refers to any text, documents, data, or other materials uploaded to or processed by the Software.'}),(0,Pe.jsx)("li",{children:'"Local Processing" refers to the computation and data handling that occurs exclusively on your device without transmission to external servers.'})]}),(0,Pe.jsx)("h2",{children:"3. SOFTWARE DESCRIPTION"}),(0,Pe.jsx)("p",{children:"The Software provides large language model capabilities that run entirely on your local device, allowing you to process and analyze documents without an internet connection. The Software includes features for document upload, content analysis, and AI-assisted responses based on user-provided documents. The key distinguishing feature of the Software is its ability to leverage user-uploaded documents to enhance the accuracy and relevance of responses from locally-run LLMs, all while maintaining complete data privacy."}),(0,Pe.jsx)("h2",{children:"4. LICENSE GRANT"}),(0,Pe.jsx)("p",{children:"Subject to your compliance with these Terms, we grant you a limited, non-exclusive, non-transferable, non-sublicensable license to download, install, and use the Software for your personal or internal business purposes."}),(0,Pe.jsx)("h2",{children:"5. DATA PRIVACY AND LOCAL PROCESSING"}),(0,Pe.jsx)("h3",{children:"5.1 LOCAL OPERATION"}),(0,Pe.jsx)("p",{children:"The Software operates exclusively on your local device. We do not receive, collect, store, or have access to any Content you process using the Software after you have purchased and installed it. The key feature of this Software is the ability to use locally-run large language models (LLMs) with your uploaded documents while maintaining complete privacy."}),(0,Pe.jsx)("h3",{children:"5.2 NO DATA TRANSMISSION"}),(0,Pe.jsx)("p",{children:"The Software does not transmit your Content to our servers or any third-party servers during normal operation. All processing of your Content, including document analysis and AI-generated responses, occurs locally on your device without external transmission."}),(0,Pe.jsx)("h3",{children:"5.3 USER RESPONSIBILITY"}),(0,Pe.jsx)("p",{children:"You are solely responsible for:"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"The security of your device where the Software is installed"}),(0,Pe.jsx)("li",{children:"Backing up any Content processed by the Software"}),(0,Pe.jsx)("li",{children:"Compliance with applicable laws regarding the Content you process"}),(0,Pe.jsx)("li",{children:"Any consequences arising from the use of AI-generated content or analysis provided by the Software"})]}),(0,Pe.jsx)("h2",{children:"6. USER OBLIGATIONS"}),(0,Pe.jsx)("p",{children:"You agree not to:"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Use the Software for any illegal purpose"}),(0,Pe.jsx)("li",{children:"Attempt to reverse engineer, decompile, or disassemble the Software"}),(0,Pe.jsx)("li",{children:"Distribute, sublicense, lease, rent, loan, or transfer the Software to any third party"}),(0,Pe.jsx)("li",{children:"Remove any proprietary notices or labels on the Software"}),(0,Pe.jsx)("li",{children:"Use the Software in any manner that could damage, disable, overburden, or impair the Software"})]}),(0,Pe.jsx)("h2",{children:"7. INTELLECTUAL PROPERTY"}),(0,Pe.jsx)("p",{children:"The Software, including all intellectual property rights therein, is owned by us and is protected by copyright and other intellectual property laws. These Terms do not grant you any rights to our trademarks, service marks, or logos."}),(0,Pe.jsx)("h2",{children:"8. CONTENT OWNERSHIP"}),(0,Pe.jsx)("p",{children:"You retain all ownership rights to any Content you process using the Software. We claim no ownership over your Content."}),(0,Pe.jsx)("h2",{children:"9. UPDATES AND MAINTENANCE"}),(0,Pe.jsx)("p",{children:"We may from time to time provide updates, patches, or new versions of the Software. You are responsible for installing such updates, which may be necessary for the continued functionality and security of the Software."}),(0,Pe.jsx)("h2",{children:"10. DISCLAIMER OF WARRANTIES"}),(0,Pe.jsx)("p",{className:"caps-notice",children:'THE SOFTWARE IS PROVIDED "AS IS" AND "AS AVAILABLE," WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, WE EXPLICITLY DISCLAIM ALL WARRANTIES, INCLUDING ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.'}),(0,Pe.jsx)("p",{className:"caps-notice",children:"WE DO NOT WARRANT THAT THE SOFTWARE WILL FUNCTION UNINTERRUPTED, ERROR-FREE, OR ACHIEVE ANY PARTICULAR RESULTS."}),(0,Pe.jsx)("h2",{children:"11. LIMITATION OF LIABILITY"}),(0,Pe.jsx)("p",{className:"caps-notice",children:"TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT SHALL WE BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM:"}),(0,Pe.jsxs)("ul",{className:"caps-notice",children:[(0,Pe.jsx)("li",{children:"YOUR ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE THE SOFTWARE"}),(0,Pe.jsx)("li",{children:"ANY CONTENT PROCESSED BY THE SOFTWARE"}),(0,Pe.jsx)("li",{children:"ANY CONDUCT OR CONTENT OF ANY THIRD PARTY RELATED TO THE SOFTWARE"})]}),(0,Pe.jsx)("p",{className:"caps-notice",children:"OUR TOTAL LIABILITY FOR ANY CLAIMS ARISING UNDER THESE TERMS SHALL NOT EXCEED THE AMOUNT YOU PAID FOR THE SOFTWARE IN THE PAST 12 MONTHS."}),(0,Pe.jsx)("h2",{children:"12. INDEMNIFICATION"}),(0,Pe.jsx)("p",{children:"You agree to indemnify, defend, and hold harmless our company, its officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses, including, without limitation, reasonable legal fees, arising out of or in any way connected with your access to or use of the Software or your violation of these Terms."}),(0,Pe.jsx)("h2",{children:"13. TERMINATION"}),(0,Pe.jsx)("p",{children:"We may terminate or suspend your license to use the Software immediately, without prior notice or liability, for any reason, including if you breach any of the Terms. Upon termination, your right to use the Software will immediately cease."}),(0,Pe.jsx)("h2",{children:"14. GOVERNING LAW"}),(0,Pe.jsx)("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the United States, without regard to its conflict of law principles. Any action or proceeding arising out of or relating to this Software and/or under these Terms will be instituted in the Country of the United States, and each party irrevocably submits to the exclusive jurisdiction of such courts in any such action or proceeding."}),(0,Pe.jsx)("p",{children:"If (a) you are not a U.S. citizen; (b) you do not reside in the U.S.; (c) you are not accessing the Software from the U.S.; and (d) you are a citizen of one of the European Union countries, Switzerland, Norway or Iceland, the governing law and forum shall be the laws and courts of your usual place of residence."}),(0,Pe.jsx)("h2",{children:"15. CHANGES TO TERMS"}),(0,Pe.jsx)("p",{children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."}),(0,Pe.jsx)("h2",{children:"16. WAIVER"}),(0,Pe.jsx)("p",{children:"No failure to exercise, and no delay in exercising, on the part of either party, any right or any power hereunder shall operate as a waiver thereof, nor shall any single or partial exercise of any right or power hereunder preclude further exercise of that or any other right hereunder."}),(0,Pe.jsx)("h2",{children:"17. CONTACT INFORMATION"}),(0,Pe.jsx)("div",{className:"policy-contact",children:(0,Pe.jsxs)("p",{children:["If you have any questions about these Terms, please contact us at:",(0,Pe.jsx)("a",{href:"mailto:herma@email.com",children:" hermalocal@gmail.com"})]})}),(0,Pe.jsx)("p",{className:"policy-updated",children:"Last updated: February 27, 2025"})]})]})}),Ng=()=>(0,Pe.jsx)("div",{className:"policy-container",children:(0,Pe.jsxs)("div",{className:"container",children:[(0,Pe.jsx)("h1",{className:"policy-title",children:"THIRD-PARTY SOFTWARE ATTRIBUTIONS"}),(0,Pe.jsxs)("div",{className:"policy-content",children:[(0,Pe.jsx)("div",{className:"policy-notice",children:(0,Pe.jsx)("p",{children:"Herma uses several open source libraries that require attribution. This page provides information about these third-party software components and their respective licenses."})}),(0,Pe.jsx)("h2",{children:"1. MIT LICENSE COMPONENTS"}),(0,Pe.jsx)("p",{children:"The following components are licensed under the MIT License:"}),(0,Pe.jsx)("h3",{children:"1.1 LANGCHAIN"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2022 Harrison Chase"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.2 LANGCHAIN-COMMUNITY"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2022 Harrison Chase"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.3 LANGCHAIN-OLLAMA"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2022 Harrison Chase"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.4 LANGCHAIN-CHROMA"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2022 Harrison Chase"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.5 PYTEST"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2004 Holger Krekel and others"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.6 PYTHON-DOCX"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2013 Steve Canny, https://github.com/python-openxml/python-docx"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.7 PYTHON-PPTX"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2013 Steve Canny, https://github.com/scanny/python-pptx"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.8 OPENPYXL"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2010 openpyxl"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h3",{children:"1.9 OLLAMA"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2023 Ollama"}),(0,Pe.jsx)("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),(0,Pe.jsx)("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),(0,Pe.jsx)("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'}),(0,Pe.jsx)("h2",{children:"2. APACHE 2.0 LICENSE COMPONENTS"}),(0,Pe.jsx)("p",{children:"The following components are licensed under the Apache License, Version 2.0:"}),(0,Pe.jsx)("h3",{children:"2.1 CHROMADB"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2022 Chroma"}),(0,Pe.jsx)("p",{children:'Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at:'}),(0,Pe.jsx)("p",{children:(0,Pe.jsx)("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",children:"http://www.apache.org/licenses/LICENSE-2.0"})}),(0,Pe.jsx)("p",{children:'Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.'}),(0,Pe.jsx)("h3",{children:"2.2 AIOFILES"}),(0,Pe.jsx)("p",{children:"Copyright (c) 2015-2020 aiofiles contributors"}),(0,Pe.jsx)("p",{children:'Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at:'}),(0,Pe.jsx)("p",{children:(0,Pe.jsx)("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",children:"http://www.apache.org/licenses/LICENSE-2.0"})}),(0,Pe.jsx)("p",{children:'Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.'}),(0,Pe.jsx)("h2",{children:"3. BSD LICENSE COMPONENTS"}),(0,Pe.jsx)("p",{children:"The following components are licensed under BSD License variants:"}),(0,Pe.jsx)("h3",{children:"3.1 PYPDF"}),(0,Pe.jsxs)("p",{children:["Copyright (c) 2006-2008, Mathieu Fenniak",(0,Pe.jsx)("br",{}),"Copyright (c) 2007, Ashish Kulkarni <kulkarni.ashish@gmail.com>",(0,Pe.jsx)("br",{}),"Copyright (c) 2014, Phaseit, Inc.",(0,Pe.jsx)("br",{}),"Copyright (c) 2017, Sami Poso <sami.poso@gmail.com>",(0,Pe.jsx)("br",{}),"Copyright (c) 2019, Martin Thoma"]}),(0,Pe.jsx)("p",{children:"All rights reserved."}),(0,Pe.jsx)("p",{children:"Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer."}),(0,Pe.jsx)("li",{children:"Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution."}),(0,Pe.jsx)("li",{children:"Neither the name of the pypdf nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission."})]}),(0,Pe.jsx)("p",{children:'THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.'}),(0,Pe.jsx)("h2",{children:"4. LGPL LICENSE COMPONENTS"}),(0,Pe.jsx)("p",{children:"The following components are licensed under the GNU Lesser General Public License:"}),(0,Pe.jsx)("h3",{children:"4.1 CHARDET"}),(0,Pe.jsxs)("p",{children:["Copyright (c) 2006-2010 Mark Pilgrim",(0,Pe.jsx)("br",{}),"Copyright (c) 2012-2013 Ian Cordasco"]}),(0,Pe.jsx)("p",{children:"This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version."}),(0,Pe.jsx)("p",{children:"This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details."}),(0,Pe.jsx)("p",{children:"You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA."}),(0,Pe.jsxs)("p",{children:["To obtain a copy of the GNU Lesser General Public License: ",(0,Pe.jsx)("a",{href:"https://www.gnu.org/licenses/lgpl-3.0.en.html",target:"_blank",children:"https://www.gnu.org/licenses/lgpl-3.0.en.html"})]}),(0,Pe.jsx)("h2",{children:"5. CUSTOM LICENSE COMPONENTS"}),(0,Pe.jsx)("p",{children:"The following components have custom licenses:"}),(0,Pe.jsx)("h3",{children:"5.1 LLAMA (META'S LLAMA MODEL)"}),(0,Pe.jsx)("p",{children:"Copyright (c) Meta Platforms, Inc. and affiliates."}),(0,Pe.jsx)("p",{children:"Meta's LLaMA models are released under a custom license that permits both research and commercial use but has specific restrictions. The license requires attribution, notes that the model weights can't be used to train other models, and includes requirements for safety and compliance with applicable laws."}),(0,Pe.jsxs)("p",{children:["For the complete license terms, please visit: ",(0,Pe.jsx)("a",{href:"https://github.com/meta-llama/llama/blob/main/LICENSE",target:"_blank",children:"https://github.com/meta-llama/llama/blob/main/LICENSE"})]}),(0,Pe.jsx)("h2",{children:"6. ADDITIONAL INFORMATION"}),(0,Pe.jsx)("p",{children:"Many of these software components have dependencies of their own that may be covered by different licenses. For complete information about all dependencies, please refer to each project's website or repository."}),(0,Pe.jsx)("p",{children:"This software also uses Tesseract OCR engine which is released under the Apache License 2.0."}),(0,Pe.jsx)("div",{className:"policy-contact",children:(0,Pe.jsxs)("p",{children:["If you have any questions about third-party software used in this application or our compliance with open source licenses, please contact us at:",(0,Pe.jsx)("a",{href:"mailto:herma@email.com",children:" hermalocal@gmail.com"})]})}),(0,Pe.jsx)("p",{className:"policy-updated",children:"Last updated: March 5, 2025"})]})]})}),Ig=0===Array.from(Sn.values()).length?Pn({apiKey:"AIzaSyCIjB4ANmQ6wYUGbQuMl21EG63v-4bxXfI",authDomain:"herma-landing-b5105.firebaseapp.com",projectId:"herma-landing-b5105",storageBucket:"herma-landing-b5105.appspot.com",messagingSenderId:"7482382687",appId:"1:7482382687:web:45992debf38e20be6afeea",measurementId:"G-LPXDF1N8TX"}):Ln(),Cg=So(Ig),kg=pm(Ig),_g=async e=>{try{const t=await Gm(cm(kg,"users",e));return t.exists()&&t.data().subscriptionStatus||"free"}catch(t){return console.error("Error getting user subscription status:",t),"free"}},Og=e=>{let{onSuccess:t}=e;const[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)("");return(0,Pe.jsxs)("div",{className:"w-full",children:[s&&(0,Pe.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Pe.jsx)("p",{className:"text-red-700 text-sm",children:s})}),(0,Pe.jsx)("button",{onClick:async()=>{r(!0),o("");const{user:e,error:n}=await(async()=>{try{const e=new Ui;e.addScope("email"),e.addScope("profile");const t=(await Fs(Cg,e)).user,n=cm(kg,"users",t.uid);return(await Gm(n)).exists()||await Ym(n,{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,provider:"google",subscriptionStatus:"free",createdAt:new Date,updatedAt:new Date}),{user:t,error:null}}catch(s){return{user:null,error:s.message}}})();n?(o(n),r(!1)):(r(!1),t(e))},disabled:n,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-600"}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Pe.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Pe.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Pe.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Pe.jsx)("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]})})]})},Rg=e=>{let{onSuccess:t,onSwitchToSignup:n}=e;const[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)("");return(0,Pe.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,Pe.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-blue-100",children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold text-blue-900 mb-6 text-center",children:"Welcome Back"}),(0,Pe.jsx)("div",{className:"mb-6",children:(0,Pe.jsx)(Og,{onSuccess:t})}),(0,Pe.jsxs)("div",{className:"relative mb-6",children:[(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Pe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Pe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Pe.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),u&&(0,Pe.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Pe.jsx)("p",{className:"text-red-700 text-sm",children:u})}),(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),d("");const{user:n,error:i}=await(async(e,t)=>{try{return{user:(await Ji(Cg,e,t)).user,error:null}}catch(u){return{user:null,error:u.message}}})(r,o);i?(d(i),c(!1)):(c(!1),t(n))},className:"space-y-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-blue-900 mb-1",children:"Email Address"}),(0,Pe.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>s(e.target.value),required:!0,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-blue-900 mb-1",children:"Password"}),(0,Pe.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>a(e.target.value),required:!0,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]}),(0,Pe.jsx)("button",{type:"submit",disabled:l,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?"Signing In...":"Sign In"})]}),(0,Pe.jsx)("div",{className:"mt-6 text-center",children:(0,Pe.jsxs)("p",{className:"text-sm text-blue-600",children:["Don't have an account?"," ",(0,Pe.jsx)("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Sign up here"})]})})]})})},jg=e=>{let{onSuccess:t,onSwitchToLogin:n}=e;const[r,s]=(0,i.useState)({displayName:"",email:"",password:"",confirmPassword:""}),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),u=e=>{s({...r,[e.target.name]:e.target.value})};return(0,Pe.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,Pe.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-blue-100",children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold text-blue-900 mb-6 text-center",children:"Create Account"}),(0,Pe.jsx)("div",{className:"mb-6",children:(0,Pe.jsx)(Og,{onSuccess:t})}),(0,Pe.jsxs)("div",{className:"relative mb-6",children:[(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Pe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Pe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Pe.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or create account with email"})})]}),l&&(0,Pe.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Pe.jsx)("p",{className:"text-red-700 text-sm",children:l})}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a(!0),c(""),r.password!==r.confirmPassword)return c("Passwords do not match"),void a(!1);if(r.password.length<6)return c("Password must be at least 6 characters long"),void a(!1);const{user:n,error:i}=await(async(e,t,n)=>{try{const r=(await Xi(Cg,e,t)).user;return await Zi(r,{displayName:n}),await Ym(cm(kg,"users",r.uid),{uid:r.uid,email:r.email,displayName:n,provider:"email",subscriptionStatus:"free",createdAt:new Date,updatedAt:new Date}),{user:r,error:null}}catch(l){return{user:null,error:l.message}}})(r.email,r.password,r.displayName);i?(c(i),a(!1)):(a(!1),t(n))},className:"space-y-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-blue-900 mb-1",children:"Full Name"}),(0,Pe.jsx)("input",{type:"text",id:"displayName",name:"displayName",value:r.displayName,onChange:u,required:!0,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-blue-900 mb-1",children:"Email Address"}),(0,Pe.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,required:!0,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-blue-900 mb-1",children:"Password"}),(0,Pe.jsx)("input",{type:"password",id:"password",name:"password",value:r.password,onChange:u,required:!0,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Create a password (min 6 characters)"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-blue-900 mb-1",children:"Confirm Password"}),(0,Pe.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:u,required:!0,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"})]}),(0,Pe.jsx)("button",{type:"submit",disabled:o,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:o?"Creating Account...":"Create Account"})]}),(0,Pe.jsx)("div",{className:"mt-6 text-center",children:(0,Pe.jsxs)("p",{className:"text-sm text-blue-600",children:["Already have an account?"," ",(0,Pe.jsx)("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Sign in here"})]})})]})})},Pg=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)("login"),[a,l]=(0,i.useState)("free"),[c,u]=(0,i.useState)(null),d=ee();(0,i.useEffect)((()=>{const e=(e=>es(Cg,e))((async e=>{if(t(e),e){const t=await _g(e.uid);l(t)}r(!1)}));return()=>e()}),[]);const h=async e=>{t(e);const n=await _g(e.uid);l(n)};return n?(0,Pe.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex items-center justify-center",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-blue-600",children:"Loading..."})]})}):(0,Pe.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white pt-16",children:[(0,Pe.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Pe.jsx)("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-blue-600 opacity-5 rounded-bl-full transform -translate-y-1/4 translate-x-1/4"}),(0,Pe.jsx)("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-indigo-500 opacity-5 rounded-tr-full transform translate-y-1/4 -translate-x-1/4"})]}),(0,Pe.jsx)("div",{className:"container mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-12 relative z-10",children:e?(0,Pe.jsx)("div",{className:"text-center",children:(0,Pe.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-blue-100 max-w-2xl mx-auto",children:[(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("h2",{className:"text-3xl font-bold text-blue-900 mb-2",children:["Welcome, ",e.displayName||e.email,"!"]}),(0,Pe.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,Pe.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("pro"===a?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"pro"===a?"Pro Member":"Free Plan"})})]}),"free"===a?(0,Pe.jsxs)("div",{className:"mb-8",children:[(0,Pe.jsx)("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Ready to upgrade to Pro?"}),(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg mb-6",children:[(0,Pe.jsx)("div",{className:"text-4xl font-bold text-blue-900 mb-2",children:"$29.99"}),(0,Pe.jsx)("div",{className:"text-blue-600 mb-4",children:"One-time purchase"}),(0,Pe.jsx)("div",{className:"text-sm text-blue-700",children:"Lifetime access to all Pro features"})]}),(0,Pe.jsx)("button",{onClick:async()=>{if(e){r(!0),u(null);try{const t="https://us-central1-herma-landing-b5105.cloudfunctions.net/api";console.log("Creating checkout session..."),console.log("API URL:",t);const n=await fetch(`${t}/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.uid,userEmail:e.email,priceId:"price_1Ra4P4Pq3xOWKbiJbjwxqQ8G",successUrl:`${window.location.origin}/success`,cancelUrl:`${window.location.origin}/upgrade`})});if(!n.ok){const e=await n.json().catch((()=>({error:"Failed to parse error response"})));throw new Error(e.error||`HTTP error! status: ${n.status}`)}const r=await n.json();if(console.log("Checkout session created:",r),r.error)throw new Error(r.error);const i=await yg("pk_test_51Ra43PPq3xOWKbiJK5luGbuyaHU60KXhNaoDhNl9UZothPdkO1XJcSv96BPhFP7wLGHfxPaa2DM4N7NnzBXSeQUe00q41uinG6");if(!i)throw new Error("Failed to load Stripe");const{error:s}=await i.redirectToCheckout({sessionId:r.id});if(s)throw new Error(s.message)}catch(c){console.error("Subscription error:",c),u(c.message||"Failed to process payment. Please try again."),r(!1)}}else u("Please sign in first")},disabled:n,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?"Processing...":"Upgrade to Pro"}),c&&(0,Pe.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Pe.jsx)("p",{className:"text-red-700 text-sm",children:c})}),(0,Pe.jsx)("div",{className:"text-center mt-4",children:(0,Pe.jsx)("p",{className:"text-xs text-gray-500",children:"Secure payment powered by Stripe. Your data stays private and on your device."})})]}):(0,Pe.jsx)("div",{className:"mb-8",children:(0,Pe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"\ud83c\udf89 You're a Pro Member!"}),(0,Pe.jsx)("p",{className:"text-green-700",children:"Enjoy all the premium features in your Herma app."})]})}),(0,Pe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Pe.jsx)("button",{onClick:()=>{d("/"),window.scrollTo({top:0,behavior:"smooth"})},className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform transition duration-300 hover:scale-105",children:"Back to Home"}),(0,Pe.jsx)("button",{onClick:async()=>{await(async()=>{try{return await ts(Cg),{error:null}}catch(c){return{error:c.message}}})(),t(null),l("free")},className:"px-6 py-3 bg-white border-2 border-blue-600 text-blue-600 font-semibold rounded-lg transition duration-300 hover:bg-blue-50",children:"Sign Out"})]})]})}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"text-center mb-12",children:[(0,Pe.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Upgrade to Herma Pro"}),(0,Pe.jsx)("p",{className:"text-xl text-blue-700 mb-8",children:"Unlock premium features and enhanced capabilities"}),(0,Pe.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-blue-100",children:[(0,Pe.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Advanced Models"}),(0,Pe.jsx)("p",{className:"text-blue-600 text-sm",children:"Access to larger, more capable AI models"})]}),(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-blue-100",children:[(0,Pe.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Enhanced Processing"}),(0,Pe.jsx)("p",{className:"text-blue-600 text-sm",children:"Handle larger documents and complex tasks"})]}),(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-blue-100",children:[(0,Pe.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Priority Support"}),(0,Pe.jsx)("p",{className:"text-blue-600 text-sm",children:"Get help when you need it most"})]})]})]}),(0,Pe.jsx)("div",{className:"text-center mb-8",children:(0,Pe.jsxs)("div",{className:"inline-flex bg-white p-1 rounded-lg shadow-lg border border-blue-100 mb-8",children:[(0,Pe.jsx)("button",{onClick:()=>o("login"),className:"px-6 py-2 rounded-md font-medium transition-all "+("login"===s?"bg-blue-600 text-white shadow-md":"text-blue-600 hover:bg-blue-50"),children:"Sign In"}),(0,Pe.jsx)("button",{onClick:()=>o("signup"),className:"px-6 py-2 rounded-md font-medium transition-all "+("signup"===s?"bg-blue-600 text-white shadow-md":"text-blue-600 hover:bg-blue-50"),children:"Create Account"})]})}),"login"===s?(0,Pe.jsx)(Rg,{onSuccess:h,onSwitchToSignup:()=>o("signup")}):(0,Pe.jsx)(jg,{onSuccess:h,onSwitchToLogin:()=>o("login")})]})})]})},Lg=()=>{const[e,t]=(0,i.useState)(null);return(0,Pe.jsx)("section",{className:"py-24 bg-gradient-to-b from-blue-50 to-white",id:"faq",children:(0,Pe.jsxs)("div",{className:"container mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:[(0,Pe.jsxs)("div",{className:"text-center mb-16",children:[(0,Pe.jsx)("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:"Frequently Asked Questions"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-600 max-w-3xl mx-auto",children:"Find answers to common questions about Herma and how it can enhance your productivity while preserving your privacy."}),(0,Pe.jsx)("div",{className:"w-32 h-1 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 mx-auto mt-6"})]}),(0,Pe.jsx)("div",{className:"space-y-4 bg-white rounded-2xl p-8 shadow-xl border border-blue-100",children:[{id:1,question:"How does Herma keep my data private?",answer:"Herma runs entirely on your local device, which means your data never leaves your computer. Unlike cloud-based AI services, we don't send your conversations, documents, or queries to external servers. All processing happens directly on your machine, ensuring complete privacy and data security."},{id:2,question:"Do I need internet to use Herma?",answer:"No, Herma works completely offline. Once installed, you can use all of Herma's features without an internet connection. This makes it perfect for working with sensitive data or in environments where connectivity is limited or unavailable."},{id:3,question:"How does Herma compare to cloud-based AI assistants?",answer:"While cloud-based AI assistants may offer access to larger models, Herma provides comparable functionality with the added benefit of complete privacy. Herma is optimized to run efficiently on consumer hardware while still delivering high-quality responses, document analysis, and creative content generation."},{id:4,question:"What types of files can Herma analyze?",answer:"Herma can analyze various document types including text files, PDFs, Word documents, spreadsheets, and more. You can use Herma to summarize documents, extract key information, answer questions about the content, and generate insights based on your files."},{id:5,question:"Will my computer be powerful enough to run Herma?",answer:"Herma is designed to run efficiently on modern computers. For optimal performance, we recommend at least an Intel i5/AMD Ryzen 5 processor (or equivalent), 16GB RAM, and 20GB of available storage. For more complex tasks, having a GPU with CUDA support will improve performance, but it's not strictly required for basic functionality."},{id:6,question:"How often is Herma updated?",answer:"We regularly release updates to improve performance, add new features, and enhance the underlying AI models. Updates are designed to be lightweight and non-intrusive, and you'll be notified when new versions are available. Since Herma runs locally, you have complete control over when to update."},{id:7,question:"Can I customize Herma for specific use cases?",answer:"Yes, Herma learns from your interactions and the documents you provide, allowing it to better understand your specific needs and preferences over time. This makes Herma increasingly valuable for specialized tasks like research, content creation, or information analysis in your particular domain."},{id:8,question:"Is Herma good for work use?",answer:"Absolutely. Herma's privacy-first approach makes it ideal for businesses handling sensitive information. With no data leaving your devices, you can confidently use Herma for proprietary research, financial analysis, customer data processing, and other sensitive tasks without privacy concerns."}].map((n=>(0,Pe.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden transition-all duration-300 border border-blue-100 hover:border-blue-300",children:[(0,Pe.jsxs)("button",{className:"w-full text-left p-5 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-opacity-50 flex justify-between items-center transition-colors "+(e===n.id?"bg-gradient-to-r from-blue-50 to-indigo-50":"bg-white"),onClick:()=>{return r=n.id,void t(e===r?null:r);var r},"aria-expanded":e===n.id,children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:n.question}),(0,Pe.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full transition-all duration-300 "+(e===n.id?"bg-[var(--highlight-color)] text-white rotate-180":"bg-blue-100 text-blue-700 rotate-0"),children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,Pe.jsx)("div",{className:"transition-all duration-300 ease-in-out overflow-hidden "+(e===n.id?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,Pe.jsx)("div",{className:"p-6 bg-blue-50/50 border-t border-blue-100",children:(0,Pe.jsx)("p",{className:"text-blue-700 leading-relaxed",children:n.answer})})})]},n.id)))}),(0,Pe.jsx)("div",{className:"mt-20",children:(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 rounded-2xl p-10 shadow-xl text-center",children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Have more questions?"}),(0,Pe.jsx)("p",{className:"text-white text-lg opacity-90 mb-8 max-w-2xl mx-auto",children:"We're here to help! Contact us directly for personalized assistance."}),(0,Pe.jsxs)("a",{href:"mailto:hermalocal@gmail.com",className:"px-8 py-4 bg-white text-[var(--highlight-color)] font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 inline-flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Support"]})]})})]})})},Dg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgcAAAC0CAYAAAAAYI/JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB4zSURBVHhe7d1vbBzngd/x3+6Spv6Y8pqmZMdxJZlURB/PTls2ZatW7YsWpITyjQmETttrETqwUfJw0VGHKjj6bwo7xyJqK0IFjrqza9O9yxvLLX0FWEiiU9SAAwGMj0kjZy3K4kZWJFuyKXpJSiKXuzPTF/NnZ4bL5e6S0onU9wMsxH1mdp5nZkjNb57n2d3In3x4zWrf/IWuXr2q7du3a+vWrQIAAHeXL7/8UhcvXtSDDz6oyODHH1tP3LypHTt2qKqqKrwuAAC4S8zPz+vixYuKzl+9SjAAAADasGGDtm/frujjW/8WwQAAAEhOQIjMzs5a4QUAAODuFQ0XAACAuxvhAAAABBAOAABAAOEAAAAEBMLBwYMHdfDgQX+Rp7q6WqdPnw4XAwCAdYaeAwAAEEA4AAAAASsKB9XV1d7DPxxx+vRpVVdX65133lF1dbXa29u99d1l1dXV+uY3vylJ6u/vz7ud8DKGNgAAuPXKDgfV1dV68803NTs7q9nZWf30pz9Vf39/YJ2f/OQnmp2d1dDQkFfW2trqvUbOdiRpdnZWZ86c0euvvx4IAO+//763/ptvvqnW1lZvGQAAWH2LwsHrr78euFN3H379/f165pln9O1vf9sre+mll/TGG28E1jty5EjguSS9+eab3s/f+973JEk9PT2SpJ07d+rRRx/V5cuXvXX8wcKt78KFC14ZAABYXYvCwTPPPOPdqfsffp9++umiEPH0008H1pFzsQ/7+te/7v38yCOP6NFHHw0sr6+v16VLlwJl4ZDy+eefB5YDAIDVsygcFOuVV15ZFCB+9atfhVdbEXfOwqlTp/KGFAAAsPrKCgc7duzQ+++/Hy5edT/72c/0yiuvaM+ePRLDCQAA3BZlhYMnn3xS7733XmAC4unTp/XOO+8E1lsN/hASficDAABYfWWFg507d+rMmTN68cUXvbkAra2tgQmKq+HIkSN67733vDp+8IMfhFcBAACrLDI7O2uFCwEAwN2rrJ4DAACwfhEOAABAAOEAAAAEEA4AAEAA4QAAAAQQDgAAQADhAAAABBAOAABAAOEAAAAERFKpFJ+QCAAAPPQcAACAAMIBAAAIIBwAAIAAwgEAAAggHAAAgADCAQAACCAcAACAAMIBAAAIIBwAAIAAwgEAAAggHAAAgADCAQAACCAcAACAAMIBAAAIIBwAAIAAwgEAAAi4O8NBckCt8bjiix6tGkj61+nRSOila9Jq70uh7fmXFVqvgJGeuOI9oVeN9Cgej6vVO0FusbNumXVJI+rxn/c1bqTH//tczvG4DZY6V0uVA7jtIqlUygoXFuvS1SldujoVLv4bsePhWn2tNh4uzi85oNamcR1K9avFXz7So3hHQn1jp9StJdZZ65ba91IUu41i1wtJDrSqaahdY6e6VeeUjfTENaxODapNqX53a0kNtDZpqH1Mp7rdNUs1op74YTWMnVLZm7hjrJF9Wer3YqlyALfdisJB78s/0szMtGTZm7AsS5GI91SW+4PvZ8t+4pXLsuwyZ6l/kbfd8Lb923LWuz9+n/7zj/8k99pClvxPyL7YjB9Kqb9+qXXWuCX3vQTFbqPY9cIWvW5EPfFhtaXaNBwfVlugfKUXw9XYxh1i0XG7Qy3VzqXKAdx2KxpWmJlO6bc//A+6+PIP9emL9uPC8z/Uhede1oXel/WbP/6hkj94WRP//iVNHHpZE3/0kpIHX9REz0s6f+BFffL9F/XJH9iPc7//gsa7XtC5f/eCxp99XmefeV4fP/OCPv7e8/q48zl9/N3nlPi3zynxb3r16997Th/96179+l/16sx3/lhnvtOrqVQq3LxVNqKepbprnS5v7+HvEg8sC3dfF9imJ6mB1ri8TSbtIRHv+UiP4q0DSro/52uH1107op6mXo1qUB2L2qLS6nKfO3UFX7PUvhSzv5LqdqlRgxr2tnleieYG1ateDc0JnXcbMDKsweZ27asL1ev8PDDQ6rUvMBzhP049w7ly5fY5eL5KOC4Fz3dIoC7f9hYtWzzctWjfkgNq9c5tXD0DofPg317PQG5/wucrfBxbe9TT6j9fBc5hKftelCXqWtQu5/wM+PfRHWryPfc2u8TfCQDPisKBJJmGKcuUTNOSZVgys6YsQzIM+7llWrJMSVlTlmnJNJyHKXt9036NaUhW1l7XMi1ZhmRlTXv7hl1uGnJe69RlmJJbT9n9Hz4jR9U72qm2RbctSQ20dkjHU0qlUhrrS6jDu0iOqKdjUJ3OstTxTmnwsPMf44h6OhLqG3OXNaq3y31doW361Wlfe7MG3SvlxLjU3KyEc4VMnk+ouX2f6gq2w9Wi/rE+NatTx1P57pSLrUuSBtUx3ObVNdhR4GIvlbC/ktSitk7l6j05JLXvU53qtK9dGjqZa48ad3lDD0GDGtIxr32jvUdzFzffcRprSGjQe40dnhq9Y9io3qYejRR9XAqd77BQXWN9SnjHcKl2uPLsW123TnnnNqX+fb6qQtsbaxhS76h/eQGjg9KhlFKpfrUUPIel7Lvs3x//BToeV7ypV7lmFaor3C5ni0PSsVRKqdRxdQ52KN7lPB/rU3Pgb3K5vxMAKwoHluVepN0gYIcE07CCF3bDvvi7wUCmXWYZlh0InPW98JC1L/xegHC2YTlBxK3LMnLLfYMMRcrzn1NHQn1jebo0kyc15AsNdd2H1Dk6JPsa1aL+VEreMHhLmzp9L5VGNT7hLutXyh1HL7jNoLp97WpOnFdS0shwQu2H2mVvNKmTQ6Nq3FVXRDuKU1xdktSsvgNOZfUNavZvJJ8S9leSWto6NeocuInxXL11uxo1OnRSSae8c3GSczSrfZ/TVn/7RoY12Nwnt+l13Ydyxyl5Xgn5wmFLmzpl91QUf1yWON9hoXaorlun3AtdgXbYlti3pRTa52U1q6He+XHZc1jkvkuSE2JS/sdYX25flq3L1y5H5yG3vno1NPue1+1Te7PbttX5OwHWuxWHA/cCbt/ZW5Lp701wlrk9CIYluRd70+k1cHoW3B4G0zBlWfbr5PYw+Hoc3IBg9zZYMtw6Su46yPOfU967aZc/THT47jYV6gL2L2tRf+q41JELIMEezALb9KvbpcbRIZ1MJnU+0ahdLbvUODisEU1o3N/TsWQ7SlBsXWqUdz0sWpH7K+eilzivpEY0PBi6UI6OayJcvkj+9iXPJ8JFORPjGm1uUO6aU68G96JS1HFZ7nznlN0Oacl9W8riuuyLZ3HCdS11Dovf9+ItVZfytKsEq/F3AqxzKwoHknvnbl+oLcOUmbUDQi4I+Ja5F3nT7h2wss46WbsXwf3Xcp8bptMD4QwzOAHEDgh2wJDTA1Fyx0HJwmHCCRLJAbU2Dand7U5NHQ/didh3Km4XZrD7fYltLtKits5RjZ88qSE1qF4tautM6PzAsAY725y7zeXaUawi6ipbsfvr3O1pSCdH3PkGLmfewaLy4tTtagwX5dQ3qHl0XN41WBMaH3XvUIs9LoXOd0757Sjd4romNF7ssMIihc5hcftevEJ1lWnV/k6A9W2F4cA3POD2HpjORd2703d7DyS5cwrcMnddt5fBVKC3wN2mDLtHwZ3PYGZz27XrsOR/z8Oqq9un9mb/BDnfpK2JcY367mJGenx3IskBtS41MavQNvNoaetUYsgde5fqG6ShoYSa3StGoXYs4u+iXmzZuspR4v5KddrVOKqhw7l2uOX72qXx4fFQeZFa2tQ52qujTsXJgcO54xSeCDkyrEHfMV32uBQ632GhdgReu0w7SlbCPidPDvnG/UMKncNS9r0YhepaiZL+ToC714rCgWW5d/LOI2tK7kTCjCHLfbjL3At+1i6zexEiudcbpj2R0e0tcMKDGyDswODOTciFEtO81T0Hdeo+5esybRpSuzs3oeWA+ppz3Z+HG46rz+uK7tap443qbXJeF5jTUGCb+dQ3SKOhsfdR5caeC7XDzxl/7W0q0O27XF1lKXF/nYtxvnrrdjVqcHDQN85fCntSZsJpR5fafXeOwWWL5qAsd1wKnu+wUF1NvWo87t4ZL9OOkgW31zTeqE5vzL5FB/qaNZj3eIQVOIcl7XsxCtS1EsX+nQB3uRV9zkHXHxzU+YMvefMMZDqTBi3Jyhp2GFDEfieBaclURFJEspxeAidgeL0IljMk4axvmc67EHw/e88tOyzY2zL1d0/+WH/xxp+HmwhgkXX02Q4AbomV9RxEfG83zGRkZrIy5uZkXr+h7Ox1Za9fV3ZmRtmZGWVu3JA5n5Y5Ny8znZGVzdpzC5x3K5jO8IHbg2BPVMz1FHjDDL5eCq/3wQi3DIAn3OW/0mEKAOveysKBacnMGDLm5pW9OaeK6ZT+SWZGB2ui+tP6ah1vvF/vPF6jP3ssrue3RfSPdENb5mZlzM/LSNthwh0eiLgXfdOSDHvugf3cno9ghoKD+1kH3pyHkt+tANwl6rp1rE+r2OUPYL1b0bDCs7//h/rkmUOqnLupf1aRUceOWn1921ZlTWfMwBFx/q2IxTT1xRf6b2ev6K+mK6TYPYrEKmQqqogi9kREKziU4A4z2MMKzmckmJZkRexhCEuyDFPfev8/6S/ffC1QLwAAKN2Keg4MI6vq2Wn9x4c36PtNu/XgAzXKGIZ9Ebeci7nzr2VZymSzqq6p0R/949/Vnz+xRfelr8tIL8jMZHNDCP6hA+/zD4JlphWxew6y7vCCHSoAAMDKrSgcbNywQT+qu19/u26HKmIxRWRPDrRMU6Zl5f51g4LdNSDDMrRz5wP60d+LK56+LmUyMhacCYzO5yPk5hO4b3d0goH/MxF8n5tAOAAAYHWsKBx0dz2j33nka4pKikUiikWjikbsQQTLNO1Q4IQFNyiYMrUQy+pmRUa7H3lQfX/nft0zf1PmwkLwgu/OLzDsSYtemWlPggz0LmTt90EAAICVKzscXP3iC21/9FEtZLPKmqZi0agqolHFolG7ByHPsIIilhZiWc1XZrVxoULRbEQNjzyk/TWS6Q4vZO0vU8pNOPR9IJL3aYn2UIM/MJj0HAAAsCrKCgdzc3PKLBjKZAwtLGS0sJBR1jAUjUS8gBCNRHLzDmTJilhaqMgqXZlVVTqqaCbifA6C9Hu/+5A2ZOedIQN/b0HuexW8yYmm/bZH91MU3SEIAACwOsoKB+l0Wjsrtuv+65tUmY7KWLBDQtYwvB6EqdR1/fKTKzo9flVTk5PKVGSVrsiqKh1TLBO1PzjJsnsYvrb1Ae2NW7IWMs4XKjmfpuhOOnR6CAzf9zS4wwrudzfc2k9IBADg7lFWOLh+/bqm7plWJpbVlhubdP/0Zm2YqZQ5Z8rIGPpw/LKOfGjo/05u0f+5skk//rmpvz77uRMMIs6wgTMXwbK0kMnoHzxSIzOblZk1ZJkRb/jAXi/3RU7uFy25gcH+jgXz1n63AgAAd5GywoEqKzUXSWu64romN6U0veGGlJXu/apKqd9M6d1Pq1S7uULJGWliWrpvY6Xe+n9RTV6ZtecNuBMUvYeh+vg9srKGPbTgfPeC3UNgf3+D/a4E90uX3MmKTs+BaQ9hAACAlSsrHCyk0zIMQ1nT0Ly1oBua09Q905rckNIvZ26osiKmX1+TNkZN3V+RVeKaoa33VujTL2ZlGIb3sExTlvPvtg1RmZlgr4A3+dD3Ucn21zbbgcEbejCCH7oEAADKV1Y4cIcD3Dv/rGkoY2Y0Z6UVUVpRmZKVVTabUTQW1Y0FQzcylq4vmLo5P690Oq10Oq2FdFqZbNbuSXA/GdGK+L6B0f36Zuejk91eA9P9rANn0qJhvx4AAKxcWeGgsqJCpnPHb5qmTCMrwzCUMbLaWl2hy6k57bzX0OXrhi7NzKuxRkqnF7TrPkuzs7OaSqV07auv9OW1a7ry5Zf67MoVXbh2XVJUZtb52mbv4XzTo+l8qJI3KdF9twKfkAgAwGoqLxxUVsp0hweydjAwDEOmYei+ezfo24/M6ouZm9pRbah+i6XPpuf19O9EtPWBB1QZi9mVWpYiTgOikYiuzKS9YQP7K6DdcJAbRnCfy5lr4PYsmAwrAACwasr64qXPP/9cRjSqhXRalvvFSs7nGmQNQ9MzM8qk0zo/E9XmSmn7A/dq59e2quqeezQ9O6vZGzeUXliQadqfbLhhwwa98/b/0EeJjxWLRKVoRJYTHuwOAWfIwfeOhPDz2gdq9af/9b94zwEAQHnKCgeZTEYXL12S5XxUssvIZpWambHnEDg9AtFoVBuqqrRx40bFq6tVVVWl6ZkZzVy/roWFBRmWpcpoVKd//kul0xn9YdfTgW0CAIDbq+xhhU0bNigase/wLdNUJpPRta++UiaTceYh2EMO2WxWCwsLunnjhr6antb8/Lzu27JF1Zs3q7KiQpWxmC5duqporFIbN20OVwUAAG6zssKBJNXW1srMZiXLsoPBtWsysllvLoL3ToZMRtlMRvPptG7cuKGpVErz8/OKb9mi6nvvVdSKaOr6nDZu3KSNGzeFqwEAALdZWcMKrrm5OV3+7DNd/fJLZTIZRSKRwOcURpxZAZWxmKKxmOT0OmzetEkP1NRoZva6Pjp3QVnvuxEsPfponSw5b2WUpQdr4trx8AO+rQIAgFtpReFATkD4zYULmvrqKy24AcF5W6EbDioqKryvco5Eo7p382bdvHFDr73x3zUzM2OXh+YvWJalSCSihXRaf/U/3w4sAwAAt86Kw4Hr8uXLunT5skzT1I2bNwPLotGoKioqtGnTJqXTaf38wzF9+Ne/UDqdDqyXD+EAAIDba9XCgZxehJs3b+ratWuaT6d10wkJG6qqFI/HVVVVpdraWlVWVoZfCgAA7hCrGg4AAMDaV/a7FQAAwPpEOAAAAAGEAwAAEEA4AAAAAYQDAAAQQDgAAAABhAMAABBAOAAAAAGEAwAAEEA4AAAAAYQDAAAQQDgAAAABhAMAABBAOAAAAAGEAwAAEEA4AAAAAYQDAAAQQDgAAAABhAMAABBAOAAAAAGEAwAAEEA4AAAAAYQDAAAQQDgAAAABhAMAABBAOAAAAAGEAwAAEEA4AAAAAYQDAAAQQDgAAAABhAMAABCwwnAwop54XHHfo3UgGV6pOMkBtcZ7NBIuL9Vqbed2W7V2j6gn3qq8p6GEOkZ6nHPaOqB8m7qtSmg3AGDlyg8HyQG1xjuk4ymlUu7juBp7m4oLCLfqP/y6bp1K9aslXH6nux3tLrqOEQ0PNqtvLKXUqW7VhRffauHfjaLbDQBYDWWGg6QGunqlvjH1B/7HblH/WJ/Ue3T1L/q4fZLnlVCjdt32VAAAuBOUFw6SJzU02qlD3XmuHuG7vJGewLBDvGfE7vpu6tWoBtUR7gL3rd8TSBj+IQzfXWVyQK2tPeppdcr9d53OzwMDrfmHPZIDavXaNaCB1nCdvvX8dUhLtye8zL/d8B1xnrZ6P5dSn/8Y9wz7lwSF68h3bJIDavXOjb/dbt2+87WonUl7Xwf8x3UkdJx9LS/2dyPvcVuiPfn2CQBQkvLCwcS4RpsbVB8uX2REPR2D6nSHHo53SoOHNZC0exia1anjqVPKZYxBdQy3eesOdrgXhKQGWnNDGGN9CXX4x8JHB6VDKaXydj0PakjHvG2Oer0a9kWo0d1mw5B6R8Ov9QnUUag99rJE35hdZ9t44e0upej6gsd4rCGhwfC2lpTn2NR165R3blLqbwkep9TxRvU2+S7UeY794JB0zBlm6hzsULzLeT7Wp+bBw87FvNTfDdcy7cm3T4HXAwCWU144yMObwBa4m2tRfyqVG3poaVNn8GUhzeo74Kxc36Bmt9jpqWhzFtV1H1Ln6JBOeumgWQ1LJpVmte9zrjD+bY4Ma7C5T251dd2Hlm2bV0eh9oR7VVoOqM+rtBRF1lfyfvgtcWz8kueVUK5u+xwmdL7Ase885M5TqFdDs+953T61N49qfEJl/G44imjPsvsEACiovHBQ36Dm0XFN+Ipa+nOTEgP/yQe6gDuWuastNM5td3Pn306h1+VfljyfCJXYF7KlhbdTqD2robj6Fu9HKcJ15LGol6heDd4FXsVtYykl/W44bmV7AABS2eGgbp/amwd1eLnx3OSAWpuG1D62RHAoid3NbW8npVTeLufi1e1qDJVMaLyk7v/Vbc/y8te3eD9W2aIgOKHx0cW9BSUr93fjVrUHAOApLxyoTt3H+qRFb1u0x8a9O8CJcY367uRGesJ3h/7u4AKcMDLsDh6HJ6iVo6VNnaO9OupsJDlwuLg7Vy3TnnBwGjmam3NQt0uNyr0ueXJIReWRQvWtZD+KEWqzRoY1uBp35+X+btyq9gAAPGWGAznvShhT+1CTb65Bk3obj+fuolsOqK851x1+uOG4+twuYGf8ubdpiXcIBNSp+9RxqcOpp2lI7WP5Jh+Wwp74lnC22TTeqM484+f5FWqPvayx1zkuh6VOb7iiRQf6mjXovK5L7cXdLResL7gfxW+zWMHtxzsS6lvxsV/J70b57RnpCb57YbnnAHC3iqRSKStceHcaUU/8sBrGVnt4IKmB1iaNH/JNvgMA4A5Wfs/BWpccUKv/PfJ0TwMAIN3V4aCuW/a0idK7pwEAWM8YVgAAAAF3b88BAADIi3AAAAACCAcAACCAcAAAAAIIBwAAIIBwAAAAAggHAAAggHAAAAACCAcAACCAcAAAAAIIBwAAIIBwAAAAAvjiJQDAItlsVpOTk1pYWJBpmuHFWCM2bdqkmpoaVVRUhBcVRDgAAARks1l99tln2rp1q2praxWN0sm8FpmmqampKV29elUPP/xwSQGBMw4ACJiamtJDDz2kbdu2EQzWsGg0qtraWtXW1mpycjK8uKCyeg4+/PDDcBEA4A70rW99K1y0rAsXLqixsVGxWCy8CGuQYRg6e/astm/fHl60pLLDwb+43h0uBoA170Lz++GiNSuRSJQdDp544olwMdawM2fOaOfOneHiJdFfBAAAAggHAAAggHAAAAACCAcAgDVl4sRRde2NKRaLKRbbq71dJzQRXum2O6Gu2F4d/ZtvyKogHAAA1o4TXdrd9rYaXzgnwzBkGG/pBbVpd9eJ8JpYAcIBAGCNmNDRV1/Ts8Mf6MD+eqesXvsPHdGe115dN3ftdwLCAQBgbZgY1tunn9WT+0Pl9Qf0gfGBDrh5YcI/7BBTbG+XLzg43f9Hu7TXGZboCqSKE4Ehi64T/mUTOtq1V3v3dqlr750ynHFrEA4AAGvDJwmdDpctckJduw9K3rCDoXNPfaSDu7uUG3g4rYOJJ/WWYcgYflwfHTzsLJvQ0b1teu3xYZ0zDBnnntJHbd/1gsWJrt16u/EtffDBMR374AO91fjquh3OIBwAANaR/TpmGDrmDTtI9W1PaU9gnT06cmi/6iVp/5N6XB/p3IQkfaLEad+yQI/ECb372h491Rba7mvv+kLH+kE4AACsDd9oDF3klzBxwu7+d4cVdh8sosdB0sQ5faTHtTt3/Q8tO62Du33DFbsP6rQXLNYXwgEAYG2ob9NTe17Tu+Fb9Ymj2uu9jfCEuna3KfHkW/awgWHIOHekuFBRv9vXi5Bv2R4dOeds03v45jqsI4QDAMAaUa8DLzyr19r26qg3UXBCJw4f1OlnX/BdpPeo8Rv19tCAJnRi+O3ieg70DTXuOa2Dh52JhoHQsV9PPutbJmni6F7F9h5dl5MSCQcAgLVj/zGdG35KiVd3O937u/WqhnXumPsWhv06NPy43va6/7+rdxOPF9dzoHod+GBYz37Upt2xmGK739bjw295oWP/sXMa1qv2slhMu99+XMNvHXBCyPrCtzICgA/fysi3Mq5HfCsjAABYEcIBAAAIIBwAAICAsuccAADufOXMObh48aIee+wxxWKx8CKsQYZhKJFIlDTnoKxwAABYv65cuaItW7bowQcfDC/CGjQ5Oanp6Wlt27YtvGhJDCsAAAJqa2s1OTmpyclJGYYRXow1wjAMXb16VVevXlVNTU14cUH0HAAAFslms/r00081NTUly+IysRbFYjHdd9992rlzpyoqKsKLCyIcAACAAIYVAABAAOEAAAAEEA4AAEAA4QAAAAQQDgAAQADhAAAABBAOAABAAOEAAAAEEA4AAEBA9NKlS+EyAABwF4uePXtWc3Nz4XIAAHAXmp+fV/T+++8XAQEAAMzPz+vjjz9W5KHHvm/V3BfRw9uq9OyB72jf398VXhcAAKxzv/3tb3X27FnV1NQo8me/+IX1LdNUOv2l/teR/63MP/3n+pf/8GFt2bJZm6ruVXV8S/j1AABgjZufn9f09LRmZmY0OzurmZkZbdu2TVVVVfr/HbkE+RzuGHkAAAAASUVORK5CYII=",Mg=n.p+"static/media/question-image.98d13a1f0c7ee28a7dda.png",Ug=n.p+"static/media/upload-image.6446bf3ba27e70c0178b.png",Fg=n.p+"static/media/creative-image.0ce8a0e752efba43c2e0.png",Hg=n.p+"static/media/problem-image.d41628eafcbddfe1e272.png",Vg=n.p+"static/media/conversation-image.d0c1a7eabe27369361ac.png",Bg=()=>{var e,t,n;const[r,s]=(0,i.useState)(1),[o,a]=(0,i.useState)(null),l=(e,t)=>{var n;a({image:e,alt:t,title:null===(n=u.find((e=>e.id===r)))||void 0===n?void 0:n.title})},c=()=>{a(null)},u=[{id:1,title:"Getting Started",description:"First, download and install Herma on your computer. For windows follow the installation wizard. Once installed, launch the application. On Mac just launch the application to begin your private AI experience!"},{id:2,title:"Asking Questions",description:"Type your question into the input field at the bottom of the window. Herma will process your query locally and provide a response. You can ask about general knowledge, request creative content, or seek help with various tasks."},{id:3,title:"Uploading Documents",description:"Click either document icon to upload files you want Herma to analyze. Supported formats include PDFs, text files, Word documents, and spreadsheets. After uploading, you can ask questions about the document's content for instant insights."},{id:4,title:"Creating Content",description:"Ask Herma to help you draft emails, write stories, generate ideas, or create outlines. Simply specify what type of content you need, provide any relevant details or requirements, and Herma will generate a draft for you to review and refine."},{id:5,title:"Complex Problem Solving",description:"For challenging problems, break them down into smaller parts. Describe the issue in detail, and Herma will work through it step by step. You can ask follow-up questions to refine solutions and explore different approaches."},{id:6,title:"Memory & Conversations",description:"Herma remembers your conversation history within a session, allowing for contextual follow-ups. You can reference previous questions or answers but longer chats may lead to less accurate responses."}];return(0,Pe.jsxs)("section",{className:"py-24 bg-gradient-to-b from-blue-50 to-white",id:"tutorial",children:[(0,Pe.jsxs)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Pe.jsxs)("div",{className:"text-center mb-16",children:[(0,Pe.jsx)("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:"How to Use Herma"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-600 max-w-3xl mx-auto",children:"Follow these simple steps to get the most out of your private AI assistant."}),(0,Pe.jsx)("div",{className:"w-32 h-1 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 mx-auto mt-6"})]}),(0,Pe.jsx)("div",{className:"flex justify-center mb-10 overflow-x-auto pb-4 hide-scrollbar",children:(0,Pe.jsx)("div",{className:"flex space-x-3 mx-auto",children:u.map((e=>(0,Pe.jsxs)("button",{className:"px-5 py-2.5 rounded-lg transition-all duration-300 whitespace-nowrap flex items-center shadow-sm "+(r===e.id?"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white shadow-md":"bg-white border border-blue-200 text-blue-700 hover:bg-blue-50"),onClick:()=>s(e.id),children:[(0,Pe.jsx)("span",{className:"w-6 h-6 rounded-full mr-2 flex items-center justify-center text-sm "+(r===e.id?"bg-white text-blue-700":"bg-blue-100 text-blue-700"),children:e.id}),(0,Pe.jsxs)("span",{className:"font-medium",children:["Step ",e.id]})]},e.id)))})}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Pe.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-6 h-80 flex items-center justify-center order-2 lg:order-1 border border-blue-100",children:(0,Pe.jsx)("div",{className:"relative w-full h-full rounded-lg overflow-hidden bg-blue-50",children:(0,Pe.jsxs)("div",{className:"w-full h-full",children:[1===r&&(0,Pe.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,Pe.jsx)("img",{src:Dg,alt:"Install and launch Herma",className:"object-contain max-h-[85%] rounded-lg shadow-md my-auto cursor-pointer",onClick:()=>l(Dg,"Install and launch Herma")}),(0,Pe.jsx)("p",{className:"text-blue-800 mt-4 font-medium",children:"Install and launch Herma on your device"})]}),2===r&&(0,Pe.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,Pe.jsx)("img",{src:Mg,alt:"Ask questions in the chat interface",className:"object-contain max-h-[85%] rounded-lg shadow-md my-auto cursor-pointer",onClick:()=>l(Mg,"Ask questions in the chat interface")}),(0,Pe.jsx)("p",{className:"text-blue-800 mt-4 font-medium",children:"Ask questions in the chat interface"})]}),3===r&&(0,Pe.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,Pe.jsx)("img",{src:Ug,alt:"Upload documents for analysis",className:"object-contain max-h-[85%] rounded-lg shadow-md my-auto cursor-pointer",onClick:()=>l(Ug,"Upload documents for analysis")}),(0,Pe.jsx)("p",{className:"text-blue-800 mt-4 font-medium",children:"Upload documents for analysis"})]}),4===r&&(0,Pe.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,Pe.jsx)("img",{src:Fg,alt:"Generate creative content and drafts",className:"object-contain max-h-[85%] rounded-lg shadow-md my-auto cursor-pointer",onClick:()=>l(Fg,"Generate creative content and drafts")}),(0,Pe.jsx)("p",{className:"text-blue-800 mt-4 font-medium",children:"Generate creative content and drafts"})]}),5===r&&(0,Pe.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,Pe.jsx)("img",{src:Hg,alt:"Break down complex problems",className:"object-contain max-h-[85%] rounded-lg shadow-md my-auto cursor-pointer",onClick:()=>l(Hg,"Break down complex problems")}),(0,Pe.jsx)("p",{className:"text-blue-800 mt-4 font-medium",children:"Break down complex problems"})]}),6===r&&(0,Pe.jsxs)("div",{className:"w-full h-full flex flex-col items-center",children:[(0,Pe.jsx)("img",{src:Vg,alt:"Engage in contextual conversations",className:"object-contain max-h-[85%] rounded-lg shadow-md my-auto cursor-pointer",onClick:()=>l(Vg,"Engage in contextual conversations")}),(0,Pe.jsx)("p",{className:"text-blue-800 mt-4 font-medium",children:"Engage in contextual conversations"})]})]})})}),(0,Pe.jsxs)("div",{className:"space-y-6 order-1 lg:order-2 bg-white rounded-2xl shadow-lg p-8 border border-blue-100",children:[(0,Pe.jsx)("div",{className:"inline-block px-4 py-2 rounded-lg bg-blue-100 text-blue-800 font-semibold mb-2",children:null===(e=u.find((e=>e.id===r)))||void 0===e?void 0:e.title}),(0,Pe.jsxs)("h3",{className:"text-2xl font-bold text-blue-900",children:["Step ",r,": ",null===(t=u.find((e=>e.id===r)))||void 0===t?void 0:t.title]}),(0,Pe.jsx)("p",{className:"text-blue-700 leading-relaxed text-lg",children:null===(n=u.find((e=>e.id===r)))||void 0===n?void 0:n.description}),(0,Pe.jsxs)("div",{className:"pt-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl",children:[(0,Pe.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-[var(--highlight-color)]",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pe.jsx)("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),"Pro Tips:"]}),(0,Pe.jsxs)("ul",{className:"space-y-3",children:[1===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Ensure your computer meets the minimum system requirements for optimal performance."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Check for updates regularly to access the latest features and improvements."})]})]}),(0,Pe.jsxs)("ul",{className:"space-y-3",children:[1===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Ensure your computer meets the minimum system requirements for optimal performance."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Check for updates regularly to access the latest features and improvements."})]})]}),2===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Be specific with your questions to get more accurate responses."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Ask Herma to refine or expand on its previous answers if needed."})]})]}),3===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"White highlighted files mean it is selected and will be used to answer your questions."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Ask specific questions about document content rather than general ones for better results."})]})]}),4===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Provide examples or context to help Herma understand your desired tone and style."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Iteratively refine generated content by asking for specific changes or improvements."})]})]}),5===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"For math or coding problems, clearly state what you're trying to achieve."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Ask Herma to explain its reasoning process to better understand complex solutions."})]})]}),6===r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:"Start a new chat for entirely different topics to avoid confusion."})]}),(0,Pe.jsxs)("li",{className:"flex items-start",children:[(0,Pe.jsx)("span",{className:"text-indigo-600 mr-2 text-lg",children:"\u2022"}),(0,Pe.jsx)("span",{className:"text-blue-800",children:'Use references like "as I mentioned earlier" to help Herma connect related questions.'})]})]})]})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,Pe.jsxs)("button",{className:"px-6 py-3 rounded-lg flex items-center transition-all duration-300 "+(1===r?"bg-blue-100 text-blue-400 cursor-not-allowed":"bg-white border border-blue-500 text-blue-700 hover:bg-blue-50"),onClick:()=>s((e=>Math.max(e-1,1))),disabled:1===r,children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pe.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Previous"]}),(0,Pe.jsxs)("button",{className:"px-6 py-3 rounded-lg flex items-center transition-all duration-300 "+(r===u.length?"bg-blue-100 text-blue-400 cursor-not-allowed":"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white hover:shadow-lg"),onClick:()=>s((e=>Math.min(e+1,u.length))),disabled:r===u.length,children:["Next",(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pe.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})]})]}),(0,Pe.jsx)("div",{className:"mt-24",children:(0,Pe.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-12 max-w-4xl mx-auto",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Need More Help?"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-700 mb-6 max-w-2xl mx-auto",children:"This basic tutorial covers the essentials, but Herma has many more capabilities to explore. Try experimenting with different requests to discover all that Herma can do for you."}),(0,Pe.jsx)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:(0,Pe.jsx)("button",{className:"px-8 py-4 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:"Start Using Herma Now"})})]})})})]}),o&&(0,Pe.jsx)("div",{className:"fixed top-0 left-0 w-full h-full bg-black/90 flex items-center justify-center z-50 p-4",onClick:c,children:(0,Pe.jsxs)("div",{className:"relative max-w-4xl w-full rounded-lg overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Pe.jsx)("button",{className:"absolute top-4 right-4 bg-black/50 text-white w-10 h-10 rounded-full flex items-center justify-center z-10 hover:bg-black/80 transition-colors",onClick:c,children:"\u2715"}),(0,Pe.jsx)("img",{src:o.image,alt:o.alt,className:"w-full h-auto max-h-[80vh] object-contain"}),(0,Pe.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white p-4",children:[(0,Pe.jsx)("h3",{className:"text-xl font-bold",children:o.title}),(0,Pe.jsx)("p",{children:o.alt})]})]})}),(0,Pe.jsx)("style",{jsx:!0,children:"\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n      "})]})};class zg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Wg={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},qg=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Gg=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(Wg.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new zg(r.status,i);if(r.ok)return s;throw s},Kg=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Yg=e=>e.webdriver||!e.languages||0===e.languages.length,$g=()=>new zg(451,"Unavailable For Headless Browser"),Qg=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},Xg=()=>new zg(403,"Forbidden"),Jg=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},Zg=()=>new zg(429,"Too Many Requests"),ev=async(e,t,n,r)=>{const i=qg(r),s=i.publicKey||Wg.publicKey,o=i.blockHeadless||Wg.blockHeadless,a=Wg.storageProvider||i.storageProvider,l={...Wg.blockList,...i.blockList},c={...Wg.limitRate,...i.limitRate};if(o&&Yg(navigator))return Promise.reject($g());const u=(e=>"string"===typeof e?document.querySelector(e):e)(n);Kg(s,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(u);const d=new FormData(u);return Qg(l,d)?Promise.reject(Xg()):await Jg(location.pathname,c,a)?Promise.reject(Zg()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",s),Gg("/api/v1.0/email/send-form",d))},tv=()=>{const[e,t]=(0,i.useState)({name:"",email:"",subject:"General Inquiry",message:""}),n=(0,i.useRef)(),[r,s]=(0,i.useState)({}),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e="herma_app"===new URLSearchParams(window.location.search).get("utm_source"),t="true"===localStorage.getItem("appUser");f(e||t)}),[]);const p=n=>{const{name:i,value:o}=n.target;t({...e,[i]:o}),r[i]&&s({...r,[i]:null})};return(0,Pe.jsx)("section",{className:"py-24 bg-gradient-to-b from-blue-50 to-white",id:"contact",children:(0,Pe.jsxs)("div",{className:"container mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:[(0,Pe.jsxs)("div",{className:"text-center mb-16",children:[(0,Pe.jsx)("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:"Contact Us"}),(0,Pe.jsx)("p",{className:"text-lg text-blue-600 max-w-3xl mx-auto",children:"Have questions or feedback about Herma? We'd love to hear from you!"}),(0,Pe.jsx)("div",{className:"w-32 h-1 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 mx-auto mt-6"})]}),(0,Pe.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[(0,Pe.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-100",children:l?(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)("div",{className:"bg-green-100 text-green-800 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Pe.jsx)("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Message Sent!"}),(0,Pe.jsx)("p",{className:"text-blue-700 mb-8",children:"Thank you for reaching out. We'll get back to you as soon as possible."}),(0,Pe.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-8 py-3 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:scale-105",children:"Send Another Message"})]}):(0,Pe.jsxs)("form",{ref:n,onSubmit:async r=>{if(r.preventDefault(),c(!1),d(!1),(()=>{const t={};return e.name.trim()||(t.name="Name is required"),e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Invalid email format"):t.email="Email is required",e.message.trim()?e.message.length<10&&(t.message="Message must be at least 10 characters"):t.message="Message is required",s(t),0===Object.keys(t).length})()){a(!0),Re.Ay.event({category:"Contact",action:"FormSubmission",label:e.subject});try{const r=await ev("service_eqqo6n9","template_09owcap",n.current,"fdlfNIrca3C4488jB");console.log("Email successfully sent!",r.text),(e=>{const t="true"===localStorage.getItem("appUser");let n="N/A",r=0;if(t){n=localStorage.getItem("appUserSource")||"Unknown";const e=localStorage.getItem("appUserFirstSeen");r=e?Math.floor((Date.now()-parseInt(e))/864e5):0}Re.Ay.event({category:"Conversion",action:e,label:t?"App User":"Regular User",app_user:t?"yes":"no",app_source:n,days_since_first_visit:r,nonInteraction:!1})})("Contact Form Submission"),t({name:"",email:"",subject:"General Inquiry",message:""}),c(!0),Re.Ay.event({category:"Contact",action:"FormSubmitSuccess",label:e.subject,appUser:h?"true":"false"})}catch(i){console.error("Error submitting form:",i),d(!0),Re.Ay.event({category:"Contact",action:"FormSubmitError",label:e.subject})}finally{a(!1)}}},className:"space-y-6",children:[(0,Pe.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Send a Message"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-blue-900 mb-2",children:["Your Name ",(0,Pe.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pe.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:p,className:`w-full px-4 py-3 rounded-lg border ${r.name?"border-red-500 bg-red-50":"border-blue-200"} focus:outline-none focus:ring-2 focus:ring-[var(--highlight-color)] focus:border-transparent transition-all duration-200`,placeholder:"John Doe"}),r.name&&(0,Pe.jsxs)("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.name]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-blue-900 mb-2",children:["Email Address ",(0,Pe.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pe.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:p,className:`w-full px-4 py-3 rounded-lg border ${r.email?"border-red-500 bg-red-50":"border-blue-200"} focus:outline-none focus:ring-2 focus:ring-[var(--highlight-color)] focus:border-transparent transition-all duration-200`,placeholder:"your.email@example.com"}),r.email&&(0,Pe.jsxs)("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.email]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-blue-900 mb-2",children:"Subject"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("select",{id:"subject",name:"subject",value:e.subject,onChange:p,className:"appearance-none w-full px-4 py-3 rounded-lg border border-blue-200 text-blue-900 focus:outline-none focus:ring-2 focus:ring-[var(--highlight-color)] focus:border-transparent bg-white transition-all duration-200",children:["General Inquiry","Technical Support","Feature Request","Bug Report","Other"].map((e=>(0,Pe.jsx)("option",{value:e,children:e},e)))}),(0,Pe.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-blue-700",children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{htmlFor:"message",className:"block text-sm font-medium text-blue-900 mb-2",children:["Message ",(0,Pe.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pe.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:p,rows:"5",className:`w-full px-4 py-3 rounded-lg border ${r.message?"border-red-500 bg-red-50":"border-blue-200"} focus:outline-none focus:ring-2 focus:ring-[var(--highlight-color)] focus:border-transparent transition-all duration-200`,placeholder:"Please describe your inquiry or feedback..."}),r.message&&(0,Pe.jsxs)("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.message]})]}),u&&(0,Pe.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg flex items-start",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pe.jsxs)("span",{children:["There was an issue sending your message. Please try again or contact us directly at ",(0,Pe.jsx)("a",{href:"mailto:hermalocal@gmail.com",className:"underline font-medium",children:"hermalocal@gmail.com"}),"."]})]}),(0,Pe.jsx)("button",{type:"submit",disabled:o,className:"w-full px-6 py-4 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white font-medium rounded-lg shadow-lg transition-all duration-300 \n                    "+(o?"opacity-70 cursor-not-allowed":"hover:shadow-xl transform hover:-translate-y-1 hover:scale-105"),children:o?(0,Pe.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Pe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):"Send Message"})]})}),(0,Pe.jsxs)("div",{className:"space-y-8",children:[(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 rounded-2xl shadow-xl p-8 text-white",children:[(0,Pe.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Get in Touch"]}),(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsxs)("div",{className:"flex items-start",children:[(0,Pe.jsx)("div",{className:"bg-white/20 rounded-full p-3 mr-4 mt-1",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm font-light mb-1 text-white/80",children:"Email Us At"}),(0,Pe.jsxs)("a",{href:"mailto:hermalocal@gmail.com",className:"text-lg hover:underline transition-all flex items-center",onClick:()=>{Re.Ay.event({category:"Contact",action:"EmailLinkClick",label:"ContactPage"})},children:["hermalocal@gmail.com",(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),(0,Pe.jsxs)("div",{className:"flex items-start",children:[(0,Pe.jsx)("div",{className:"bg-white/20 rounded-full p-3 mr-4 mt-1",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm font-light mb-2 text-white/80",children:"Follow Us"}),(0,Pe.jsxs)("div",{className:"flex space-x-5",children:[(0,Pe.jsx)("a",{href:"https://twitter.com/herma_AI",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 hover:bg-white/20 p-3 rounded-full transition-all",onClick:()=>{Re.Ay.event({category:"Social",action:"TwitterClick",label:"ContactPage"})},children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Pe.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),(0,Pe.jsx)("a",{href:"https://discord.gg/herma-community",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 hover:bg-white/20 p-3 rounded-full transition-all",onClick:()=>{Re.Ay.event({category:"Social",action:"DiscordClick",label:"ContactPage"})},children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Pe.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})})]})]})]})]})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-100",children:[(0,Pe.jsxs)("h3",{className:"text-xl font-bold text-blue-900 mb-4 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-[var(--highlight-color)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Frequently Asked Questions"]}),(0,Pe.jsx)("p",{className:"text-blue-700 mb-6",children:"Looking for quick answers? Check out our FAQ section for more about Herma's features, system requirements, and more."}),(0,Pe.jsxs)("a",{href:"#faq",onClick:e=>{e.preventDefault(),document.getElementById("faq").scrollIntoView({behavior:"smooth"}),Re.Ay.event({category:"Navigation",action:"FAQClick",label:"FromContactPage"})},className:"inline-flex items-center px-6 py-3 text-[var(--highlight-color)] font-medium border border-[var(--highlight-color)] rounded-lg hover:bg-blue-50 transition-all",children:["View FAQ",(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}),(0,Pe.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-xl p-8",children:[(0,Pe.jsxs)("h3",{className:"text-xl font-bold text-blue-900 mb-4 flex items-center",children:[(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-[var(--highlight-color)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Join Our Community"]}),(0,Pe.jsx)("p",{className:"text-blue-700 mb-6",children:"Connect with other Herma users, share tips, and get help from our community through our Discord server."}),(0,Pe.jsxs)("a",{href:"https://discord.gg/herma-community",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transform transition-all duration-300 hover:-translate-y-1",onClick:()=>{Re.Ay.event({category:"Community",action:"DiscordJoinClick",label:"ContactPage"})},children:["Join Discord",(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})]})})},nv=yg("pk_test_51Ra43PPq3xOWKbiJK5luGbuyaHU60KXhNaoDhNl9UZothPdkO1XJcSv96BPhFP7wLGHfxPaa2DM4N7NnzBXSeQUe00q41uinG6"),rv=()=>{const{user:e}=eg(),[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(null),[o,a]=(0,i.useState)(null);(0,i.useEffect)((()=>{e&&l()}),[e]);const l=async()=>{try{const t=await fetch(`https://us-central1-herma-landing-b5105.cloudfunctions.net/api/subscription-status/${e.uid}`),n=await t.json();s(n)}catch(o){console.error("Error checking subscription:",o)}};return e?(0,Pe.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,Pe.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"Test Payment Workflow"}),(0,Pe.jsxs)("div",{className:"bg-gray-100 p-6 rounded-lg mb-8",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Current Status"}),(0,Pe.jsxs)("div",{className:"space-y-2",children:[(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"User:"})," ",e.email]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Subscription:"})," ",(null===r||void 0===r?void 0:r.status)||"Loading..."]}),(null===r||void 0===r?void 0:r.nextBillingDate)&&(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Next Billing:"})," ",r.nextBillingDate]}),(null===r||void 0===r?void 0:r.amount)&&(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Amount:"})," $",(r.amount/100).toFixed(2),"/month"]})]}),(0,Pe.jsx)("button",{onClick:l,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Status"})]}),o&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),(0,Pe.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border",children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Herma Pro"}),(0,Pe.jsxs)("div",{className:"text-3xl font-bold mb-4",children:["$29.99",(0,Pe.jsx)("span",{className:"text-lg font-normal",children:"/month"})]}),(0,Pe.jsxs)("ul",{className:"space-y-2 mb-6",children:[(0,Pe.jsx)("li",{children:"\u2705 Advanced AI Models"}),(0,Pe.jsx)("li",{children:"\u2705 Unlimited Usage"}),(0,Pe.jsx)("li",{children:"\u2705 Priority Support"}),(0,Pe.jsx)("li",{children:"\u2705 Custom Features"})]}),"active"===(null===r||void 0===r?void 0:r.status)?(0,Pe.jsx)("div",{className:"text-green-600 font-semibold text-center py-4",children:"\u2705 Already Subscribed!"}):(0,Pe.jsx)("button",{onClick:async()=>{if(e){n(!0),a(null);try{const t=await fetch("https://us-central1-herma-landing-b5105.cloudfunctions.net/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.uid,userEmail:e.email,priceId:"price_1Ra4P4Pq3xOWKbiJbjwxqQ8G",successUrl:`${window.location.origin}/success`,cancelUrl:`${window.location.origin}/upgrade`})}),n=await t.json();if(n.error)throw new Error(n.error);const r=await nv,{error:i}=await r.redirectToCheckout({sessionId:n.id});if(i)throw new Error(i.message)}catch(o){a(o.message),n(!1)}}else a("Please sign in first")},disabled:t,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50",children:t?"Processing...":"Start Monthly Subscription"})]}),(0,Pe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border",children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Manage Subscription"}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-6",children:"Update payment method, view invoices, or cancel subscription."}),null!==r&&void 0!==r&&r.customerId?(0,Pe.jsx)("button",{onClick:async()=>{if(null!==r&&void 0!==r&&r.customerId){n(!0);try{const e=await fetch("https://us-central1-herma-landing-b5105.cloudfunctions.net/api/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:r.customerId,returnUrl:window.location.origin})}),t=await e.json();if(!t.url)throw new Error("Failed to create portal session");window.location.href=t.url}catch(o){a(o.message),n(!1)}}else a("No customer ID found")},disabled:t,className:"w-full bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 disabled:opacity-50",children:t?"Opening...":"Customer Portal"}):(0,Pe.jsx)("div",{className:"text-gray-500 text-center py-4",children:"Subscribe first to manage your subscription"})]})]}),(0,Pe.jsxs)("div",{className:"mt-8 bg-yellow-100 p-6 rounded-lg",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\ud83e\uddea Test Mode Information"}),(0,Pe.jsx)("p",{className:"mb-2",children:"Use these test card numbers in Stripe Checkout:"}),(0,Pe.jsxs)("div",{className:"font-mono text-sm space-y-1",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("strong",{children:"Success:"})," 4242 4242 4242 4242"]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("strong",{children:"Decline:"})," 4000 0000 0000 0002"]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("strong",{children:"Any future date for expiry, any 3-digit CVC"})})]})]}),(0,Pe.jsx)("div",{className:"mt-6 text-center",children:(0,Pe.jsx)("a",{href:"https://us-central1-herma-landing-b5105.cloudfunctions.net/api/health",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"\ud83d\udd0d Check API Health Status"})})]}):(0,Pe.jsxs)("div",{className:"max-w-4xl mx-auto p-8 text-center",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Please Sign In"}),(0,Pe.jsx)("p",{children:"You need to be signed in to test the payment flow."})]})},iv=()=>{const{user:e}=eg(),t=ee(),[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const t=setTimeout((()=>{e&&a()}),2e3);return()=>clearTimeout(t)}),[e]);const a=async()=>{try{const t=await fetch(`https://us-central1-herma-landing-b5105.cloudfunctions.net/api/subscription-status/${e.uid}`),n=await t.json();r(n)}catch(t){console.error("Error checking subscription:",t)}finally{o(!1)}};return(0,Pe.jsxs)("div",{className:"max-w-2xl mx-auto p-8 text-center",children:[(0,Pe.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8",children:[(0,Pe.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf89"}),(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-green-800 mb-4",children:"Payment Successful!"}),(0,Pe.jsx)("p",{className:"text-green-700 mb-6",children:"Thank you for subscribing to Herma Pro. Your payment has been processed successfully."}),s?(0,Pe.jsxs)("div",{className:"text-gray-600",children:[(0,Pe.jsx)("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-400 border-t-transparent rounded-full mr-2"}),"Updating your subscription status..."]}):(0,Pe.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,Pe.jsx)("h3",{className:"font-semibold mb-2",children:"Subscription Details:"}),(0,Pe.jsxs)("div",{className:"text-left space-y-1",children:[(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Status:"})," ",(null===n||void 0===n?void 0:n.status)||"Processing..."]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Email:"})," ",null===e||void 0===e?void 0:e.email]}),(null===n||void 0===n?void 0:n.nextBillingDate)&&(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Next Billing:"})," ",n.nextBillingDate]}),(null===n||void 0===n?void 0:n.amount)&&(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Amount:"})," $",(n.amount/100).toFixed(2),"/month"]})]})]}),(0,Pe.jsxs)("div",{className:"mt-6 space-x-4",children:[(0,Pe.jsx)("button",{onClick:()=>t("/"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Go to Dashboard"}),(0,Pe.jsx)("button",{onClick:()=>t("/upgrade"),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"Manage Subscription"})]})]}),(0,Pe.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-3",children:"What's Next?"}),(0,Pe.jsxs)("div",{className:"text-blue-700 space-y-2",children:[(0,Pe.jsx)("p",{children:"\u2705 Your pro features are now active"}),(0,Pe.jsx)("p",{children:"\u2705 You can access advanced AI models"}),(0,Pe.jsx)("p",{children:"\u2705 Unlimited usage is now available"}),(0,Pe.jsx)("p",{children:"\u2705 You'll receive an email receipt shortly"})]})]}),"active"!==(null===n||void 0===n?void 0:n.status)&&!s&&(0,Pe.jsxs)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Pe.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Status Still Updating?"}),(0,Pe.jsx)("p",{className:"text-yellow-700 text-sm mb-3",children:"Sometimes it takes a few moments for the subscription to activate. Stripe webhooks may need time to process."}),(0,Pe.jsx)("button",{onClick:a,className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700",children:"Refresh Status"})]})]})},sv=()=>{const[e,t]=(0,i.useState)(!1),{user:n,logout:r}=eg(),s=ee();return(0,Pe.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("button",{onClick:async()=>{if(n)try{await r(),s("/")}catch(e){console.error("Error signing out:",e)}else s("/login")},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:"w-12 h-12 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 bg-gradient-to-r from-[var(--highlight-color)] to-indigo-600 hover:from-[var(--highlight-color)] hover:to-indigo-700","aria-label":n?"Sign out":"Sign in",children:n?(0,Pe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}):(0,Pe.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),e&&(0,Pe.jsx)("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded shadow-lg whitespace-nowrap",children:n?`Signed in as ${n.email}`:"Sign in"})]})})},ov=()=>{const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)({email:"",password:"",displayName:"",confirmPassword:""}),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)(""),{signin:c,signup:u,signInWithGoogle:d,user:h}=eg(),f=ee(),p=J();(0,i.useEffect)((()=>{h&&p.search.includes("redirect=checkout")&&g()}),[h,p.search]);const m=e=>{r({...n,[e.target.name]:e.target.value})},g=async()=>{if(h){o(!0),l("");try{await rg(h)}catch(a){console.error("Checkout redirect error:",a),l(a.message),f("/")}finally{o(!1)}}};return(0,Pe.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Pe.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,Pe.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e?"Sign in to your account":"Create your account"})}),(0,Pe.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Pe.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Pe.jsx)("div",{className:"mb-6",children:(0,Pe.jsxs)("button",{onClick:async()=>{o(!0),l("");try{if(await d(),p.search.includes("redirect=checkout"))return;f("/")}catch(a){l(a.message)}finally{o(!1)}},disabled:s,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Pe.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Pe.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Pe.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Pe.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?p.search.includes("redirect=checkout")?"Redirecting to checkout...":"Processing...":"Continue with Google"]})}),(0,Pe.jsxs)("div",{className:"relative my-6",children:[(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Pe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Pe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Pe.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),a&&(0,Pe.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,Pe.jsx)("p",{className:"text-sm text-red-600",children:a})}),(0,Pe.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),l("");try{if(e)await c(n.email,n.password);else{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");await u(n.email,n.password)}if(p.search.includes("redirect=checkout"))return;f("/")}catch(a){l(a.message)}finally{o(!1)}},className:"space-y-6",children:[!e&&(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Pe.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:n.displayName,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,Pe.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Pe.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:e?"current-password":"new-password",required:!0,value:n.password,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),!e&&(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,Pe.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?p.search.includes("redirect=checkout")?"Redirecting to checkout...":"Processing...":e?"Sign in":"Sign up"})})]}),(0,Pe.jsx)("div",{className:"mt-6",children:(0,Pe.jsx)("button",{onClick:()=>t(!e),className:"w-full text-center text-sm text-blue-600 hover:text-blue-500",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})]})};Re.Ay.initialize("G-FSS7V9WPY5",{debug:!1,testMode:!1,gaOptions:{siteSpeedSampleRate:100,cookieFlags:"SameSite=None;Secure"},gtagOptions:{send_page_view:!1,allow_google_signals:!0,allow_ad_personalization_signals:!0}}),Re.Ay.initialize("G-FSS7V9WPY5",{debug:!1,testMode:!1,gaOptions:{siteSpeedSampleRate:100,cookieFlags:"SameSite=None;Secure"},gtagOptions:{send_page_view:!1,allow_google_signals:!0,allow_ad_personalization_signals:!0}});const av=()=>{const e=J();return(0,i.useEffect)((()=>{(()=>{const e=new URLSearchParams(window.location.search),t=e.get("utm_source"),n=e.get("utm_medium"),r=e.get("utm_campaign");if("herma_app"===t&&(Re.Ay.event({category:"App Users",action:"Website Visit",label:n||"Unknown Medium",campaign:r||"Unknown Campaign",nonInteraction:!1}),Re.Ay.gtag("set","user_properties",{is_app_user:"true",app_referral_medium:n||"Unknown Medium",app_referral_campaign:r||"Unknown Campaign"}),localStorage.setItem("appUser","true"),localStorage.setItem("appUserFirstSeen",Date.now().toString()),localStorage.getItem("appUserSource")||localStorage.setItem("appUserSource",n||"Unknown")),"true"===localStorage.getItem("appUser")&&!t){const e=localStorage.getItem("appUserFirstSeen"),t=localStorage.getItem("appUserSource")||"Unknown",n=e?Math.floor((Date.now()-parseInt(e))/864e5):"unknown";Re.Ay.event({category:"App Users",action:"Returning Visit",label:`Original Source: ${t}`,value:parseInt(n)||0,nonInteraction:!1})}})(),Re.Ay.send({hitType:"pageview",page:e.pathname,title:document.title,location:window.location.href,dimension1:window.innerWidth<=768?"mobile":"desktop"}),Re.Ay.event({category:"Navigation",action:"PageView",label:e.pathname,value:1})}),[e]),(0,i.useEffect)((()=>{const t=()=>{if("hidden"===document.visibilityState){const t=Math.round(performance.now());Re.Ay.event({category:"Engagement",action:"TimeOnPage",label:e.pathname,value:Math.round(t/1e3)})}};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[e]),null},lv=()=>(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)(wg,{}),(0,Pe.jsx)(Eg,{}),(0,Pe.jsx)(Bg,{}),(0,Pe.jsx)(tv,{}),(0,Pe.jsx)(Lg,{})]});const cv=function(){const{user:e}=eg();return(0,i.useEffect)((()=>{window.addEventListener("load",(()=>{if(window.performance){const e=window.performance.timing,t=e.loadEventEnd-e.navigationStart;Re.Ay.event({category:"Performance",action:"PageLoad",value:Math.round(t),nonInteraction:!0})}}))}),[]),(0,Pe.jsx)(Te,{children:(0,Pe.jsxs)("div",{className:"app",children:[(0,Pe.jsx)(av,{}),(0,Pe.jsx)(De,{}),(0,Pe.jsxs)(ve,{children:[(0,Pe.jsx)(me,{path:"/login",element:(0,Pe.jsx)(ov,{})}),(0,Pe.jsx)(me,{path:"/",element:(0,Pe.jsx)(lv,{})}),(0,Pe.jsx)(me,{path:"/upgrade",element:(0,Pe.jsx)(Pg,{})}),(0,Pe.jsx)(me,{path:"/privacy-policy",element:(0,Pe.jsx)(Sg,{})}),(0,Pe.jsx)(me,{path:"/terms-of-service",element:(0,Pe.jsx)(Tg,{})}),(0,Pe.jsx)(me,{path:"/attributions",element:(0,Pe.jsx)(Ng,{})}),(0,Pe.jsx)(me,{path:"/test-upgrade",element:(0,Pe.jsx)(rv,{})}),(0,Pe.jsx)(me,{path:"/success",element:(0,Pe.jsx)(iv,{})})]}),(0,Pe.jsx)(Ag,{}),(0,Pe.jsx)(sv,{})]})})};o.createRoot(document.getElementById("root")).render((0,Pe.jsx)(i.StrictMode,{children:(0,Pe.jsx)(tg,{children:(0,Pe.jsx)(cv,{})})}))})();
//# sourceMappingURL=main.f893deb5.js.map